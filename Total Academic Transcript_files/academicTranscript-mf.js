//# sourceMappingURL=academicTranscript-mf.js.map
/*
 ui-select
 http://github.com/angular-ui/ui-select
 Version: 0.16.0 - 2016-03-23T20:51:56.609Z
 License: MIT
*/
var process=process||{env:{NODE_ENV:"development"}};
!function(){function r(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function x(a,b){return b>a?-1:a>b?1:a>=b?0:NaN}function C(a){return null===a?NaN:+a}function z(a){return!isNaN(a)}function p(a){return{left:function(b,c,d,e){3>arguments.length&&(d=0);for(4>arguments.length&&(e=b.length);e>d;){var f=d+e>>>1;0>a(b[f],c)?d=f+1:e=f}return d},right:function(b,c,d,e){3>arguments.length&&(d=0);for(4>arguments.length&&(e=b.length);e>d;){var f=d+e>>>1;0<a(b[f],
c)?e=f:d=f+1}return d}}}function l(a){return a.length}function t(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function y(){this._=Object.create(null)}function m(a){return(a+="")===jh||a[0]===Od?Od+a:a}function v(a){return(a+="")[0]===Od?a.slice(1):a}function D(a){return m(a)in this._}function P(a){return(a=m(a))in this._&&delete this._[a]}function W(){var a=[],b;for(b in this._)a.push(v(b));return a}function I(){var a=0,b;for(b in this._)++a;return a}function S(){for(var a in this._)return!1;
return!0}function N(){this._=Object.create(null)}function L(a){return a}function Z(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function w(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=Xe.length;d>c;++c){var e=Xe[c]+b;if(e in a)return e}}function fa(){}function ca(){}function oa(a){function b(){for(var e,f=c,k=-1,g=f.length;++k<g;)(e=f[k].on)&&e.apply(this,arguments);return a}var c=[],d=new y;return b.on=function(e,f){var k,g=d.get(e);return 2>
arguments.length?g&&g.on:(g&&(g.on=null,c=c.slice(0,k=c.indexOf(g)).concat(c.slice(k+1)),d.remove(e)),f&&c.push(d.set(e,{on:f})),a)},b}function T(){E.event.preventDefault()}function ea(){for(var a,b=E.event;a=b.sourceEvent;)b=a;return b}function qa(a){for(var b=new ca,c=0,d=arguments.length;++c<d;)b[arguments[c]]=oa(b);return b.of=function(e,f){return function(k){try{var g=k.sourceEvent=E.event;k.target=a;E.event=k;b[k.type].apply(e,f)}finally{E.event=g}}},b}function xa(a){return Pc(a,Ya),a}function ja(a){return"function"==
typeof a?a:function(){return Pd(a,this)}}function V(a){return"function"==typeof a?a:function(){return Qd(a,this)}}function ha(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function k(){var h=b.apply(this,arguments);null==h?this.removeAttribute(a):this.setAttribute(a,h)}function g(){var h=b.apply(this,arguments);null==h?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,
a.local,h)}return a=E.ns.qualify(a),null==b?a.local?d:c:"function"==typeof b?a.local?g:k:a.local?f:e}function Ca(a){return new RegExp("(?:^|\\s+)"+E.requote(a)+"(?:\\s+|$)","g")}function na(a,b){function c(){for(var f=-1;++f<e;)a[f](this,b)}function d(){for(var f=-1,k=b.apply(this,arguments);++f<e;)a[f](this,k)}a=(a+"").trim().split(/^|\s+/).map(za);var e=a.length;return"function"==typeof b?d:c}function za(a){var b=Ca(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||
"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",(e+" "+a).trim().replace(/\s+/g," "))):c.setAttribute("class",e.replace(b," ").trim().replace(/\s+/g," "))}}function Ea(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var k=b.apply(this,arguments);null==k?this.style.removeProperty(a):this.style.setProperty(a,k,c)}return null==b?d:"function"==typeof b?f:e}function Va(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var f=
b.apply(this,arguments);null==f?delete this[a]:this[a]=f}return null==b?c:"function"==typeof b?e:d}function db(a){function b(){var d=this.ownerDocument,e=this.namespaceURI;return e===Rd&&d.documentElement.namespaceURI===Rd?d.createElement(a):d.createElementNS(e,a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=E.ns.qualify(a)).local?c:b}function Xa(){var a=this.parentNode;a&&a.removeChild(this)}function Ma(a){return function(){return Sd(this,
a)}}function Oa(a){return arguments.length||(a=x),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function Ua(a,b){for(var c=0,d=a.length;d>c;c++)for(var e,f=a[c],k=0,g=f.length;g>k;k++)(e=f[k])&&b(e,k,c);return a}function kb(a){return Pc(a,Nb),a}function Sa(a){var b,c;return function(d,e,f){d=a[f].update;var k=d.length;f!=c&&(c=f,b=0);for(e>=b&&(b=e+1);!(e=d[b])&&++b<k;);return e}}function $a(a,b,c){function d(){var q=this[k];q&&(this.removeEventListener(a,q,q.$),delete this[k])}function e(){var q=
h(b,Kb(arguments));d.call(this);this.addEventListener(a,this[k]=q,q.$=c);q._=b}function f(){var q,u=new RegExp("^__on([^.]+)"+E.requote(a)+"$"),A;for(A in this)if(q=A.match(u)){var B=this[A];this.removeEventListener(q[1],B,B.$);delete this[A]}}var k="__on"+a,g=a.indexOf("."),h=bb;0<g&&(a=a.slice(0,g));var n=Td.get(a);return n&&(a=n,h=eb),g?b?e:d:b?fa:f}function bb(a,b){return function(c){var d=E.event;E.event=c;b[0]=this.__data__;try{a.apply(this,b)}finally{E.event=d}}}function eb(a,b){var c=bb(a,
b);return function(d){var e=d.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||c.call(this,d)}}function H(a){var b=".dragsuppress-"+ ++kh,c="click"+b,d=E.select(r(a)).on("touchmove"+b,T).on("dragstart"+b,T).on("selectstart"+b,T);if(null==Zb&&(Zb="onselectstart"in a?!1:w(a.style,"userSelect")),Zb){var e=(a&&(a.ownerDocument||a.document||a).documentElement).style,f=e[Zb];e[Zb]="none"}return function(k){if(d.on(b,null),Zb&&(e[Zb]=f),k){var g=function(){d.on(c,null)};d.on(c,function(){T();
g()},!0);setTimeout(g,0)}}}function aa(a,b){b.changedTouches&&(b=b.changedTouches[0]);var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();if(0>Ud&&(c=r(a),c.scrollX||c.scrollY)){c=E.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var e=c[0][0].getScreenCTM();Ud=!(e.f||e.e);c.remove()}return Ud?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY),d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}d=a.getBoundingClientRect();
return[b.clientX-d.left-a.clientLeft,b.clientY-d.top-a.clientTop]}function pa(){return E.event.changedTouches[0].identifier}function Ha(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function Qa(a){return 1<a?0:-1>a?Ja:Math.acos(a)}function Wa(a){return 1<a?lb:-1>a?-lb:Math.asin(a)}function rb(a){return((a=Math.exp(a))+1/a)/2}function sb(a){return(a=Math.sin(a/2))*a}function ob(){}function fb(a,b,c){return this instanceof fb?(this.h=+a,this.s=+b,void(this.l=+c)):2>arguments.length?a instanceof
fb?new fb(a.h,a.s,a.l):ab(""+a,nb,fb):new fb(a,b,c)}function Gb(a,b,c){function d(k){return 360<k?k-=360:0>k&&(k+=360),60>k?e+(f-e)*k/60:180>k?f:240>k?e+(f-e)*(240-k)/60:e}var e,f;return a=isNaN(a)?0:0>(a%=360)?a+360:a,b=isNaN(b)?0:0>b?0:1<b?1:b,c=0>c?0:1<c?1:c,f=.5>=c?c*(1+b):c+b-c*b,e=2*c-f,new ra(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function va(a,b,c){return this instanceof va?(this.h=+a,this.c=+b,void(this.l=+c)):2>arguments.length?a instanceof va?new va(a.h,
a.c,a.l):a instanceof Ba?Ra(a.l,a.a,a.b):Ra((a=Cb((a=E.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new va(a,b,c)}function sa(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new Ba(c,Math.cos(a*=Ka)*b,Math.sin(a)*b)}function Ba(a,b,c){return this instanceof Ba?(this.l=+a,this.a=+b,void(this.b=+c)):2>arguments.length?a instanceof Ba?new Ba(a.l,a.a,a.b):a instanceof va?sa(a.h,a.c,a.l):Cb((a=ra(a)).r,a.g,a.b):new Ba(a,b,c)}function Da(a,b,c){a=(a+16)/116;b=a+b/500;c=a-c/200;return b=ya(b)*Ye,a=ya(a)*Ze,c=ya(c)*$e,new ra(ta(3.2404542*
b-1.5371385*a-.4985314*c),ta(-.969266*b+1.8760108*a+.041556*c),ta(.0556434*b-.2040259*a+1.0572252*c))}function Ra(a,b,c){return 0<a?new va(Math.atan2(c,b)*ib,Math.sqrt(b*b+c*c),a):new va(NaN,NaN,a)}function ya(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function ka(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function ta(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function ra(a,b,c){return this instanceof ra?(this.r=~~a,this.g=~~b,void(this.b=~~c)):2>arguments.length?
a instanceof ra?new ra(a.r,a.g,a.b):ab(""+a,ra,Gb):new ra(a,b,c)}function Pa(a){return new ra(a>>16,a>>8&255,255&a)+""}function wb(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function ab(a,b,c){var d,e,f,k=0,g=0,h=0;if(d=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()))switch(e=d[2].split(","),d[1]){case "hsl":return c(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case "rgb":return b(Vd(e[0]),Vd(e[1]),Vd(e[2]))}return(f=Qc.get(a))?b(f.r,f.g,f.b):(null==a||"#"!==
a.charAt(0)||isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(k=(3840&f)>>4,k|=k>>4,g=240&f,g|=g>>4,h=15&f,h|=h<<4):7===a.length&&(k=(16711680&f)>>16,g=(65280&f)>>8,h=255&f)),b(k,g,h))}function nb(a,b,c){var d,e,f=Math.min(a/=255,b/=255,c/=255),k=Math.max(a,b,c),g=k-f,h=(k+f)/2;return g?(e=.5>h?g/(k+f):g/(2-k-f),d=a==k?(b-c)/g+(c>b?6:0):b==k?(c-a)/g+2:(a-b)/g+4,d*=60):(d=NaN,e=0<h&&1>h?0:d),new fb(d,e,h)}function Cb(a,b,c){a=Wd(a);b=Wd(b);c=Wd(c);var d=ka((.4124564*a+.3575761*b+.1804375*c)/Ye),e=
ka((.2126729*a+.7151522*b+.072175*c)/Ze);a=ka((.0193339*a+.119192*b+.9503041*c)/$e);return Ba(116*e-16,500*(d-e),200*(e-a))}function Wd(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Vd(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function cb(a){return"function"==typeof a?a:function(){return a}}function Xd(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),Rc(b,c,a,d)}}function Rc(a,b,c,d){function e(){var q=
h.status,u;if(u=!q)u=(u=h.responseType)&&"text"!==u?h.response:h.responseText;if(u||200<=q&&300>q||304===q){try{var A=c.call(f,h)}catch(B){return void k.error.call(f,B)}k.load.call(f,A)}else k.error.call(f,h)}var f={},k=E.dispatch("beforesend","progress","load","error"),g={},h=new XMLHttpRequest,n=null;return!this.XDomainRequest||"withCredentials"in h||!/^(http(s)?:)?\/\//.test(a)||(h=new XDomainRequest),"onload"in h?h.onload=h.onerror=e:h.onreadystatechange=function(){3<h.readyState&&e()},h.onprogress=
function(q){var u=E.event;E.event=q;try{k.progress.call(f,h)}finally{E.event=u}},f.header=function(q,u){return q=(q+"").toLowerCase(),2>arguments.length?g[q]:(null==u?delete g[q]:g[q]=u+"",f)},f.mimeType=function(q){return arguments.length?(b=null==q?null:q+"",f):b},f.responseType=function(q){return arguments.length?(n=q,f):n},f.response=function(q){return c=q,f},["get","post"].forEach(function(q){f[q]=function(){return f.send.apply(f,[q].concat(Kb(arguments)))}}),f.send=function(q,u,A){if(2===arguments.length&&
"function"==typeof u&&(A=u,u=null),h.open(q,a,!0),null==b||"accept"in g||(g.accept=b+",*/*"),h.setRequestHeader)for(var B in g)h.setRequestHeader(B,g[B]);return null!=b&&h.overrideMimeType&&h.overrideMimeType(b),null!=n&&(h.responseType=n),null!=A&&f.on("error",A).on("load",function(G){A(null,G)}),k.beforesend.call(f,h),h.send(null==u?null:u),f},f.abort=function(){return h.abort(),f},E.rebind(f,k,"on"),null==d?f:f.get(lh(d))}function lh(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Sc(a,
b,c){var d=arguments.length;2>d&&(b=0);3>d&&(c=Date.now());d={c:a,t:c+b,n:null};return Tc?Tc.n=d:Uc=d,Tc=d,Vc||(Wc=clearTimeout(Wc),Vc=1,af(Yd)),d}function Yd(){var a=bf();a=cf()-a;24<a?(isFinite(a)&&(clearTimeout(Wc),Wc=setTimeout(Yd,a)),Vc=0):(Vc=1,af(Yd))}function bf(){for(var a=Date.now(),b=Uc;b;)a>=b.t&&b.c(a-b.t)&&(b.c=null),b=b.n;return a}function cf(){for(var a,b=Uc,c=1/0;b;)b.c?(b.t<c&&(c=b.t),b=(a=b).n):b=a?a.n=b.n:Uc=b.n;return Tc=a,c}function Zd(a,b){return b-(a?Math.ceil(Math.log(a)/
Math.LN10):1)}function mh(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(k,g){for(var h=k.length,n=[],q=0,u=d[0],A=0;0<h&&0<u&&(A+u+1>g&&(u=Math.max(1,g-A)),n.push(k.substring(h-=u,h+u)),!((A+=u+1)>g));)u=d[q=(q+1)%d.length];return n.reverse().join(c)}:L;return function(k){k=df.exec(k);var g=k[1]||" ",h=k[2]||">",n=k[3]||"-",q=k[4]||"",u=k[5],A=+k[6],B=k[7],G=k[8],Q=k[9],K=1,M="",O="",R=!1,U=!0;switch(G&&(G=+G.substring(1)),(u||"0"===g&&"="===h)&&(u=g="0",h="="),Q){case "n":B=
!0;Q="g";break;case "%":K=100;O="%";Q="f";break;case "p":K=100;O="%";Q="r";break;case "b":case "o":case "x":case "X":"#"===q&&(M="0"+Q.toLowerCase());case "c":U=!1;case "d":R=!0;G=0;break;case "s":K=-1,Q="r"}"$"===q&&(M=e[0],O=e[1]);"r"!=Q||G||(Q="g");null!=G&&("g"==Q?G=Math.max(1,Math.min(21,G)):"e"!=Q&&"f"!=Q||(G=Math.max(0,Math.min(20,G))));Q=nh.get(Q)||oh;var X=u&&B;return function(F){var J=O;if(R&&F%1)return"";var Y=0>F||0===F&&0>1/F?(F=-F,"-"):"-"===n?"":n;0>K?(J=E.formatPrefix(F,G),F=J.scale(F),
J=J.symbol+O):F*=K;F=Q(F,G);var ba,da,ia=F.lastIndexOf(".");0>ia?(ia=U?F.lastIndexOf("e"):-1,0>ia?(ba=F,da=""):(ba=F.substring(0,ia),da=F.substring(ia))):(ba=F.substring(0,ia),da=b+F.substring(ia+1));!u&&B&&(ba=f(ba,1/0));ia=M.length+ba.length+da.length+(X?0:Y.length);var la=A>ia?Array(ia=A-ia+1).join(g):"";return X&&(ba=f(la+ba,la.length?A-da.length:1/0)),Y+=M,F=ba+da,("<"===h?Y+F+la:">"===h?la+Y+F:"^"===h?la.substring(0,ia>>=1)+Y+F+la.substring(ia):Y+(X?F:la+F))+J}}}function oh(a){return a+""}function Ob(){this._=
new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function $b(a,b,c){function d(h){var n=a(h),q=f(n,1);return q-h>h-n?n:q}function e(h){return b(h=a(new vb(h-1)),1),h}function f(h,n){return b(h=new vb(+h),n),h}function k(h,n,q){h=e(h);var u=[];if(1<q)for(;n>h;)c(h)%q||u.push(new Date(+h)),b(h,1);else for(;n>h;)u.push(new Date(+h)),b(h,1);return u}a.floor=a;a.round=d;a.ceil=e;a.offset=f;a.range=k;var g=a.utc=Xc(a);return g.floor=g,g.round=Xc(d),g.ceil=Xc(e),g.offset=Xc(f),g.range=
function(h,n,q){try{vb=Ob;var u=new Ob;return u._=h,k(u,n,q)}finally{vb=Date}},a}function Xc(a){return function(b,c){try{vb=Ob;var d=new Ob;return d._=b,a(d,c)._}finally{vb=Date}}}function ph(a){function b(F){function J(ba){for(var da,ia,la,Fa=[],Ia=-1,La=0;++Ia<Y;)37===F.charCodeAt(Ia)&&(Fa.push(F.slice(La,Ia)),null!=(ia=ef[da=F.charAt(++Ia)])&&(da=F.charAt(++Ia)),(la=U[da])&&(da=la(ba,null==ia?"e"===da?" ":"0":ia)),Fa.push(da),La=Ia+1);return Fa.push(F.slice(La,Ia)),Fa.join("")}var Y=F.length;return J.parse=
function(ba){var da={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(da,F,ba,0)!=ba.length)return null;"p"in da&&(da.H=da.H%12+12*da.p);ba=null!=da.Z&&vb!==Ob;var ia=new (ba?Ob:vb);return"j"in da?ia.setFullYear(da.y,0,da.j):"W"in da||"U"in da?("w"in da||(da.w="W"in da?1:0),ia.setFullYear(da.y,0,1),ia.setFullYear(da.y,0,"W"in da?(da.w+6)%7+7*da.W-(ia.getDay()+5)%7:da.w+7*da.U-(ia.getDay()+6)%7)):ia.setFullYear(da.y,da.m,da.d),ia.setHours(da.H+(da.Z/100|0),da.M+da.Z%100,da.S,da.L),ba?ia._:ia},J.toString=
function(){return F},J}function c(F,J,Y,ba){for(var da,ia,la,Fa=0,Ia=J.length,La=Y.length;Ia>Fa;){if(ba>=La)return-1;if(da=J.charCodeAt(Fa++),37===da){if(la=J.charAt(Fa++),ia=X[la in ef?J.charAt(Fa++):la],!ia||0>(ba=ia(F,Y,ba)))return-1}else if(da!=Y.charCodeAt(ba++))return-1}return ba}var d=a.dateTime,e=a.date,f=a.time,k=a.periods,g=a.days,h=a.shortDays,n=a.months,q=a.shortMonths;b.utc=function(F){function J(ba){try{vb=Ob;var da=new vb;return da._=ba,Y(da)}finally{vb=Date}}var Y=b(F);return J.parse=
function(ba){try{vb=Ob;var da=Y.parse(ba);return da&&da._}finally{vb=Date}},J.toString=Y.toString,J};b.multi=b.utc.multi=qh;var u=E.map(),A=Yc(g),B=Zc(g),G=Yc(h),Q=Zc(h),K=Yc(n),M=Zc(n),O=Yc(q),R=Zc(q);k.forEach(function(F,J){u.set(F.toLowerCase(),J)});var U={a:function(F){return h[F.getDay()]},A:function(F){return g[F.getDay()]},b:function(F){return q[F.getMonth()]},B:function(F){return n[F.getMonth()]},c:b(d),d:function(F,J){return yb(F.getDate(),J,2)},e:function(F,J){return yb(F.getDate(),J,2)},
H:function(F,J){return yb(F.getHours(),J,2)},I:function(F,J){return yb(F.getHours()%12||12,J,2)},j:function(F,J){return yb(1+Aa.dayOfYear(F),J,3)},L:function(F,J){return yb(F.getMilliseconds(),J,3)},m:function(F,J){return yb(F.getMonth()+1,J,2)},M:function(F,J){return yb(F.getMinutes(),J,2)},p:function(F){return k[+(12<=F.getHours())]},S:function(F,J){return yb(F.getSeconds(),J,2)},U:function(F,J){return yb(Aa.sundayOfYear(F),J,2)},w:function(F){return F.getDay()},W:function(F,J){return yb(Aa.mondayOfYear(F),
J,2)},x:b(e),X:b(f),y:function(F,J){return yb(F.getFullYear()%100,J,2)},Y:function(F,J){return yb(F.getFullYear()%1E4,J,4)},Z:rh,"%":function(){return"%"}},X={a:function(F,J,Y){G.lastIndex=0;return(J=G.exec(J.slice(Y)))?(F.w=Q.get(J[0].toLowerCase()),Y+J[0].length):-1},A:function(F,J,Y){A.lastIndex=0;return(J=A.exec(J.slice(Y)))?(F.w=B.get(J[0].toLowerCase()),Y+J[0].length):-1},b:function(F,J,Y){O.lastIndex=0;return(J=O.exec(J.slice(Y)))?(F.m=R.get(J[0].toLowerCase()),Y+J[0].length):-1},B:function(F,
J,Y){K.lastIndex=0;return(J=K.exec(J.slice(Y)))?(F.m=M.get(J[0].toLowerCase()),Y+J[0].length):-1},c:function(F,J,Y){return c(F,U.c.toString(),J,Y)},d:ff,e:ff,H:gf,I:gf,j:sh,L:th,m:uh,M:vh,p:function(F,J,Y){J=u.get(J.slice(Y,Y+=2).toLowerCase());return null==J?-1:(F.p=J,Y)},S:wh,U:xh,w:yh,W:zh,x:function(F,J,Y){return c(F,U.x.toString(),J,Y)},X:function(F,J,Y){return c(F,U.X.toString(),J,Y)},y:Ah,Y:Bh,Z:Ch,"%":Dh};return b}function yb(a,b,c){var d=0>a?"-":"";a=(d?-a:a)+"";var e=a.length;return d+(c>
e?Array(c-e+1).join(b)+a:a)}function Yc(a){return new RegExp("^(?:"+a.map(E.requote).join("|")+")","i")}function Zc(a){for(var b=new y,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function yh(a,b,c){mb.lastIndex=0;return(b=mb.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function xh(a,b,c){mb.lastIndex=0;return(b=mb.exec(b.slice(c)))?(a.U=+b[0],c+b[0].length):-1}function zh(a,b,c){mb.lastIndex=0;return(b=mb.exec(b.slice(c)))?(a.W=+b[0],c+b[0].length):-1}function Bh(a,b,c){mb.lastIndex=
0;return(b=mb.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function Ah(a,b,c){mb.lastIndex=0;if(b=mb.exec(b.slice(c,c+2))){var d=+b[0];a=(a.y=d+(68<d?1900:2E3),c+b[0].length)}else a=-1;return a}function Ch(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function uh(a,b,c){mb.lastIndex=0;return(b=mb.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function ff(a,b,c){mb.lastIndex=0;return(b=mb.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function sh(a,b,c){mb.lastIndex=
0;return(b=mb.exec(b.slice(c,c+3)))?(a.j=+b[0],c+b[0].length):-1}function gf(a,b,c){mb.lastIndex=0;return(b=mb.exec(b.slice(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function vh(a,b,c){mb.lastIndex=0;return(b=mb.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function wh(a,b,c){mb.lastIndex=0;return(b=mb.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function th(a,b,c){mb.lastIndex=0;return(b=mb.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function rh(a){var b=a.getTimezoneOffset();a=0<b?
"-":"+";var c=Na(b)/60|0;b=Na(b)%60;return a+yb(c,"0",2)+yb(b,"0",2)}function Dh(a,b,c){hf.lastIndex=0;return(a=hf.exec(b.slice(c,c+1)))?c+a[0].length:-1}function qh(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(d){for(var e=0,f=a[e];!f[1](d);)f=a[++e];return f[0](d)}}function $d(){}function jf(a,b,c){var d=c.s=a+b,e=d-a;c.t=a-(d-e)+(b-e)}function $c(a,b){a&&kf.hasOwnProperty(a.type)&&kf[a.type](a,b)}function ae(a,b,c){var d=-1,e=a.length-c;for(b.lineStart();++d<e;)c=a[d],
b.point(c[0],c[1],c[2]);b.lineEnd()}function lf(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)ae(a[c],b,1);b.polygonEnd()}function Eh(){function a(k,g){k*=Ka;g=g*Ka/2+Ja/4;var h=k-d,n=0<=h?1:-1;h*=n;var q=Math.cos(g);g=Math.sin(g);var u=f*g;ac.add(Math.atan2(u*n*Math.sin(h),e*q+u*Math.cos(h)));d=k;e=q;f=g}var b,c,d,e,f;Db.point=function(k,g){Db.point=a;d=(b=k)*Ka;e=Math.cos(g=(c=g)*Ka/2+Ja/4);f=Math.sin(g)};Db.lineEnd=function(){a(b,c)}}function bc(a){var b=a[0];a=a[1];var c=Math.cos(a);return[c*
Math.cos(b),c*Math.sin(b),Math.sin(a)]}function ad(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function kc(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function be(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function bd(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function cd(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function dd(a){return[Math.atan2(a[1],a[0]),Wa(a[2])]}function ed(a,b){return Na(a[0]-b[0])<wa&&Na(a[1]-b[1])<wa}function ce(a,b){a*=Ka;var c=
Math.cos(b*=Ka);wc(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function wc(a,b,c){++xc;cc+=(a-cc)/xc;dc+=(b-dc)/xc;Pb+=(c-Pb)/xc}function mf(){function a(e,f){e*=Ka;var k=Math.cos(f*=Ka),g=k*Math.cos(e);e=k*Math.sin(e);f=Math.sin(f);var h=Math.atan2(Math.sqrt((h=c*f-d*e)*h+(h=d*g-b*f)*h+(h=b*e-c*g)*h),b*g+c*e+d*f);fd+=h;Sb+=h*(b+(b=g));Tb+=h*(c+(c=e));Lb+=h*(d+(d=f));wc(b,c,d)}var b,c,d;Hb.point=function(e,f){e*=Ka;var k=Math.cos(f*=Ka);b=k*Math.cos(e);c=k*Math.sin(e);d=Math.sin(f);Hb.point=a;wc(b,c,
d)}}function nf(){Hb.point=ce}function Fh(){function a(k,g){k*=Ka;var h=Math.cos(g*=Ka),n=h*Math.cos(k);k=h*Math.sin(k);g=Math.sin(g);h=e*g-f*k;var q=f*n-d*g,u=d*k-e*n,A=Math.sqrt(h*h+q*q+u*u),B=d*n+e*k+f*g,G=A&&-Qa(B)/A;A=Math.atan2(A,B);lc+=G*h;mc+=G*q;Ub+=G*u;fd+=A;Sb+=A*(d+(d=n));Tb+=A*(e+(e=k));Lb+=A*(f+(f=g));wc(d,e,f)}var b,c,d,e,f;Hb.point=function(k,g){b=k;c=g;Hb.point=a;k*=Ka;var h=Math.cos(g*=Ka);d=h*Math.cos(k);e=h*Math.sin(k);f=Math.sin(g);wc(d,e,f)};Hb.lineEnd=function(){a(b,c);Hb.lineEnd=
nf;Hb.point=ce}}function of(a,b){function c(d,e){return d=a(d,e),b(d[0],d[1])}return a.invert&&b.invert&&(c.invert=function(d,e){return d=b.invert(d,e),d&&a.invert(d[0],d[1])}),c}function yc(){return!0}function pf(a,b,c,d,e){var f=[],k=[];if(a.forEach(function(u){if(!(0>=(A=u.length-1))){var A,B=u[0],G=u[A];if(ed(B,G)){e.lineStart();for(G=0;A>G;++G)e.point((B=u[G])[0],B[1]);return void e.lineEnd()}A=new gd(B,u,null,!0);B=new gd(B,null,A,!1);A.o=B;f.push(A);k.push(B);A=new gd(G,u,null,!1);B=new gd(G,
null,A,!0);A.o=B;f.push(A);k.push(B)}}),k.sort(b),qf(f),qf(k),f.length){a=0;b=c;for(c=k.length;c>a;++a)k[a].e=b=!b;for(var g,h=f[0];;){for(var n=h,q=!0;n.v;)if((n=n.n)===h)return;b=n.z;e.lineStart();do{if(n.v=n.o.v=!0,n.e){if(q)for(a=0,c=b.length;c>a;++a)e.point((g=b[a])[0],g[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(q)for(b=n.p.z,a=b.length-1;0<=a;--a)e.point((g=b[a])[0],g[1]);else d(n.x,n.p.x,-1,e);n=n.p}n=n.o;b=n.z;q=!q}while(!n.v);e.lineEnd()}}}function qf(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<
b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0];c.p=e}}function gd(a,b,c,d){this.x=a;this.z=b;this.o=c;this.e=d;this.v=!1;this.n=this.p=null}function rf(a,b,c,d){return function(e,f){function k(F,J){var Y=e(F,J);a(F=Y[0],J=Y[1])&&f.point(F,J)}function g(F,J){F=e(F,J);K.point(F[0],F[1])}function h(){O.point=g;K.lineStart()}function n(){O.point=k;K.lineEnd()}function q(F,J){Q.push([F,J]);F=e(F,J);U.point(F[0],F[1])}function u(){U.lineStart();Q=[]}function A(){q(Q[0][0],Q[0][1]);U.lineEnd();var F=U.clean();var J=
R.buffer(),Y=J.length;if(Q.pop(),G.push(Q),Q=null,Y)if(1&F){F=J[0];var ba;Y=F.length-1;J=-1;if(0<Y){X||(f.polygonStart(),X=!0);for(f.lineStart();++J<Y;)f.point((ba=F[J])[0],ba[1]);f.lineEnd()}}else 1<Y&&2&F&&J.push(J.pop().concat(J.shift())),B.push(J.filter(Gh))}var B,G,Q,K=b(f),M=e.invert(d[0],d[1]),O={point:k,lineStart:h,lineEnd:n,polygonStart:function(){O.point=q;O.lineStart=u;O.lineEnd=A;B=[];G=[]},polygonEnd:function(){O.point=k;O.lineStart=h;O.lineEnd=n;B=E.merge(B);var F=M;var J=G;var Y=F[0],
ba=F[1],da=[Math.sin(Y),-Math.cos(Y),0],ia=0,la=0;ac.reset();for(var Fa=0,Ia=J.length;Ia>Fa;++Fa){var La=J[Fa],ma=La.length;if(ma){var Ga=La[0],Ta=Ga[0];F=Ga[1]/2+Ja/4;for(var Za=Math.sin(F),ub=Math.cos(F),gb=1;;){gb===ma&&(gb=0);F=La[gb];var tb=F[0],pb=F[1]/2+Ja/4,zb=Math.sin(pb);pb=Math.cos(pb);var Ab=tb-Ta,zc=0<=Ab?1:-1,Ac=zc*Ab,ec=Ac>Ja;Za*=zb;if(ac.add(Math.atan2(Za*zc*Math.sin(Ac),ub*pb+Za*Math.cos(Ac))),ia+=ec?Ab+zc*Eb:Ab,ec^Ta>=Y^tb>=Y)Ga=kc(bc(Ga),bc(F)),cd(Ga),Ta=kc(da,Ga),cd(Ta),Ta=(ec^
0<=Ab?-1:1)*Wa(Ta[2]),(ba>Ta||ba===Ta&&(Ga[0]||Ga[1]))&&(la+=ec^0<=Ab?1:-1);if(!gb++)break;Ta=tb;Za=zb;ub=pb;Ga=F}}}J=(-wa>ia||wa>ia&&-wa>ac)^1&la;B.length?(X||(f.polygonStart(),X=!0),pf(B,Hh,J,c,f)):J&&(X||(f.polygonStart(),X=!0),f.lineStart(),c(null,null,1,f),f.lineEnd());X&&(f.polygonEnd(),X=!1);B=G=null},sphere:function(){f.polygonStart();f.lineStart();c(null,null,1,f);f.lineEnd();f.polygonEnd()}},R=sf(),U=b(R),X=!1;return O}}function Gh(a){return 1<a.length}function sf(){var a,b=[];return{lineStart:function(){b.push(a=
[])},point:function(c,d){a.push([c,d])},lineEnd:fa,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){1<b.length&&b.push(b.pop().concat(b.shift()))}}}function Hh(a,b){return(0>(a=a.x)[0]?a[1]-lb-wa:lb-a[1])-(0>(b=b.x)[0]?b[1]-lb-wa:lb-b[1])}function Ih(a){function b(h,n){return Math.cos(h)*Math.cos(n)>e}function c(h,n,q){var u=bc(h),A=bc(n),B=[1,0,0];A=kc(u,A);var G=ad(A,A);u=A[0];var Q=G-u*u;if(!Q)return!q&&h;G=e*G/Q;Q=-e*u/Q;u=kc(B,A);B=bd(B,G);A=bd(A,Q);be(B,A);A=ad(B,u);G=ad(u,
u);Q=A*A-G*(ad(B,B)-1);if(!(0>Q)){var K=Math.sqrt(Q);Q=bd(u,(-A-K)/G);if(be(Q,B),Q=dd(Q),!q)return Q;var M;q=h[0];var O=n[0];h=h[1];n=n[1];q>O&&(M=q,q=O,O=M);var R=O-q,U=Na(R-Ja)<wa,X=U||wa>R;if(!U&&h>n&&(M=h,h=n,n=M),X?U?0<h+n^Q[1]<(Na(Q[0]-q)<wa?h:n):h<=Q[1]&&Q[1]<=n:R>Ja^(q<=Q[0]&&Q[0]<=O))return M=bd(u,(-A+K)/G),be(M,B),[Q,dd(M)]}}function d(h,n){var q=f?a:Ja-a,u=0;return-q>h?u|=1:h>q&&(u|=2),-q>n?u|=4:n>q&&(u|=8),u}var e=Math.cos(a),f=0<e,k=Na(e)>wa,g=de(a,6*Ka);return rf(b,function(h){var n,
q,u,A,B;return{lineStart:function(){A=u=!1;B=1},point:function(G,Q){var K,M=[G,Q],O=b(G,Q);G=f?O?0:d(G,Q):O?d(G+(0>G?Ja:-Ja),Q):0;if(!n&&(A=u=O)&&h.lineStart(),O!==u&&(K=c(n,M),(ed(n,K)||ed(M,K))&&(M[0]+=wa,M[1]+=wa,O=b(M[0],M[1]))),O!==u)B=0,O?(h.lineStart(),K=c(M,n),h.point(K[0],K[1])):(K=c(n,M),h.point(K[0],K[1]),h.lineEnd()),n=K;else if(k&&n&&f^O){var R;G&q||!(R=c(M,n,!0))||(B=0,f?(h.lineStart(),h.point(R[0][0],R[0][1]),h.point(R[1][0],R[1][1]),h.lineEnd()):(h.point(R[1][0],R[1][1]),h.lineEnd(),
h.lineStart(),h.point(R[0][0],R[0][1])))}!O||n&&ed(n,M)||h.point(M[0],M[1]);n=M;u=O;q=G},lineEnd:function(){u&&h.lineEnd();n=null},clean:function(){return B|(A&&u)<<1}}},g,f?[0,-a]:[-Ja,a-Ja])}function tf(a,b,c,d){return function(e){var f,k=e.a,g=e.b,h=k.x;k=k.y;var n=0,q=1,u=g.x-h;g=g.y-k;if(f=a-h,u||!(0<f)){if(f/=u,0>u){if(n>f)return;q>f&&(q=f)}else if(0<u){if(f>q)return;f>n&&(n=f)}if(f=c-h,u||!(0>f)){if(f/=u,0>u){if(f>q)return;f>n&&(n=f)}else if(0<u){if(n>f)return;q>f&&(q=f)}if(f=b-k,g||!(0<f)){if(f/=
g,0>g){if(n>f)return;q>f&&(q=f)}else if(0<g){if(f>q)return;f>n&&(n=f)}if(f=d-k,g||!(0>f)){if(f/=g,0>g){if(f>q)return;f>n&&(n=f)}else if(0<g){if(n>f)return;q>f&&(q=f)}return 0<n&&(e.a={x:h+n*u,y:k+n*g}),1>q&&(e.b={x:h+q*u,y:k+q*g}),e}}}}}}function uf(a,b,c,d){function e(g,h){return Na(g[0]-a)<wa?0<h?0:3:Na(g[0]-c)<wa?0<h?2:1:Na(g[1]-b)<wa?0<h?1:0:0<h?3:2}function f(g,h){return k(g.x,h.x)}function k(g,h){var n=e(g,1),q=e(h,1);return n!==q?n-q:0===n?h[1]-g[1]:1===n?g[0]-h[0]:2===n?g[1]-h[1]:h[0]-g[0]}
return function(g){function h(da,ia,la,Fa){var Ia=0,La=0;if(null==da||(Ia=e(da,la))!==(La=e(ia,la))||0>k(da,ia)^0<la){do Fa.point(0===Ia||3===Ia?a:c,1<Ia?d:b);while((Ia=(Ia+la+4)%4)!==La)}else Fa.point(ia[0],ia[1])}function n(da,ia){da>=a&&c>=da&&ia>=b&&d>=ia&&g.point(da,ia)}function q(da,ia){da=Math.max(-hd,Math.min(hd,da));ia=Math.max(-hd,Math.min(hd,ia));var la=da>=a&&c>=da&&ia>=b&&d>=ia;if(A&&B.push([da,ia]),U)G=da,Q=ia,K=la,U=!1,la&&(g.lineStart(),g.point(da,ia));else if(la&&R)g.point(da,ia);
else{var Fa={a:{x:M,y:O},b:{x:da,y:ia}};Y(Fa)?(R||(g.lineStart(),g.point(Fa.a.x,Fa.a.y)),g.point(Fa.b.x,Fa.b.y),la||g.lineEnd(),X=!1):la&&(g.lineStart(),g.point(da,ia),X=!1)}M=da;O=ia;R=la}var u,A,B,G,Q,K,M,O,R,U,X,F=g,J=sf(),Y=tf(a,b,c,d),ba={point:n,lineStart:function(){ba.point=q;A&&A.push(B=[]);U=!0;R=!1;M=O=NaN},lineEnd:function(){u&&(q(G,Q),K&&R&&J.rejoin(),u.push(J.buffer()));ba.point=n;R&&g.lineEnd()},polygonStart:function(){g=J;u=[];A=[];X=!0},polygonEnd:function(){g=F;u=E.merge(u);var da=
[a,d];for(var ia=0,la=A.length,Fa=da[1],Ia=0;la>Ia;++Ia)for(var La,ma=1,Ga=A[Ia],Ta=Ga.length,Za=Ga[0];Ta>ma;++ma)La=Ga[ma],Za[1]<=Fa?La[1]>Fa&&0<Ha(Za,La,da)&&++ia:La[1]<=Fa&&0>Ha(Za,La,da)&&--ia,Za=La;da=0!==ia;ia=X&&da;la=u.length;(ia||la)&&(g.polygonStart(),ia&&(g.lineStart(),h(null,null,1,g),g.lineEnd()),la&&pf(u,f,da,h,g),g.polygonEnd());u=A=B=null}};return ba}}function ee(a){var b=0,c=Ja/3,d=fe(a);a=d(b,c);return a.parallels=function(e){return arguments.length?d(b=e[0]*Ja/180,c=e[1]*Ja/180):
[b/Ja*180,c/Ja*180]},a}function vf(a,b){function c(k,g){g=Math.sqrt(e-2*d*Math.sin(g))/d;return[g*Math.sin(k*=d),f-g*Math.cos(k)]}a=Math.sin(a);var d=(a+Math.sin(b))/2,e=1+a*(2*d-a),f=Math.sqrt(e)/d;return c.invert=function(k,g){g=f-g;return[Math.atan2(k,g)/d,Wa((e-(k*k+g*g)*d*d)/(2*d))]},c}function Jh(){function a(f,k){ge+=e*f-d*k;d=f;e=k}var b,c,d,e;Vb.point=function(f,k){Vb.point=a;b=d=f;c=e=k};Vb.lineEnd=function(){a(b,c)}}function Kh(){function a(h,n){k.push("M",h,",",n,f)}function b(h,n){k.push("M",
h,",",n);g.point=c}function c(h,n){k.push("L",h,",",n)}function d(){g.point=a}function e(){k.push("Z")}var f=wf(4.5),k=[],g={point:a,lineStart:function(){g.point=b},lineEnd:d,polygonStart:function(){g.lineEnd=e},polygonEnd:function(){g.lineEnd=d;g.point=a},pointRadius:function(h){return f=wf(h),g},result:function(){if(k.length){var h=k.join("");return k=[],h}}};return g}function wf(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function fc(a,b){cc+=a;dc+=b;++Pb}function xf(){function a(d,
e){var f=d-b,k=e-c;f=Math.sqrt(f*f+k*k);Sb+=f*(b+d)/2;Tb+=f*(c+e)/2;Lb+=f;fc(b=d,c=e)}var b,c;Ib.point=function(d,e){Ib.point=a;fc(b=d,c=e)}}function yf(){Ib.point=fc}function Lh(){function a(f,k){var g=f-d,h=k-e;g=Math.sqrt(g*g+h*h);Sb+=g*(d+f)/2;Tb+=g*(e+k)/2;Lb+=g;g=e*f-d*k;lc+=g*(d+f);mc+=g*(e+k);Ub+=3*g;fc(d=f,e=k)}var b,c,d,e;Ib.point=function(f,k){Ib.point=a;fc(b=d=f,c=e=k)};Ib.lineEnd=function(){a(b,c)}}function Mh(a){function b(h,n){a.moveTo(h+k,n);a.arc(h,n,k,0,Eb)}function c(h,n){a.moveTo(h,
n);g.point=d}function d(h,n){a.lineTo(h,n)}function e(){g.point=b}function f(){a.closePath()}var k=4.5,g={point:b,lineStart:function(){g.point=c},lineEnd:e,polygonStart:function(){g.lineEnd=f},polygonEnd:function(){g.lineEnd=e;g.point=b},pointRadius:function(h){return k=h,g},result:fa};return g}function zf(a){function b(h){return(g?d:c)(h)}function c(h){return Af(h,function(n,q){n=a(n,q);h.point(n[0],n[1])})}function d(h){function n(Fa,Ia){Fa=a(Fa,Ia);h.point(Fa[0],Fa[1])}function q(){J=NaN;la.point=
u;h.lineStart()}function u(Fa,Ia){var La=bc([Fa,Ia]);Ia=a(Fa,Ia);e(J,Y,F,ba,da,ia,J=Ia[0],Y=Ia[1],F=Fa,ba=La[0],da=La[1],ia=La[2],g,h);h.point(J,Y)}function A(){la.point=n;h.lineEnd()}function B(){q();la.point=G;la.lineEnd=Q}function G(Fa,Ia){u(K=Fa,Ia);M=J;O=Y;R=ba;U=da;X=ia;la.point=u}function Q(){e(J,Y,F,ba,da,ia,M,O,K,R,U,X,g,h);la.lineEnd=A;A()}var K,M,O,R,U,X,F,J,Y,ba,da,ia,la={point:n,lineStart:q,lineEnd:A,polygonStart:function(){h.polygonStart();la.lineStart=B},polygonEnd:function(){h.polygonEnd();
la.lineStart=q}};return la}function e(h,n,q,u,A,B,G,Q,K,M,O,R,U,X){var F=G-h,J=Q-n,Y=F*F+J*J;if(Y>4*f&&U--){var ba=u+M,da=A+O,ia=B+R,la=Math.sqrt(ba*ba+da*da+ia*ia),Fa=Math.asin(ia/=la),Ia=Na(Na(ia)-1)<wa||Na(q-K)<wa?(q+K)/2:Math.atan2(da,ba),La=a(Ia,Fa);Fa=La[0];La=La[1];var ma=Fa-h,Ga=La-n,Ta=J*ma-F*Ga;(Ta*Ta/Y>f||.3<Na((F*ma+J*Ga)/Y-.5)||k>u*M+A*O+B*R)&&(e(h,n,q,u,A,B,Fa,La,Ia,ba/=la,da/=la,ia,U,X),X.point(Fa,La),e(Fa,La,Ia,ba,da,ia,G,Q,K,M,O,R,U,X))}}var f=.5,k=Math.cos(30*Ka),g=16;return b.precision=
function(h){return arguments.length?(g=0<(f=h*h)&&16,b):Math.sqrt(f)},b}function Nh(a){var b=zf(function(c,d){return a([c*ib,d*ib])});return function(c){return Bf(b(c))}}function Cf(a){this.stream=a}function Af(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function Wb(a){return fe(function(){return a})()}function fe(a){function b(Y){return Y=g(Y[0]*
Ka,Y[1]*Ka),[Y[0]*A+h,n-Y[1]*A]}function c(Y){return Y=g.invert((Y[0]-h)/A,(n-Y[1])/A),Y&&[Y[0]*ib,Y[1]*ib]}function d(){g=of(k=he(M,O,R),f);var Y=f(Q,K);return h=B-Y[0]*A,n=G+Y[1]*A,e()}function e(){return q&&(q.valid=!1,q=null),b}var f,k,g,h,n,q,u=zf(function(Y,ba){return Y=f(Y,ba),[Y[0]*A+h,n-Y[1]*A]}),A=150,B=480,G=250,Q=0,K=0,M=0,O=0,R=0,U=Df,X=L,F=null,J=null;return b.stream=function(Y){return q&&(q.valid=!1),q=Bf(U(k,u(X(Y)))),q.valid=!0,q},b.clipAngle=function(Y){return arguments.length?(U=
null==Y?(F=Y,Df):Ih((F=+Y)*Ka),e()):F},b.clipExtent=function(Y){return arguments.length?(J=Y,X=Y?uf(Y[0][0],Y[0][1],Y[1][0],Y[1][1]):L,e()):J},b.scale=function(Y){return arguments.length?(A=+Y,d()):A},b.translate=function(Y){return arguments.length?(B=+Y[0],G=+Y[1],d()):[B,G]},b.center=function(Y){return arguments.length?(Q=Y[0]%360*Ka,K=Y[1]%360*Ka,d()):[Q*ib,K*ib]},b.rotate=function(Y){return arguments.length?(M=Y[0]%360*Ka,O=Y[1]%360*Ka,R=2<Y.length?Y[2]%360*Ka:0,d()):[M*ib,O*ib,R*ib]},E.rebind(b,
u,"precision"),function(){return f=a.apply(this,arguments),b.invert=f.invert&&c,d()}}function Bf(a){return Af(a,function(b,c){a.point(b*Ka,c*Ka)})}function Bc(a,b){return[a,b]}function Ef(a,b){return[a>Ja?a-Eb:-Ja>a?a+Eb:a,b]}function he(a,b,c){return a?b||c?of(Ff(a),Gf(b,c)):Ff(a):b||c?Gf(b,c):Ef}function Hf(a){return function(b,c){return b+=a,[b>Ja?b-Eb:-Ja>b?b+Eb:b,c]}}function Ff(a){var b=Hf(a);return b.invert=Hf(-a),b}function Gf(a,b){function c(g,h){var n=Math.cos(h),q=Math.cos(g)*n;g=Math.sin(g)*
n;h=Math.sin(h);n=h*d+q*e;return[Math.atan2(g*f-n*k,q*d-h*e),Wa(n*f+g*k)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),k=Math.sin(b);return c.invert=function(g,h){var n=Math.cos(h),q=Math.cos(g)*n;g=Math.sin(g)*n;h=Math.sin(h);n=h*f-g*k;return[Math.atan2(g*f+h*k,q*d+n*e),Wa(n*d-q*e)]},c}function de(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,k,g){var h=k*b;null!=e?(e=If(c,e),f=If(c,f),(0<k?f>e:e>f)&&(e+=k*Eb)):(e=a+k*Eb,f=a-.5*h);for(var n;0<k?e>f:f>e;e-=h)g.point((n=dd([c,-d*Math.cos(e),
-d*Math.sin(e)]))[0],n[1])}}function If(a,b){b=bc(b);b[0]-=a;cd(b);a=Qa(-b[1]);return((0>-b[2]?-a:a)+2*Math.PI-wa)%(2*Math.PI)}function Jf(a,b,c){var d=E.range(a,b-wa,c).concat(b);return function(e){return d.map(function(f){return[e,f]})}}function Kf(a,b,c){var d=E.range(a,b-wa,c).concat(b);return function(e){return d.map(function(f){return[f,e]})}}function ie(a){return a.source}function je(a){return a.target}function Oh(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),k=Math.cos(d),g=Math.sin(d),h=e*Math.cos(a),
n=e*Math.sin(a),q=k*Math.cos(c),u=k*Math.sin(c),A=2*Math.asin(Math.sqrt(sb(d-b)+e*k*sb(c-a))),B=1/Math.sin(A);c=A?function(G){var Q=Math.sin(G*=A)*B;G=Math.sin(A-G)*B;var K=G*h+Q*q,M=G*n+Q*u;return[Math.atan2(M,K)*ib,Math.atan2(G*f+Q*g,Math.sqrt(K*K+M*M))*ib]}:function(){return[a*ib,b*ib]};return c.distance=A,c}function Cc(a,b){function c(d,e){var f=Math.cos(e),k=a(Math.cos(d)*f);return[k*f*Math.sin(d),k*Math.sin(e)]}return c.invert=function(d,e){var f=Math.sqrt(d*d+e*e),k=b(f),g=Math.sin(k);return[Math.atan2(d*
g,f*Math.cos(k)),Math.asin(f&&e*g/f)]},c}function Lf(a,b){function c(k,g){0<f?-lb+wa>g&&(g=-lb+wa):g>lb-wa&&(g=lb-wa);g=f/Math.pow(Math.tan(Ja/4+g/2),e);return[g*Math.sin(e*k),f-g*Math.cos(e*k)]}var d=Math.cos(a),e=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(Math.tan(Ja/4+b/2)/Math.tan(Ja/4+a/2)),f=d*Math.pow(Math.tan(Ja/4+a/2),e)/e;return e?(c.invert=function(k,g){g=f-g;return[Math.atan2(k,g)/e,2*Math.atan(Math.pow(f/((0<e?1:0>e?-1:0)*Math.sqrt(k*k+g*g)),1/e))-lb]},c):id}function Mf(a,b){function c(k,
g){g=f-g;return[g*Math.sin(e*k),f-g*Math.cos(e*k)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;return Na(e)<wa?Bc:(c.invert=function(k,g){g=f-g;return[Math.atan2(k,g)/e,f-(0<e?1:0>e?-1:0)*Math.sqrt(k*k+g*g)]},c)}function id(a,b){return[a,Math.log(Math.tan(Ja/4+b/2))]}function Nf(a){var b,c=Wb(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(){var k=d.apply(c,arguments);return k===c?b?c.clipExtent(null):c:k},c.translate=function(){var k=e.apply(c,arguments);
return k===c?b?c.clipExtent(null):c:k},c.clipExtent=function(k){var g=f.apply(c,arguments);if(g===c){if(b=null==k){var h=Ja*d(),n=e();f([[n[0]-h,n[1]-h],[n[0]+h,n[1]+h]])}}else b&&(g=null);return g},c.clipExtent(null)}function ke(a,b){return[Math.log(Math.tan(Ja/4+b/2)),-a]}function nc(a){return a[0]}function Dc(a){return a[1]}function Of(a){for(var b=a.length,c=[0,1],d=2,e=2;b>e;e++){for(;1<d&&0>=Ha(a[c[d-2]],a[c[d-1]],a[e]);)--d;c[d++]=e}return c.slice(0,d)}function Ph(a,b){return a[0]-b[0]||a[1]-
b[1]}function le(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function me(a,b,c,d){var e=a[0],f=c[0],k=b[0]-e,g=d[0]-f;a=a[1];c=c[1];b=b[1]-a;d=d[1]-c;f=(g*(a-c)-d*(e-f))/(d*k-g*b);return[e+f*k,a+f*b]}function Pf(a){var b=a[0];a=a[a.length-1];return!(b[0]-a[0]||b[1]-a[1])}function Qh(){jd(this);this.edge=this.site=this.circle=null}function Qf(a){var b=Rf.pop()||new Qh;return b.site=a,b}function ne(a){oc(a);pc.remove(a);Rf.push(a);jd(a)}function Sf(a,b){var c=a.site,d=c.x,e=c.y,f=e-
b;if(!f)return d;a=a.P;if(!a)return-(1/0);c=a.site;a=c.x;c=c.y;b=c-b;if(!b)return a;var k=a-d,g=1/f-1/b,h=k/b;return g?(-h+Math.sqrt(h*h-2*g*(k*k/(-2*b)-c+b/2+e-f/2)))/g+d:(d+a)/2}function Tf(a){this.site=a;this.edges=[]}function Uf(a,b){return b.angle-a.angle}function Rh(){jd(this);this.x=this.y=this.arc=this.site=this.cy=null}function qc(a){var b=a.P,c=a.N;if(b&&c){var d=b.site;b=a.site;var e=c.site;if(d!==e){c=b.x;var f=b.y,k=d.x-c,g=d.y-f;d=e.x-c;e=e.y-f;var h=2*(k*e-g*d);if(!(h>=-kd)){var n=
k*k+g*g,q=d*d+e*e;g=(e*n-g*q)/h;k=(k*q-d*n)/h;e=k+f;f=Vf.pop()||new Rh;f.arc=a;f.site=b;f.x=g+c;f.y=e+Math.sqrt(g*g+k*k);f.cy=e;a.circle=f;a=null;for(b=Ec._;b;)if(f.y<b.y||f.y===b.y&&f.x<=b.x){if(!b.L){a=b.P;break}b=b.L}else{if(!b.R){a=b;break}b=b.R}Ec.insert(a,f);a||(oe=f)}}}}function oc(a){var b=a.circle;b&&(b.P||(oe=b.N),Ec.remove(b),Vf.push(b),jd(b),a.circle=null)}function Sh(a,b){var c=a.b;if(c)return!0;var d,e=a.a;c=b[0][0];var f=b[1][0],k=b[0][1];b=b[1][1];var g=a.l,h=a.r,n=g.x;g=g.y;var q=
h.x;h=h.y;var u=(n+q)/2;if(h===g){if(c>u||u>=f)return;if(n>q){if(e){if(e.y>=b)return}else e={x:u,y:k};c={x:u,y:b}}else{if(e){if(e.y<k)return}else e={x:u,y:b};c={x:u,y:k}}}else if(d=(n-q)/(h-g),u=(g+h)/2-d*u,-1>d||1<d)if(n>q){if(e){if(e.y>=b)return}else e={x:(k-u)/d,y:k};c={x:(b-u)/d,y:b}}else{if(e){if(e.y<k)return}else e={x:(b-u)/d,y:b};c={x:(k-u)/d,y:k}}else if(h>g){if(e){if(e.x>=f)return}else e={x:c,y:d*c+u};c={x:f,y:d*f+u}}else{if(e){if(e.x<c)return}else e={x:f,y:d*f+u};c={x:c,y:d*c+u}}return a.a=
e,a.b=c,!0}function Wf(a,b){this.l=a;this.r=b;this.a=this.b=null}function Fc(a,b,c,d){var e=new Wf(a,b);return rc.push(e),c&&ld(e,a,b,c),d&&ld(e,b,a,d),gc[a.i].edges.push(new md(e,a,b)),gc[b.i].edges.push(new md(e,b,a)),e}function ld(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function md(a,b,c){var d=a.a,e=a.b;this.edge=a;this.site=b;this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function pe(){this._=null}function jd(a){a.U=
a.C=a.L=a.R=a.P=a.N=null}function Gc(a,b){var c=b.R,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function Hc(a,b){var c=b.L,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.L=c.R;b.L&&(b.L.U=b);c.R=b}function Xf(a){for(;a.L;)a=a.L;return a}function qe(a,b){var c,d,e=a.sort(Th).pop();rc=[];gc=Array(a.length);pc=new pe;for(Ec=new pe;;)if(d=oe,e&&(!d||e.y<d.y||e.y===d.y&&e.x<d.x)){if(e.x!==c||e.y!==g){gc[e.i]=new Tf(e);var f=void 0,k=void 0;var g=c=void 0;for(var h=e,n=h.x,
q=h.y,u=pc._;u;)if(k=Sf(u,q)-n,k>wa)u=u.L;else{var A=u;var B=q;var G=A.N;G?B=Sf(G,B):(A=A.site,B=A.y===B?A.x:1/0);if(f=n-B,!(f>wa)){k>-wa?(g=u.P,c=u):f>-wa?(g=u,c=u.N):g=c=u;break}if(!u.R){g=u;break}u=u.R}f=Qf(h);if(pc.insert(g,f),g||c)if(g===c)oc(g),c=Qf(g.site),pc.insert(f,c),f.edge=c.edge=Fc(g.site,f.site),qc(g),qc(c);else if(c){oc(g);oc(c);k=g.site;q=k.x;u=k.y;B=h.x-q;A=h.y-u;n=c.site;G=n.x-q;var Q=n.y-u,K=2*(B*Q-A*G),M=B*B+A*A,O=G*G+Q*Q;q={x:(Q*M-A*O)/K+q,y:(B*O-G*M)/K+u};ld(c.edge,k,n,q);f.edge=
Fc(k,h,null,q);c.edge=Fc(h,n,null,q);qc(g);qc(c)}else f.edge=Fc(g.site,f.site);c=e.x;g=e.y}e=a.pop()}else{if(!d)break;n=d.arc;h=n.circle;k=h.x;q=h.cy;h={x:k,y:q};B=n.P;u=n.N;f=[n];ne(n);for(n=B;n.circle&&Na(k-n.circle.x)<wa&&Na(q-n.circle.cy)<wa;)B=n.P,f.unshift(n),ne(n),n=B;f.unshift(n);oc(n);for(B=u;B.circle&&Na(k-B.circle.x)<wa&&Na(q-B.circle.cy)<wa;)u=B.N,f.push(B),ne(B),B=u;f.push(B);oc(B);q=f.length;for(k=1;q>k;++k)B=f[k],n=f[k-1],ld(B.edge,n.site,B.site,h);n=f[0];B=f[q-1];B.edge=Fc(n.site,
B.site,null,h);qc(n);qc(B)}if(b){d=rc;e=tf(b[0][0],b[0][1],b[1][0],b[1][1]);for(c=d.length;c--;)a=d[c],(!Sh(a,b)||!e(a)||Na(a.a.x-a.b.x)<wa&&Na(a.a.y-a.b.y)<wa)&&(a.a=a.b=null,d.splice(c,1));var R;a=b[0][0];d=b[1][0];e=b[0][1];h=b[1][1];f=gc;for(k=f.length;k--;)if(R=f[k],R&&R.prepare())for(c=R.edges,g=c.length,b=0;g>b;)if(Q=c[b].end(),A=Q.x,G=Q.y,n=c[++b%g].start(),B=n.x,K=n.y,Na(A-B)>wa||Na(G-K)>wa)n=c,q=n.splice,u=b,B=Na(A-a)<wa&&h-G>wa?{x:a,y:Na(B-a)<wa?K:h}:Na(G-h)<wa&&d-A>wa?{x:Na(K-h)<wa?B:
d,y:h}:Na(A-d)<wa&&G-e>wa?{x:d,y:Na(B-d)<wa?K:e}:Na(G-e)<wa&&A-a>wa?{x:Na(K-e)<wa?B:a,y:e}:null,A=new Wf(R.site,null),B=(A.a=Q,A.b=B,rc.push(A),A),q.call(n,u,0,new md(B,R.site,null)),++g}R={cells:gc,edges:rc};return pc=Ec=rc=gc=null,R}function Th(a,b){return b.y-a.y||b.x-a.x}function Uh(a){return a.x}function Vh(a){return a.y}function Yf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Ic(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var k=.5*(c+e),g=.5*(d+f);b=b.nodes;b[0]&&Ic(a,b[0],c,d,k,g);b[1]&&
Ic(a,b[1],k,d,e,g);b[2]&&Ic(a,b[2],c,g,k,f);b[3]&&Ic(a,b[3],k,g,e,f)}}function Wh(a,b,c,d,e,f,k){var g,h=1/0;return function Q(q,u,A,B,G){if(!(u>f||A>k||d>B||e>G)){if(K=q.point){var K,M=b-q.x,O=c-q.y;M=M*M+O*O;h>M&&(M=Math.sqrt(h=M),d=b-M,e=c-M,f=b+M,k=c+M,g=K)}K=q.nodes;M=.5*(u+B);O=.5*(A+G);for(var R=(c>=O)<<1|b>=M,U=R+4;U>R;++R)if(q=K[3&R])switch(3&R){case 0:Q(q,u,A,M,O);break;case 1:Q(q,M,A,B,O);break;case 2:Q(q,u,O,M,G);break;case 3:Q(q,M,O,B,G)}}}(a,d,e,f,k),g}function re(a,b){a=E.rgb(a);b=
E.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,k=b.g-d,g=b.b-e;return function(h){return"#"+wb(Math.round(c+f*h))+wb(Math.round(d+k*h))+wb(Math.round(e+g*h))}}function Zf(a,b){var c,d={},e={};for(c in a)c in b?d[c]=hc(a[c],b[c]):e[c]=a[c];for(c in b)c in a||(e[c]=b[c]);return function(f){for(c in d)e[c]=d[c](f);return e}}function Qb(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function $f(a,b){var c,d,e,f=se.lastIndex=te.lastIndex=0,k=-1,g=[],h=[];a+="";for(b+="";(c=se.exec(a))&&(d=te.exec(b));)(e=
d.index)>f&&(e=b.slice(f,e),g[k]?g[k]+=e:g[++k]=e),(c=c[0])===(d=d[0])?g[k]?g[k]+=d:g[++k]=d:(g[++k]=null,h.push({i:k,x:Qb(c,d)})),f=te.lastIndex;return f<b.length&&(e=b.slice(f),g[k]?g[k]+=e:g[++k]=e),2>g.length?h[0]?(b=h[0].x,function(n){return b(n)+""}):function(){return b}:(b=h.length,function(n){for(var q,u=0;b>u;++u)g[(q=h[u]).i]=q.x(n);return g.join("")})}function hc(a,b){for(var c,d=E.interpolators.length;0<=--d&&!(c=E.interpolators[d](a,b)););return c}function nd(a,b){var c,d=[],e=[],f=a.length,
k=b.length,g=Math.min(a.length,b.length);for(c=0;g>c;++c)d.push(hc(a[c],b[c]));for(;f>c;++c)e[c]=a[c];for(;k>c;++c)e[c]=b[c];return function(h){for(c=0;g>c;++c)e[c]=d[c](h);return e}}function Xh(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function ag(a){return function(b){return 1-a(1-b)}}function bg(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function Yh(a){return a*a}function Zh(a){return a*a*a}function $h(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,c=b*a;return 4*(.5>a?c:3*
(a-b)+c-.75)}function ai(a){return 1-Math.cos(a*lb)}function bi(a){return Math.pow(2,10*(a-1))}function ci(a){return 1-Math.sqrt(1-a*a)}function di(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function cg(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function dg(a){var b=[a.a,a.b],c=[a.c,a.d],d=eg(b),e=b[0]*c[0]+b[1]*c[1];var f=-e;f=(c[0]+=f*b[0],c[1]+=f*b[1],c);f=eg(f)||0;b[0]*c[1]<c[0]*b[1]&&
(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*ib;this.translate=[a.e,a.f];this.scale=[d,f];this.skew=f?Math.atan2(e,f)*ib:0}function eg(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return b&&(a[0]/=b,a[1]/=b),b}function sc(a){return a.length?a.pop()+",":""}function ei(a,b,c,d){a[0]!==b[0]||a[1]!==b[1]?(c=c.push("translate(",null,",",null,")"),d.push({i:c-4,x:Qb(a[0],b[0])},{i:c-2,x:Qb(a[1],b[1])})):(b[0]||b[1])&&c.push("translate("+b+")")}function fi(a,b,
c,d){a!==b?(180<a-b?b+=360:180<b-a&&(a+=360),d.push({i:c.push(sc(c)+"rotate(",null,")")-2,x:Qb(a,b)})):b&&c.push(sc(c)+"rotate("+b+")")}function gi(a,b,c,d){a!==b?d.push({i:c.push(sc(c)+"skewX(",null,")")-2,x:Qb(a,b)}):b&&c.push(sc(c)+"skewX("+b+")")}function hi(a,b,c,d){a[0]!==b[0]||a[1]!==b[1]?(c=c.push(sc(c)+"scale(",null,",",null,")"),d.push({i:c-4,x:Qb(a[0],b[0])},{i:c-2,x:Qb(a[1],b[1])})):1===b[0]&&1===b[1]||c.push(sc(c)+"scale("+b+")")}function fg(a,b){var c=[],d=[];return a=E.transform(a),
b=E.transform(b),ei(a.translate,b.translate,c,d),fi(a.rotate,b.rotate,c,d),gi(a.skew,b.skew,c,d),hi(a.scale,b.scale,c,d),a=b=null,function(e){for(var f,k=-1,g=d.length;++k<g;)c[(f=d[k]).i]=f.x(e);return c.join("")}}function ii(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function ji(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function gg(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function ki(a){a.fixed|=2}function li(a){a.fixed&=
-7}function mi(a){a.fixed|=4;a.px=a.x;a.py=a.y}function ni(a){a.fixed&=-5}function hg(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,k=a.nodes,g=k.length,h=-1;++h<g;)f=k[h],null!=f&&(hg(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,d+=b*a.point.x,e+=b*a.point.y);a.cx=d/a.charge;a.cy=e/a.charge}function Jc(a,b){return E.rebind(a,b,"sort","children","value"),a.nodes=
a,a.links=oi,a}function Kc(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;0<=--d;)c.push(e[d])}function Mb(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(f=a.children)&&(e=f.length)){var e,f;for(a=-1;++a<e;)c.push(f[a])}for(;null!=(a=d.pop());)b(a)}function pi(a){return a.children}function qi(a){return a.value}function ri(a,b){return b.value-a.value}function oi(a){return E.merge(a.map(function(b){return(b.children||[]).map(function(c){return{source:b,
target:c}})}))}function si(a){return a.x}function ti(a){return a.y}function ui(a,b,c){a.y0=b;a.y=c}function ue(a){return E.range(a.length)}function ve(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function vi(a){for(var b,c=1,d=0,e=a[0][1],f=a.length;f>c;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function wi(a){return a.reduce(xi,0)}function xi(a,b){return a+b[1]}function yi(a,b){return ig(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function ig(a,b){var c=-1,d=+a[0];a=(a[1]-d)/b;for(var e=
[];++c<=b;)e[c]=a*c+d;return e}function zi(a){return[E.min(a),E.max(a)]}function Ai(a,b){return a.value-b.value}function we(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function jg(a,b){a._pack_next=b;b._pack_prev=a}function kg(a,b){var c=b.x-a.x,d=b.y-a.y;a=a.r+b.r;return.999*a*a>c*c+d*d}function lg(a){function b(M){n=Math.min(M.x-M.r,n);q=Math.max(M.x+M.r,q);u=Math.min(M.y-M.r,u);A=Math.max(M.y+M.r,A)}if((c=a.children)&&(h=c.length)){var c,d,e,f,k,g,h,n=1/
0,q=-(1/0),u=1/0,A=-(1/0);if(c.forEach(Bi),d=c[0],d.x=-d.r,d.y=0,b(d),1<h&&(e=c[1],e.x=e.r,e.y=0,b(e),2<h)){var B=c[2];mg(d,e,B);b(B);we(d,B);d._pack_prev=B;we(B,e);e=d._pack_next;for(f=3;h>f;f++){mg(d,e,B=c[f]);var G=0,Q=1,K=1;for(k=e._pack_next;k!==e;k=k._pack_next,Q++)if(kg(k,B)){G=1;break}if(1==G)for(g=d._pack_prev;g!==k._pack_prev&&!kg(g,B);g=g._pack_prev,K++);G?(K>Q||Q==K&&e.r<d.r?jg(d,e=k):jg(d=g,e),f--):(we(d,B),e=B,b(B))}}d=(n+q)/2;e=(u+A)/2;for(f=k=0;h>f;f++)B=c[f],B.x-=d,B.y-=e,k=Math.max(k,
B.r+Math.sqrt(B.x*B.x+B.y*B.y));a.r=k;c.forEach(Ci)}}function Bi(a){a._pack_next=a._pack_prev=a}function Ci(a){delete a._pack_next;delete a._pack_prev}function ng(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e){a=-1;for(var f=e.length;++a<f;)ng(e[a],b,c,d)}}function mg(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var k=b.r+c.r,g=e*e+f*f;k*=k;d*=d;b=.5+(d-k)/(2*g);k=Math.sqrt(Math.max(0,2*k*(d+g)-(d-=g)*d-k*k))/(2*g);c.x=a.x+b*e+k*f;c.y=a.y+b*f-k*e}else c.x=a.x+d,c.y=a.y}
function og(a,b){return a.parent==b.parent?1:2}function ye(a){var b=a.children;return b.length?b[0]:a.t}function ze(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function Di(a){return 1+E.max(a,function(b){return b.y})}function Ei(a){return a.reduce(function(b,c){return b+c.x},0)/a.length}function pg(a){var b=a.children;return b&&b.length?pg(b[0]):a}function qg(a){var b,c=a.children;return c&&(b=c.length)?qg(c[b-1]):a}function Ae(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function rg(a,b){var c=
a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3];a=a.dy-b[0]-b[2];return 0>e&&(c+=e/2,e=0),0>a&&(d+=a/2,a=0),{x:c,y:d,dx:e,dy:a}}function tc(a){var b=a[0];a=a[a.length-1];return a>b?[b,a]:[a,b]}function od(a){return a.rangeExtent?a.rangeExtent():tc(a.range())}function Fi(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(k){return f(e(k))}}function pd(a,b){var c,d=0,e=a.length-1,f=a[d],k=a[e];return f>k&&(c=d,d=e,e=c,c=f,f=k,k=c),a[d]=b.floor(f),a[e]=b.ceil(k),a}function sg(a){return a?{floor:function(b){return Math.floor(b/
a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Gi}function Hi(a,b,c,d){var e=[],f=[],k=0,g=Math.min(a.length,b.length)-1;for(a[g]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++k<=g;)e.push(c(a[k-1],a[k])),f.push(d(b[k-1],b[k]));return function(h){var n=E.bisect(a,h,1,g)-1;return f[n](e[n](h))}}function tg(a,b,c,d){function e(){var h=2<Math.min(a.length,b.length)?Hi:Fi,n=d?ji:ii;return k=h(a,b,n,c),g=h(b,a,n,hc),f}function f(h){return k(h)}var k,g;return f.invert=function(h){return g(h)},
f.domain=function(h){return arguments.length?(a=h.map(Number),e()):a},f.range=function(h){return arguments.length?(b=h,e()):b},f.rangeRound=function(h){return f.range(h).interpolate(cg)},f.clamp=function(h){return arguments.length?(d=h,e()):d},f.interpolate=function(h){return arguments.length?(c=h,e()):c},f.ticks=function(h){return E.range.apply(E,Xb(a,h))},f.tickFormat=function(h,n){return Be(a,h,n)},f.nice=function(h){return ug(a,h),e()},f.copy=function(){return tg(a,b,c,d)},e()}function Ce(a,b){return E.rebind(a,
b,"range","rangeRound","interpolate","clamp")}function ug(a,b){return pd(a,sg(Xb(a,b)[2])),pd(a,sg(Xb(a,b)[2])),a}function Xb(a,b){null==b&&(b=10);a=tc(a);var c=a[1]-a[0],d=Math.pow(10,Math.floor(Math.log(c/b)/Math.LN10));b=b/c*d;return.15>=b?d*=10:.35>=b?d*=5:.75>=b&&(d*=2),a[0]=Math.ceil(a[0]/d)*d,a[1]=Math.floor(a[1]/d)*d+.5*d,a[2]=d,a}function Be(a,b,c){a=Xb(a,b);if(c){b=df.exec(c);if(b.shift(),"s"===b[8]){var d=E.formatPrefix(Math.max(Na(a[0]),Na(a[1])));return b[7]||(b[7]="."+qd(d.scale(a[2]))),
b[8]="f",c=E.format(b.join("")),function(e){return c(d.scale(e))+d.symbol}}b[7]||(b[7]="."+Ii(b[8],a));c=b.join("")}else c=",."+qd(a[2])+"f";return E.format(c)}function qd(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function Ii(a,b){var c=qd(b[2]);return a in Ji?Math.abs(c-qd(Math.max(Na(b[0]),Na(b[1]))))+ +("e"!==a):c-2*("%"===a)}function vg(a,b,c,d){function e(g){return(c?Math.log(0>g?0:g):-Math.log(0<g?0:-g))/Math.log(b)}function f(g){return c?Math.pow(b,g):-Math.pow(b,-g)}function k(g){return a(e(g))}
return k.invert=function(g){return f(a.invert(g))},k.domain=function(g){return arguments.length?(c=0<=g[0],a.domain((d=g.map(Number)).map(e)),k):d},k.base=function(g){return arguments.length?(b=+g,a.domain(d.map(e)),k):b},k.nice=function(){var g=pd(d.map(e),c?Math:Ki);return a.domain(g),d=g.map(f),k},k.ticks=function(){var g=tc(d),h=[],n=g[0];g=g[1];var q=Math.floor(e(n)),u=Math.ceil(e(g)),A=b%1?2:b;if(isFinite(u-q)){if(c){for(;u>q;q++)for(var B=1;A>B;B++)h.push(f(q)*B);h.push(f(q))}else for(h.push(f(q));q++<
u;)for(B=A-1;0<B;B--)h.push(f(q)*B);for(q=0;h[q]<n;q++);for(u=h.length;h[u-1]>g;u--);h=h.slice(q,u)}return h},k.tickFormat=function(g,h){if(!arguments.length)return wg;2>arguments.length?h=wg:"function"!=typeof h&&(h=E.format(h));var n=Math.max(1,b*g/k.ticks().length);return function(q){var u=q/f(Math.round(e(q)));return b-.5>u*b&&(u*=b),n>=u?h(q):""}},k.copy=function(){return vg(a.copy(),b,c,d)},Ce(k,a)}function xg(a,b,c){function d(k){return a(e(k))}var e=rd(b),f=rd(1/b);return d.invert=function(k){return f(a.invert(k))},
d.domain=function(k){return arguments.length?(a.domain((c=k.map(Number)).map(e)),d):c},d.ticks=function(k){return E.range.apply(E,Xb(c,k))},d.tickFormat=function(k,g){return Be(c,k,g)},d.nice=function(k){return d.domain(ug(c,k))},d.exponent=function(k){return arguments.length?(e=rd(b=k),f=rd(1/b),a.domain(c.map(e)),d):b},d.copy=function(){return xg(a.copy(),b,c)},Ce(d,a)}function rd(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function yg(a,b){function c(g){return f[((e.get(g)||
("range"===b.t?e.set(g,a.push(g)):NaN))-1)%f.length]}function d(g,h){return E.range(a.length).map(function(n){return g+h*n})}var e,f,k;return c.domain=function(g){if(!arguments.length)return a;a=[];e=new y;for(var h,n=-1,q=g.length;++n<q;)e.has(h=g[n])||e.set(h,a.push(h));return c[b.t].apply(c,b.a)},c.range=function(g){return arguments.length?(f=g,k=0,b={t:"range",a:arguments},c):f},c.rangePoints=function(g,h){2>arguments.length&&(h=0);var n=g[0],q=g[1];q=2>a.length?(n=(n+q)/2,0):(q-n)/(a.length-
1+h);return f=d(n+q*h/2,q),k=0,b={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(g,h){2>arguments.length&&(h=0);var n=g[0],q=g[1],u=2>a.length?(n=q=Math.round((n+q)/2),0):(q-n)/(a.length-1+h)|0;return f=d(n+Math.round(u*h/2+(q-n-(a.length-1+h)*u)/2),u),k=0,b={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(g,h,n){2>arguments.length&&(h=0);3>arguments.length&&(n=h);var q=g[1]<g[0],u=g[q-0],A=(g[1-q]-u)/(a.length-h+2*n);return f=d(u+A*n,A),q&&f.reverse(),k=A*(1-h),b={t:"rangeBands",
a:arguments},c},c.rangeRoundBands=function(g,h,n){2>arguments.length&&(h=0);3>arguments.length&&(n=h);var q=g[1]<g[0],u=g[q-0],A=g[1-q],B=Math.floor((A-u)/(a.length-h+2*n));return f=d(u+Math.round((A-u-(a.length-h)*B)/2),B),q&&f.reverse(),k=Math.round(B*(1-h)),b={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return k},c.rangeExtent=function(){return tc(b.a[0])},c.copy=function(){return yg(a,b)},c.domain(a)}function zg(a,b){function c(){var f=0,k=b.length;for(e=[];++f<k;)e[f-1]=E.quantile(a,
f/k);return d}function d(f){return isNaN(f=+f)?void 0:b[E.bisect(e,f)]}var e;return d.domain=function(f){return arguments.length?(a=f.map(C).filter(z).sort(x),c()):a},d.range=function(f){return arguments.length?(b=f,c()):b},d.quantiles=function(){return e},d.invertExtent=function(f){return f=b.indexOf(f),0>f?[NaN,NaN]:[0<f?e[f-1]:a[0],f<e.length?e[f]:a[a.length-1]]},d.copy=function(){return zg(a,b)},c()}function Ag(a,b,c){function d(g){return c[Math.max(0,Math.min(k,Math.floor(f*(g-a))))]}function e(){return f=
c.length/(b-a),k=c.length-1,d}var f,k;return d.domain=function(g){return arguments.length?(a=+g[0],b=+g[g.length-1],e()):[a,b]},d.range=function(g){return arguments.length?(c=g,e()):c},d.invertExtent=function(g){return g=c.indexOf(g),g=0>g?NaN:g/f+a,[g,g+1/f]},d.copy=function(){return Ag(a,b,c)},e()}function Bg(a,b){function c(d){return d>=d?b[E.bisect(a,d)]:void 0}return c.domain=function(d){return arguments.length?(a=d,c):a},c.range=function(d){return arguments.length?(b=d,c):b},c.invertExtent=
function(d){return d=b.indexOf(d),[a[d-1],a[d]]},c.copy=function(){return Bg(a,b)},c}function Cg(a){function b(c){return+c}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(c){return E.range.apply(E,Xb(a,c))},b.tickFormat=function(c,d){return Be(a,c,d)},b.copy=function(){return Cg(a)},b}function Li(){return 0}function Mi(a){return a.innerRadius}function Ni(a){return a.outerRadius}function Dg(a){return a.startAngle}function Eg(a){return a.endAngle}
function Oi(a){return a&&a.padAngle}function sd(a,b,c,d){return 0<(a-c)*b-(b-d)*a?0:1}function td(a,b,c,d,e){var f=a[0]-b[0],k=a[1]-b[1];e=(e?d:-d)/Math.sqrt(f*f+k*k);k*=e;f*=-e;var g=a[0]+k,h=a[1]+f,n=b[0]+k,q=b[1]+f;a=(g+n)/2;b=(h+q)/2;e=n-g;var u=q-h,A=e*e+u*u;d=c-d;q=g*q-n*h;var B=(0>u?-1:1)*Math.sqrt(Math.max(0,d*d*A-q*q));g=(q*u-e*B)/A;h=(-q*e-u*B)/A;n=(q*u+e*B)/A;e=(-q*e+u*B)/A;u=g-a;A=h-b;a=n-a;b=e-b;return u*u+A*A>a*a+b*b&&(g=n,h=e),[[g-k,h-f],[g*c/d,h*c/d]]}function Fg(a){function b(h){function n(){u.push("M",
f(a(A),g))}for(var q,u=[],A=[],B=-1,G=h.length,Q=cb(c),K=cb(d);++B<G;)e.call(this,q=h[B],B)?A.push([+Q.call(this,q,B),+K.call(this,q,B)]):A.length&&(n(),A=[]);return A.length&&n(),u.length?u.join(""):null}var c=nc,d=Dc,e=yc,f=Jb,k=f.key,g=.7;return b.x=function(h){return arguments.length?(c=h,b):c},b.y=function(h){return arguments.length?(d=h,b):d},b.defined=function(h){return arguments.length?(e=h,b):e},b.interpolate=function(h){return arguments.length?(k="function"==typeof h?f=h:(f=De.get(h)||Jb).key,
b):k},b.tension=function(h){return arguments.length?(g=h,b):g},b}function Jb(a){return 1<a.length?a.join("L"):a+"Z"}function Gg(a){return a.join("L")+"Z"}function Ee(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Fe(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function ud(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return Jb(a);var c=a.length!=b.length,
d="",e=a[0],f=a[1],k=b[0],g=k,h=1;if(c&&(d+="Q"+(f[0]-2*k[0]/3)+","+(f[1]-2*k[1]/3)+","+f[0]+","+f[1],e=a[1],h=2),1<b.length)for(g=b[1],f=a[h],h++,d+="C"+(e[0]+k[0])+","+(e[1]+k[1])+","+(f[0]-g[0])+","+(f[1]-g[1])+","+f[0]+","+f[1],e=2;e<b.length;e++,h++)f=a[h],g=b[e],d+="S"+(f[0]-g[0])+","+(f[1]-g[1])+","+f[0]+","+f[1];c&&(a=a[h],d+="Q"+(f[0]+2*g[0]/3)+","+(f[1]+2*g[1]/3)+","+a[0]+","+a[1]);return d}function Ge(a,b){for(var c=[],d=(1-b)/2,e=a[0],f=a[1],k=1,g=a.length;++k<g;)b=e,e=f,f=a[k],c.push([d*
(f[0]-b[0]),d*(f[1]-b[1])]);return c}function Hg(a){if(3>a.length)return Jb(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],k=[e,e,e,(d=a[1])[0]],g=[f,f,f,d[1]];e=[e,",",f,"L",Fb(Yb,k),",",Fb(Yb,g)];for(a.push(a[c-1]);++b<=c;)d=a[b],k.shift(),k.push(d[0]),g.shift(),g.push(d[1]),He(e,k,g);return a.pop(),e.push("L",d),e.join("")}function Fb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function He(a,b,c){a.push("C",Fb(Ig,b),",",Fb(Ig,c),",",Fb(Jg,b),",",Fb(Jg,c),",",Fb(Yb,b),",",Fb(Yb,c))}function Ie(a,
b){return(b[1]-a[1])/(b[0]-a[0])}function Kg(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]-lb,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function Lg(a){function b(A){function B(){M.push("M",g(a(R),u),q,n(a(O.reverse()),u),"Z")}for(var G,Q,K,M=[],O=[],R=[],U=-1,X=A.length,F=cb(c),J=cb(e),Y=c===d?function(){return Q}:cb(d),ba=e===f?function(){return K}:cb(f);++U<X;)k.call(this,G=A[U],U)?(O.push([Q=+F.call(this,G,U),K=+J.call(this,G,U)]),R.push([+Y.call(this,G,U),+ba.call(this,G,U)])):
O.length&&(B(),O=[],R=[]);return O.length&&B(),M.length?M.join(""):null}var c=nc,d=nc,e=0,f=Dc,k=yc,g=Jb,h=g.key,n=g,q="L",u=.7;return b.x=function(A){return arguments.length?(c=d=A,b):d},b.x0=function(A){return arguments.length?(c=A,b):c},b.x1=function(A){return arguments.length?(d=A,b):d},b.y=function(A){return arguments.length?(e=f=A,b):f},b.y0=function(A){return arguments.length?(e=A,b):e},b.y1=function(A){return arguments.length?(f=A,b):f},b.defined=function(A){return arguments.length?(k=A,b):
k},b.interpolate=function(A){return arguments.length?(h="function"==typeof A?g=A:(g=De.get(A)||Jb).key,n=g.reverse||g,q=g.closed?"M":"L",b):h},b.tension=function(A){return arguments.length?(u=A,b):u},b}function Pi(a){return a.radius}function Mg(a){return[a.x,a.y]}function Qi(a){return function(){var b=a.apply(this,arguments),c=b[0];b=b[1]-lb;return[c*Math.cos(b),c*Math.sin(b)]}}function Ri(){return 64}function Si(){return"circle"}function Ng(a){a=Math.sqrt(a/Ja);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+
-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function Og(a){return function(){var b,c,d;(b=this[a])&&(d=b[c=b.active])&&(d.timer.c=null,d.timer.t=NaN,--b.count?delete b[c]:delete this[a],b.active+=.5,d.event&&d.event.interrupt.call(this,this.__data__,d.index))}}function Lc(a,b,c){return Pc(a,qb),a.namespace=b,a.id=c,a}function Je(a,b,c,d){var e=a.id,f=a.namespace;return Ua(a,"function"==typeof c?function(k,g,h){k[f][e].tween.set(b,d(c.call(k,k.__data__,g,h)))}:(c=d(c),function(k){k[f][e].tween.set(b,c)}))}function Ti(a){return null==
a&&(a=""),function(){this.textContent=a}}function Ke(a){return null==a?"__transition__":"__transition_"+a+"__"}function vd(a,b,c,d,e){function f(Q){var K=G.delay;return n.t=K+h,Q>=K?k(Q-K):void(n.c=k)}function k(Q){var K=B.active,M=B[K];M&&(M.timer.c=null,M.timer.t=NaN,--B.count,delete B[K],M.event&&M.event.interrupt.call(a,a.__data__,M.index));for(var O in B)d>+O&&(K=B[O],K.timer.c=null,K.timer.t=NaN,--B.count,delete B[O]);n.c=g;Sc(function(){return n.c&&g(Q||1)&&(n.c=null,n.t=NaN),1},0,h);B.active=
d;G.event&&G.event.start.call(a,a.__data__,b);A=[];G.tween.forEach(function(R,U){(U=U.call(a,a.__data__,b))&&A.push(U)});u=G.ease;q=G.duration}function g(Q){Q/=q;for(var K=u(Q),M=A.length;0<M;)A[--M].call(a,K);return 1<=Q?(G.event&&G.event.end.call(a,a.__data__,b),--B.count?delete B[d]:delete a[c],1):void 0}var h,n,q,u,A,B=a[c]||(a[c]={active:0,count:0}),G=B[d];G||(h=e.time,n=Sc(f,0,h),G=B[d]={tween:new y,time:h,timer:n,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null,++B.count)}function Ui(a,
b,c){a.attr("transform",function(d){var e=b(d);return"translate("+(isFinite(e)?e:c(d))+",0)"})}function Vi(a,b,c){a.attr("transform",function(d){var e=b(d);return"translate(0,"+(isFinite(e)?e:c(d))+")"})}function Le(a){return a.toISOString()}function Me(a,b,c){function d(f){return a(f)}function e(f,k){var g=(f[1]-f[0])/k,h=E.bisect(wd,g);return h==wd.length?[b.year,Xb(f.map(function(n){return n/31536E6}),k)[2]]:h?b[g/wd[h-1]<wd[h]/g?h-1:h]:[Wi,Xb(f,k)[2]]}return d.invert=function(f){return ic(a.invert(f))},
d.domain=function(f){return arguments.length?(a.domain(f),d):a.domain().map(ic)},d.nice=function(f,k){function g(q){return!isNaN(q)&&!f.range(q,ic(+q+1),k).length}var h=d.domain(),n=tc(h);n=null==f?e(n,10):"number"==typeof f&&e(n,f);return n&&(f=n[0],k=n[1]),d.domain(pd(h,1<k?{floor:function(q){for(;g(q=f.floor(q));)q=ic(q-1);return q},ceil:function(q){for(;g(q=f.ceil(q));)q=ic(+q+1);return q}}:f))},d.ticks=function(f,k){var g=tc(d.domain()),h=null==f?e(g,10):"number"==typeof f?e(g,f):!f.range&&[{range:f},
k];return h&&(f=h[0],k=h[1]),f.range(g[0],ic(+g[1]+1),1>k?1:k)},d.tickFormat=function(){return c},d.copy=function(){return Me(a.copy(),b,c)},Ce(d,a)}function ic(a){return new Date(a)}function Xi(a){return JSON.parse(a.responseText)}function Yi(a){var b=xb.createRange();return b.selectNode(xb.body),b.createContextualFragment(a.responseText)}var E={version:"3.5.17"},Pg=[].slice,Kb=function(a){return Pg.call(a)},xb=this.document;if(xb)try{Kb(xb.documentElement.childNodes)[0].nodeType}catch(a){Kb=function(b){for(var c=
b.length,d=Array(c);c--;)d[c]=b[c];return d}}if(Date.now||(Date.now=function(){return+new Date}),xb)try{xb.createElement("DIV").style.setProperty("opacity",0,"")}catch(a){var xd=this.Element.prototype,Zi=xd.setAttribute,$i=xd.setAttributeNS,Qg=this.CSSStyleDeclaration.prototype,aj=Qg.setProperty;xd.setAttribute=function(b,c){Zi.call(this,b,c+"")};xd.setAttributeNS=function(b,c,d){$i.call(this,b,c,d+"")};Qg.setProperty=function(b,c,d){aj.call(this,b,c+"",d)}}E.ascending=x;E.descending=function(a,b){return a>
b?-1:b>a?1:b>=a?0:NaN};E.min=function(a,b){var c,d=-1,e=a.length;if(1===arguments.length){for(;++d<e;)if(null!=(c=a[d])&&c>=c){var f=c;break}for(;++d<e;)null!=(c=a[d])&&f>c&&(f=c)}else{for(;++d<e;)if(null!=(c=b.call(a,a[d],d))&&c>=c){f=c;break}for(;++d<e;)null!=(c=b.call(a,a[d],d))&&f>c&&(f=c)}return f};E.max=function(a,b){var c,d=-1,e=a.length;if(1===arguments.length){for(;++d<e;)if(null!=(c=a[d])&&c>=c){var f=c;break}for(;++d<e;)null!=(c=a[d])&&c>f&&(f=c)}else{for(;++d<e;)if(null!=(c=b.call(a,a[d],
d))&&c>=c){f=c;break}for(;++d<e;)null!=(c=b.call(a,a[d],d))&&c>f&&(f=c)}return f};E.extent=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(c=a[e])&&c>=c){var k=d=c;break}for(;++e<f;)null!=(c=a[e])&&(k>c&&(k=c),c>d&&(d=c))}else{for(;++e<f;)if(null!=(c=b.call(a,a[e],e))&&c>=c){k=d=c;break}for(;++e<f;)null!=(c=b.call(a,a[e],e))&&(k>c&&(k=c),c>d&&(d=c))}return[k,d]};E.sum=function(a,b){var c,d=0,e=a.length,f=-1;if(1===arguments.length)for(;++f<e;)!isNaN(c=+a[f])&&
(d+=c);else for(;++f<e;)!isNaN(c=+b.call(a,a[f],f))&&(d+=c);return d};E.mean=function(a,b){var c,d=0,e=a.length,f=-1,k=e;if(1===arguments.length)for(;++f<e;)isNaN(c=C(a[f]))?--k:d+=c;else for(;++f<e;)isNaN(c=C(b.call(a,a[f],f)))?--k:d+=c;return k?d/k:void 0};E.quantile=function(a,b){var c=(a.length-1)*b+1;b=Math.floor(c);var d=+a[b-1];return(c-=b)?d+c*(a[b]-d):d};E.median=function(a,b){var c,d=[],e=a.length,f=-1;if(1===arguments.length)for(;++f<e;)!isNaN(c=C(a[f]))&&d.push(c);else for(;++f<e;)!isNaN(c=
C(b.call(a,a[f],f)))&&d.push(c);return d.length?E.quantile(d.sort(x),.5):void 0};E.variance=function(a,b){var c,d,e=a.length,f=0,k=0,g=-1,h=0;if(1===arguments.length)for(;++g<e;)!isNaN(c=C(a[g]))&&(d=c-f,f+=d/++h,k+=d*(c-f));else for(;++g<e;)!isNaN(c=C(b.call(a,a[g],g)))&&(d=c-f,f+=d/++h,k+=d*(c-f));return 1<h?k/(h-1):void 0};E.deviation=function(){var a=E.variance.apply(this,arguments);return a?Math.sqrt(a):a};var Rg=p(x);E.bisectLeft=Rg.left;E.bisect=E.bisectRight=Rg.right;E.bisector=function(a){return p(1===
a.length?function(b,c){return x(a(b),c)}:a)};E.shuffle=function(a,b,c){3>(f=arguments.length)&&(c=a.length,2>f&&(b=0));for(var d,e,f=c-b;f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a};E.permute=function(a,b){for(var c=b.length,d=Array(c);c--;)d[c]=a[b[c]];return d};E.pairs=function(a){for(var b=0,c=a.length-1,d=a[0],e=Array(0>c?0:c);c>b;)e[b]=[d,d=a[++b]];return e};E.transpose=function(a){if(!(e=a.length))return[];for(var b=-1,c=E.min(a,l),d=Array(c);++b<c;)for(var e,f=-1,k=d[b]=
Array(e);++f<e;)k[f]=a[f][b];return d};E.zip=function(){return E.transpose(arguments)};E.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};E.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};E.entries=function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};E.merge=function(a){var b,c=a.length;var d=-1;for(var e=0;++d<c;)e+=a[d].length;for(b=Array(e);0<=--c;){var f=a[c];for(d=f.length;0<=--d;)b[--e]=f[d]}return b};var Na=Math.abs;E.range=function(a,b,c){if(3>arguments.length&&
(c=1,2>arguments.length&&(b=a,a=0)),(b-a)/c===1/0)throw Error("infinite range");var d=[],e;var f=Na(c);for(e=1;f*e%1;)e*=10;var k=-1;if(a*=e,b*=e,c*=e,0>c)for(;(f=a+c*++k)>b;)d.push(f/e);else for(;(f=a+c*++k)<b;)d.push(f/e);return d};E.map=function(a,b){var c=new y;if(a instanceof y)a.forEach(function(k,g){c.set(k,g)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(1===arguments.length)for(;++e<f;)c.set(e,a[e]);else for(;++e<f;)c.set(b.call(a,d=a[e],e),d)}else for(e in a)c.set(e,a[e]);return c};
var jh="__proto__",Od="\x00";t(y,{has:D,get:function(a){return this._[m(a)]},set:function(a,b){return this._[m(a)]=b},remove:P,keys:W,values:function(){var a=[],b;for(b in this._)a.push(this._[b]);return a},entries:function(){var a=[],b;for(b in this._)a.push({key:v(b),value:this._[b]});return a},size:I,empty:S,forEach:function(a){for(var b in this._)a.call(this,v(b),this._[b])}});E.nest=function(){function a(g,h,n){if(n>=f.length)return d?d.call(e,h):c?h.sort(c):h;for(var q,u,A,B,G=-1,Q=h.length,
K=f[n++],M=new y;++G<Q;)(B=M.get(q=K(u=h[G])))?B.push(u):M.set(q,[u]);return g?(u=g(),A=function(O,R){u.set(O,a(g,R,n))}):(u={},A=function(O,R){u[O]=a(g,R,n)}),M.forEach(A),u}function b(g,h){if(h>=f.length)return g;var n=[],q=k[h++];return g.forEach(function(u,A){n.push({key:u,values:b(A,h)})}),q?n.sort(function(u,A){return q(u.key,A.key)}):n}var c,d,e={},f=[],k=[];return e.map=function(g,h){return a(h,g,0)},e.entries=function(g){return b(a(E.map,g,0),0)},e.key=function(g){return f.push(g),e},e.sortKeys=
function(g){return k[f.length-1]=g,e},e.sortValues=function(g){return c=g,e},e.rollup=function(g){return d=g,e},e};E.set=function(a){var b=new N;if(a)for(var c=0,d=a.length;d>c;++c)b.add(a[c]);return b};t(N,{has:D,add:function(a){return this._[m(a+="")]=!0,a},remove:P,values:W,size:I,empty:S,forEach:function(a){for(var b in this._)a.call(this,v(b))}});E.behavior={};E.rebind=function(a,b){for(var c,d=1,e=arguments.length;++d<e;)a[c=arguments[d]]=Z(a,b,b[c]);return a};var Xe="webkit ms moz Moz o O".split(" ");
E.dispatch=function(){for(var a=new ca,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=oa(a);return a};ca.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(0<=c&&(d=a.slice(c+1),a=a.slice(0,c)),a)return 2>arguments.length?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}};E.event=null;E.requote=function(a){return a.replace(bj,"\\$&")};var bj=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Pc={}.__proto__?function(a,b){a.__proto__=
b}:function(a,b){for(var c in b)a[c]=b[c]},Pd=function(a,b){return b.querySelector(a)},Qd=function(a,b){return b.querySelectorAll(a)},Sd=function(a,b){var c=a.matches||a[w(a,"matchesSelector")];return(Sd=function(d,e){return c.call(d,e)})(a,b)};"function"==typeof Sizzle&&(Pd=function(a,b){return Sizzle(a,b)[0]||null},Qd=Sizzle,Sd=Sizzle.matchesSelector);E.selection=function(){return E.select(xb.documentElement)};var Ya=E.selection.prototype=[];Ya.select=function(a){var b,c,d,e,f=[];a=ja(a);for(var k=
-1,g=this.length;++k<g;){f.push(b=[]);b.parentNode=(d=this[k]).parentNode;for(var h=-1,n=d.length;++h<n;)(e=d[h])?(b.push(c=a.call(e,e.__data__,h,k)),c&&"__data__"in e&&(c.__data__=e.__data__)):b.push(null)}return xa(f)};Ya.selectAll=function(a){var b,c,d=[];a=V(a);for(var e=-1,f=this.length;++e<f;)for(var k=this[e],g=-1,h=k.length;++g<h;)(c=k[g])&&(d.push(b=Kb(a.call(c,c.__data__,g,e))),b.parentNode=c);return xa(d)};var Rd="http://www.w3.org/1999/xhtml",Ne={svg:"http://www.w3.org/2000/svg",xhtml:Rd,
xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};E.ns={prefix:Ne,qualify:function(a){var b=a.indexOf(":"),c=a;return 0<=b&&"xmlns"!==(c=a.slice(0,b))&&(a=a.slice(b+1)),Ne.hasOwnProperty(c)?{space:Ne[c],local:a}:a}};Ya.attr=function(a,b){if(2>arguments.length){if("string"==typeof a){var c=this.node();return a=E.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(ha(b,a[b]));return this}return this.each(ha(a,
b))};Ya.classed=function(a,b){if(2>arguments.length){if("string"==typeof a){var c=this.node(),d=(a=(a+"").trim().split(/^|\s+/)).length,e=-1;if(b=c.classList)for(;++e<d;){if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!Ca(a[e]).test(b))return!1;return!0}for(b in a)this.each(na(b,a[b]));return this}return this.each(na(a,b))};Ya.style=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b="");for(c in a)this.each(Ea(c,a[c],b));return this}if(2>d)return d=
this.node(),r(d).getComputedStyle(d,null).getPropertyValue(a);c=""}return this.each(Ea(a,b,c))};Ya.property=function(a,b){if(2>arguments.length){if("string"==typeof a)return this.node()[a];for(b in a)this.each(Va(b,a[b]));return this}return this.each(Va(a,b))};Ya.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};
Ya.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};Ya.append=function(a){return a=db(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};Ya.insert=function(a,b){return a=db(a),b=ja(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})};
Ya.remove=function(){return this.each(Xa)};Ya.data=function(a,b){function c(q,u){var A,B,G,Q=q.length,K=u.length,M=Math.min(Q,K),O=Array(K),R=Array(K),U=Array(Q);if(b){var X;M=new y;var F=Array(Q);for(A=-1;++A<Q;)(B=q[A])&&(M.has(X=b.call(B,B.__data__,A))?U[A]=B:M.set(X,B),F[A]=X);for(A=-1;++A<K;)(B=M.get(X=b.call(u,G=u[A],A)))?!0!==B&&(O[A]=B,B.__data__=G):R[A]={__data__:G},M.set(X,!0);for(A=-1;++A<Q;)A in F&&!0!==M.get(F[A])&&(U[A]=q[A])}else{for(A=-1;++A<M;)B=q[A],G=u[A],B?(B.__data__=G,O[A]=B):
R[A]={__data__:G};for(;K>A;++A)R[A]={__data__:u[A]};for(;Q>A;++A)U[A]=q[A]}R.update=O;R.parentNode=O.parentNode=U.parentNode=q.parentNode;g.push(R);h.push(O);n.push(U)}var d,e,f=-1,k=this.length;if(!arguments.length){for(a=Array(k=(d=this[0]).length);++f<k;)(e=d[f])&&(a[f]=e.__data__);return a}var g=kb([]),h=xa([]),n=xa([]);if("function"==typeof a)for(;++f<k;)c(d=this[f],a.call(d,d.parentNode.__data__,f));else for(;++f<k;)c(d=this[f],a);return h.enter=function(){return g},h.exit=function(){return n},
h};Ya.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};Ya.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=Ma(a));for(var f=0,k=this.length;k>f;f++){e.push(b=[]);b.parentNode=(c=this[f]).parentNode;for(var g=0,h=c.length;h>g;g++)(d=c[g])&&a.call(d,d.__data__,g,f)&&b.push(d)}return xa(e)};Ya.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];0<=--e;)(c=d[e])&&(f&&f!==c.nextSibling&&f.parentNode.insertBefore(c,
f),f=c);return this};Ya.sort=function(a){a=Oa.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};Ya.each=function(a){return Ua(this,function(b,c,d){a.call(b,b.__data__,c,d)})};Ya.call=function(a){var b=Kb(arguments);return a.apply(b[0]=this,b),this};Ya.empty=function(){return!this.node()};Ya.node=function(){for(var a=0,b=this.length;b>a;a++)for(var c=this[a],d=0,e=c.length;e>d;d++){var f=c[d];if(f)return f}return null};Ya.size=function(){var a=0;return Ua(this,
function(){++a}),a};var Nb=[];E.selection.enter=kb;E.selection.enter.prototype=Nb;Nb.append=Ya.append;Nb.empty=Ya.empty;Nb.node=Ya.node;Nb.call=Ya.call;Nb.size=Ya.size;Nb.select=function(a){for(var b,c,d,e,f,k=[],g=-1,h=this.length;++g<h;){d=(e=this[g]).update;k.push(b=[]);b.parentNode=e.parentNode;for(var n=-1,q=e.length;++n<q;)(f=e[n])?(b.push(d[n]=c=a.call(e.parentNode,f.__data__,n,g)),c.__data__=f.__data__):b.push(null)}return xa(k)};Nb.insert=function(a,b){return 2>arguments.length&&(b=Sa(this)),
Ya.insert.call(this,a,b)};E.select=function(a){var b;return"string"==typeof a?(b=[Pd(a,xb)],b.parentNode=xb.documentElement):(b=[a],b.parentNode=a&&(a.ownerDocument||a.document||a).documentElement),xa([b])};E.selectAll=function(a){var b;return"string"==typeof a?(b=Kb(Qd(a,xb)),b.parentNode=xb.documentElement):(b=Kb(a),b.parentNode=null),xa([b])};Ya.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b=!1);for(c in a)this.each($a(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+
a])&&d._;c=!1}return this.each($a(a,b,c))};var Td=E.map({mouseenter:"mouseover",mouseleave:"mouseout"});xb&&Td.forEach(function(a){"on"+a in xb&&Td.remove(a)});var Zb,kh=0;E.mouse=function(a){return aa(a,ea())};var Ud=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;E.touch=function(a,b,c){if(3>arguments.length&&(c=b,b=ea().changedTouches),b)for(var d,e=0,f=b.length;f>e;++e)if((d=b[e]).identifier===c)return aa(a,d)};E.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",
f)}function b(k,g,h,n,q){return function(){var u,A=E.event.target.correspondingElement||E.event.target,B=this.parentNode,G=c.of(this,arguments),Q=0,K=k(),M=".drag"+(null==K?"":"-"+K),O=E.select(h(A)).on(n+M,function(){var X,F,J=g(B,K);J&&(X=J[0]-U[0],F=J[1]-U[1],Q|=X|F,U=J,G({type:"drag",x:J[0]+u[0],y:J[1]+u[1],dx:X,dy:F}))}).on(q+M,function(){g(B,K)&&(O.on(n+M,null).on(q+M,null),R(Q),G({type:"dragend"}))}),R=H(A),U=g(B,K);d?(u=d.apply(this,arguments),u=[u.x-U[0],u.y-U[1]]):u=[0,0];G({type:"dragstart"})}}
var c=qa(a,"drag","dragstart","dragend"),d=null,e=b(fa,E.mouse,r,"mousemove","mouseup"),f=b(pa,E.touch,L,"touchmove","touchend");return a.origin=function(k){return arguments.length?(d=k,a):d},E.rebind(a,c,"on")};E.touches=function(a,b){return 2>arguments.length&&(b=ea().touches),b?Kb(b).map(function(c){var d=aa(a,c);return d.identifier=c.identifier,d}):[]};var wa=1E-6,kd=wa*wa,Ja=Math.PI,Eb=2*Ja,cj=Eb-wa,lb=Ja/2,Ka=Ja/180,ib=180/Ja,Mc=Math.SQRT2;E.interpolateZoom=function(a,b){var c=a[0],d=a[1],e=
a[2];a=b[2];var f=b[0]-c,k=b[1]-d,g=f*f+k*k;if(kd>g){var h=Math.log(a/e)/Mc;a=function(u){return[c+u*f,d+u*k,e*Math.exp(Mc*u*h)]}}else{var n=Math.sqrt(g);b=(a*a-e*e+4*g)/(4*e*n);a=(a*a-e*e-4*g)/(4*a*n);var q=Math.log(Math.sqrt(b*b+1)-b);h=(Math.log(Math.sqrt(a*a+1)-a)-q)/Mc;a=function(u){u*=h;var A=rb(q),B=Mc*u+q;var G=((B=Math.exp(2*B))-1)/(B+1);var Q=q;B=((Q=Math.exp(Q))-1/Q)/2;G=e/(2*n)*(A*G-B);return[c+G*f,d+G*k,e*A/rb(Mc*u+q)]}}return a.duration=1E3*h,a};E.behavior.zoom=function(){function a(ma){ma.on(ia,
n).on(Oe+".zoom",u).on("dblclick.zoom",A).on(Ia,q)}function b(ma){return[(ma[0]-F.x)/F.k,(ma[1]-F.y)/F.k]}function c(ma){F.k=Math.max(Y[0],Math.min(Y[1],ma))}function d(ma,Ga){Ga=[Ga[0]*F.k+F.x,Ga[1]*F.k+F.y];F.x+=ma[0]-Ga[0];F.y+=ma[1]-Ga[1]}function e(ma,Ga,Ta,Za){ma.__chart__={x:F.x,y:F.y,k:F.k};c(Math.pow(2,Za));d(G=Ga,Ta);ma=E.select(ma);0<ba&&(ma=ma.transition().duration(ba));ma.call(a.event)}function f(){R&&R.domain(O.range().map(function(ma){return(ma-F.x)/F.k}).map(O.invert));X&&X.domain(U.range().map(function(ma){return(ma-
F.y)/F.k}).map(U.invert))}function k(ma){da++||ma({type:"zoomstart"})}function g(ma){f();ma({type:"zoom",scale:F.k,translate:[F.x,F.y]})}function h(ma){--da||(ma({type:"zoomend"}),G=null)}function n(){var ma=this,Ga=La.of(ma,arguments),Ta=0,Za=E.select(r(ma)).on(la,function(){Ta=1;d(E.mouse(ma),ub);g(Ga)}).on(Fa,function(){Za.on(la,null).on(Fa,null);gb(Ta);h(Ga)}),ub=b(E.mouse(ma)),gb=H(ma);yd.call(ma);k(Ga)}function q(){function ma(){var hb=E.touches(gb);return ub=F.k,hb.forEach(function(jb){jb.identifier in
pb&&(pb[jb.identifier]=b(jb))}),hb}function Ga(){var hb=E.event.target;E.select(hb).on(zc,Ta).on(Ac,Za);ec.push(hb);hb=E.event.changedTouches;for(var jb=0,Bb=hb.length;Bb>jb;++jb)pb[hb[jb].identifier]=null;jb=ma();Bb=Date.now();1===jb.length?(500>Bb-M&&(hb=jb[0],e(gb,hb,pb[hb.identifier],Math.floor(Math.log(F.k)/Math.LN2)+1),T()),M=Bb):1<jb.length&&(hb=jb[0],Bb=jb[1],jb=hb[0]-Bb[0],hb=hb[1]-Bb[1],zb=jb*jb+hb*hb)}function Ta(){var hb,jb,Bb=E.touches(gb);yd.call(gb);for(var zd=0,dj=Bb.length;dj>zd;++zd,
jb=null)if(hb=Bb[zd],jb=pb[hb.identifier]){if(Nc)break;var uc=hb;var Nc=jb}if(jb){var Oc=(Oc=hb[0]-uc[0])*Oc+(Oc=hb[1]-uc[1])*Oc;Bb=zb&&Math.sqrt(Oc/zb);uc=[(uc[0]+hb[0])/2,(uc[1]+hb[1])/2];Nc=[(Nc[0]+jb[0])/2,(Nc[1]+jb[1])/2];c(Bb*ub)}M=null;d(uc,Nc);g(tb)}function Za(){if(E.event.touches.length){for(var hb=E.event.changedTouches,jb=0,Bb=hb.length;Bb>jb;++jb)delete pb[hb[jb].identifier];for(var zd in pb)return void ma()}E.selectAll(ec).on(Ab,null);Sg.on(ia,n).on(Ia,q);ej();h(tb)}var ub,gb=this,tb=
La.of(gb,arguments),pb={},zb=0,Ab=".zoom-"+E.event.changedTouches[0].identifier,zc="touchmove"+Ab,Ac="touchend"+Ab,ec=[],Sg=E.select(gb),ej=H(gb);Ga();k(tb);Sg.on(ia,null).on(Ia,Ga)}function u(){var ma=La.of(this,arguments);K?clearTimeout(K):(yd.call(this),B=b(G=Q||E.mouse(this)),k(ma));K=setTimeout(function(){K=null;h(ma)},50);T();c(Math.pow(2,.002*Ad())*F.k);d(G,B);g(ma)}function A(){var ma=E.mouse(this),Ga=Math.log(F.k)/Math.LN2;e(this,ma,b(ma),E.event.shiftKey?Math.ceil(Ga)-1:Math.floor(Ga)+1)}
var B,G,Q,K,M,O,R,U,X,F={x:0,y:0,k:1},J=[960,500],Y=Tg,ba=250,da=0,ia="mousedown.zoom",la="mousemove.zoom",Fa="mouseup.zoom",Ia="touchstart.zoom",La=qa(a,"zoomstart","zoom","zoomend");return Oe||(Oe="onwheel"in xb?(Ad=function(){return-E.event.deltaY*(E.event.deltaMode?120:1)},"wheel"):"onmousewheel"in xb?(Ad=function(){return E.event.wheelDelta},"mousewheel"):(Ad=function(){return-E.event.detail},"MozMousePixelScroll")),a.event=function(ma){ma.each(function(){var Ga=La.of(this,arguments),Ta=F;jc?
E.select(this).transition().each("start.zoom",function(){F=this.__chart__||{x:0,y:0,k:1};k(Ga)}).tween("zoom:zoom",function(){var Za=J[0],ub=J[1],gb=G?G[0]:Za/2,tb=G?G[1]:ub/2,pb=E.interpolateZoom([(gb-F.x)/F.k,(tb-F.y)/F.k,Za/F.k],[(gb-Ta.x)/Ta.k,(tb-Ta.y)/Ta.k,Za/Ta.k]);return function(zb){zb=pb(zb);var Ab=Za/zb[2];this.__chart__=F={x:gb-zb[0]*Ab,y:tb-zb[1]*Ab,k:Ab};g(Ga)}}).each("interrupt.zoom",function(){h(Ga)}).each("end.zoom",function(){h(Ga)}):(this.__chart__=F,k(Ga),g(Ga),h(Ga))})},a.translate=
function(ma){return arguments.length?(F={x:+ma[0],y:+ma[1],k:F.k},f(),a):[F.x,F.y]},a.scale=function(ma){return arguments.length?(F={x:F.x,y:F.y,k:null},c(+ma),f(),a):F.k},a.scaleExtent=function(ma){return arguments.length?(Y=null==ma?Tg:[+ma[0],+ma[1]],a):Y},a.center=function(ma){return arguments.length?(Q=ma&&[+ma[0],+ma[1]],a):Q},a.size=function(ma){return arguments.length?(J=ma&&[+ma[0],+ma[1]],a):J},a.duration=function(ma){return arguments.length?(ba=+ma,a):ba},a.x=function(ma){return arguments.length?
(R=ma,O=ma.copy(),F={x:0,y:0,k:1},a):R},a.y=function(ma){return arguments.length?(X=ma,U=ma.copy(),F={x:0,y:0,k:1},a):X},E.rebind(a,La,"on")};var Ad,Oe,Tg=[0,1/0];E.color=ob;ob.prototype.toString=function(){return this.rgb()+""};E.hsl=fb;var Pe=fb.prototype=new ob;Pe.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new fb(this.h,this.s,this.l/a)};Pe.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new fb(this.h,this.s,a*this.l)};Pe.rgb=function(){return Gb(this.h,this.s,
this.l)};E.hcl=va;var Qe=va.prototype=new ob;Qe.brighter=function(a){return new va(this.h,this.c,Math.min(100,this.l+Bd*(arguments.length?a:1)))};Qe.darker=function(a){return new va(this.h,this.c,Math.max(0,this.l-Bd*(arguments.length?a:1)))};Qe.rgb=function(){return sa(this.h,this.c,this.l).rgb()};E.lab=Ba;var Bd=18,Ye=.95047,Ze=1,$e=1.08883,Re=Ba.prototype=new ob;Re.brighter=function(a){return new Ba(Math.min(100,this.l+Bd*(arguments.length?a:1)),this.a,this.b)};Re.darker=function(a){return new Ba(Math.max(0,
this.l-Bd*(arguments.length?a:1)),this.a,this.b)};Re.rgb=function(){return Da(this.l,this.a,this.b)};E.rgb=ra;var Cd=ra.prototype=new ob;Cd.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b;return b||c||d?(b&&30>b&&(b=30),c&&30>c&&(c=30),d&&30>d&&(d=30),new ra(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new ra(30,30,30)};Cd.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ra(a*this.r,a*this.g,a*this.b)};Cd.hsl=function(){return nb(this.r,
this.g,this.b)};Cd.toString=function(){return"#"+wb(this.r)+wb(this.g)+wb(this.b)};var Qc=E.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,
darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,
gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,
lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,
orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,
slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Qc.forEach(function(a,b){Qc.set(a,new ra(b>>16,b>>8&255,255&b))});E.functor=cb;E.xhr=Xd(L);E.dsv=function(a,b){function c(n,q,u){3>arguments.length&&(u=q,q=null);var A=Rc(n,b,null==q?d:e(q),u);return A.row=function(B){return arguments.length?A.response(null==
(q=B)?d:e(B)):q},A}function d(n){return c.parse(n.responseText)}function e(n){return function(q){return c.parse(q.responseText,n)}}function f(n){return n.map(k).join(a)}function k(n){return g.test(n)?'"'+n.replace(/"/g,'""')+'"':n}var g=new RegExp('["'+a+"\n]"),h=a.charCodeAt(0);return c.parse=function(n,q){var u;return c.parseRows(n,function(A,B){if(u)return u(A,B-1);var G=new Function("d","return {"+A.map(function(Q,K){return JSON.stringify(Q)+": d["+K+"]"}).join(",")+"}");u=q?function(Q,K){return q(G(Q),
K)}:G})},c.parseRows=function(n,q){function u(){if(O>=M)return Q;if(B)return B=!1,G;var X=O;if(34===n.charCodeAt(X)){for(var F=X;F++<M;)if(34===n.charCodeAt(F)){if(34!==n.charCodeAt(F+1))break;++F}O=F+2;var J=n.charCodeAt(F+1);return 13===J?(B=!0,10===n.charCodeAt(F+2)&&++O):10===J&&(B=!0),n.slice(X+1,F).replace(/""/g,'"')}for(;M>O;){J=n.charCodeAt(O++);F=1;if(10===J)B=!0;else if(13===J)B=!0,10===n.charCodeAt(O)&&(++O,++F);else if(J!==h)continue;return n.slice(X,O-F)}return n.slice(X)}for(var A,B,
G={},Q={},K=[],M=n.length,O=0,R=0;(A=u())!==Q;){for(var U=[];A!==G&&A!==Q;)U.push(A),A=u();q&&null==(U=q(U,R++))||K.push(U)}return K},c.format=function(n){if(Array.isArray(n[0]))return c.formatRows(n);var q=new N,u=[];return n.forEach(function(A){for(var B in A)q.has(B)||u.push(q.add(B))}),[u.map(k).join(a)].concat(n.map(function(A){return u.map(function(B){return k(A[B])}).join(a)})).join("\n")},c.formatRows=function(n){return n.map(f).join("\n")},c};E.csv=E.dsv(",","text/csv");E.tsv=E.dsv("\t",
"text/tab-separated-values");var Uc,Tc,Vc,Wc,af=this[w(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};E.timer=function(){Sc.apply(this,arguments)};E.timer.flush=function(){bf();cf()};E.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var fj="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var c=Math.pow(10,3*Na(8-b));return{scale:8<b?function(d){return d/c}:function(d){return d*c},symbol:a}});E.formatPrefix=function(a,b){var c=0;return(a=
+a)&&(0>a&&(a*=-1),b&&(a=E.round(a,Zd(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3)))),fj[8+c/3]};var df=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,nh=E.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,
b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=E.round(a,Zd(a,b))).toFixed(Math.max(0,Math.min(20,Zd(a*(1+1E-15),b))))}}),Aa=E.time={},vb=Date;Ob.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},
getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Rb.setUTCDate.apply(this._,arguments)},setDay:function(){Rb.setUTCDay.apply(this._,arguments)},setFullYear:function(){Rb.setUTCFullYear.apply(this._,arguments)},setHours:function(){Rb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Rb.setUTCMilliseconds.apply(this._,
arguments)},setMinutes:function(){Rb.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Rb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Rb.setUTCSeconds.apply(this._,arguments)},setTime:function(){Rb.setTime.apply(this._,arguments)}};var Rb=Date.prototype;Aa.year=$b(function(a){return a=Aa.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()});Aa.years=Aa.year.range;Aa.years.utc=Aa.year.utc.range;Aa.day=$b(function(a){var b=
new vb(2E3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});Aa.days=Aa.day.range;Aa.days.utc=Aa.day.utc.range;Aa.dayOfYear=function(a){var b=Aa.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,b){b=7-b;var c=Aa[a]=$b(function(d){return(d=Aa.day(d)).setDate(d.getDate()-(d.getDay()+
b)%7),d},function(d,e){d.setDate(d.getDate()+7*Math.floor(e))},function(d){var e=Aa.year(d).getDay();return Math.floor((Aa.dayOfYear(d)+(e+b)%7)/7)-(e!==b)});Aa[a+"s"]=c.range;Aa[a+"s"].utc=c.utc.range;Aa[a+"OfYear"]=function(d){var e=Aa.year(d).getDay();return Math.floor((Aa.dayOfYear(d)+(e+b)%7)/7)}});Aa.week=Aa.sunday;Aa.weeks=Aa.sunday.range;Aa.weeks.utc=Aa.sunday.utc.range;Aa.weekOfYear=Aa.sundayOfYear;var ef={"-":"",_:" ",0:"0"},mb=/^\s*\d+/,hf=/^%/;E.locale=function(a){return{numberFormat:mh(a),
timeFormat:ph(a)}};var Ug=E.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});E.format=Ug.numberFormat;
E.geo={};$d.prototype={s:0,t:0,add:function(a){jf(a,this.t,Dd);jf(Dd.s,this.s,this);this.s?this.t+=Dd.t:this.s=Dd.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Dd=new $d;E.geo.stream=function(a,b){a&&Vg.hasOwnProperty(a.type)?Vg[a.type](a,b):$c(a,b)};var Vg={Feature:function(a,b){$c(a.geometry,b)},FeatureCollection:function(a,b){a=a.features;for(var c=-1,d=a.length;++c<d;)$c(a[c].geometry,b)}},kf={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates;b.point(a[0],
a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){ae(a.coordinates,b,0)},MultiLineString:function(a,b){a=a.coordinates;for(var c=-1,d=a.length;++c<d;)ae(a[c],b,0)},Polygon:function(a,b){lf(a.coordinates,b)},MultiPolygon:function(a,b){a=a.coordinates;for(var c=-1,d=a.length;++c<d;)lf(a[c],b)},GeometryCollection:function(a,b){a=a.geometries;for(var c=-1,d=a.length;++c<d;)$c(a[c],b)}};E.geo.area=function(a){return Ed=
0,E.geo.stream(a,Db),Ed};var Ed,ac=new $d,Db={sphere:function(){Ed+=4*Ja},point:fa,lineStart:fa,lineEnd:fa,polygonStart:function(){ac.reset();Db.lineStart=Eh},polygonEnd:function(){var a=2*ac;Ed+=0>a?4*Ja+a:a;Db.lineStart=Db.lineEnd=Db.point=fa}};E.geo.bounds=function(){function a(F,J){R.push(U=[q=F,A=F]);u>J&&(u=J);J>B&&(B=J)}function b(F,J){var Y=bc([F*Ka,J*Ka]);if(M){var ba=kc(M,Y);ba=kc([ba[1],-ba[0],0],ba);cd(ba);ba=dd(ba);var da=F-G,ia=0<da?1:-1,la=ba[0]*ib*ia;da=180<Na(da);da^(la>ia*G&&ia*
F>la)?(J=ba[1]*ib,J>B&&(B=J)):(la=(la+360)%360-180,da^(la>ia*G&&ia*F>la))?(J=-ba[1]*ib,u>J&&(u=J)):(u>J&&(u=J),J>B&&(B=J));da?G>F?g(q,F)>g(q,A)&&(A=F):g(F,A)>g(q,A)&&(q=F):A>=q?(q>F&&(q=F),F>A&&(A=F)):F>G?g(q,F)>g(q,A)&&(A=F):g(F,A)>g(q,A)&&(q=F)}else a(F,J);M=Y;G=F}function c(){X.point=b}function d(){U[0]=q;U[1]=A;X.point=a;M=null}function e(F,J){if(M){var Y=F-G;O+=180<Na(Y)?Y+(0<Y?360:-360):Y}else Q=F,K=J;Db.point(F,J);b(F,J)}function f(){Db.lineStart()}function k(){e(Q,K);Db.lineEnd();Na(O)>wa&&
(q=-(A=180));U[0]=q;U[1]=A;M=null}function g(F,J){return 0>(J-=F)?J+360:J}function h(F,J){return F[0]-J[0]}function n(F,J){return J[0]<=J[1]?J[0]<=F&&F<=J[1]:F<J[0]||J[1]<F}var q,u,A,B,G,Q,K,M,O,R,U,X={point:a,lineStart:c,lineEnd:d,polygonStart:function(){X.point=e;X.lineStart=f;X.lineEnd=k;O=0;Db.polygonStart()},polygonEnd:function(){Db.polygonEnd();X.point=a;X.lineStart=c;X.lineEnd=d;0>ac?(q=-(A=180),u=-(B=90)):O>wa?B=90:-wa>O&&(u=-90);U[0]=q;U[1]=A}};return function(F){B=A=-(q=u=1/0);R=[];E.geo.stream(F,
X);if(F=R.length){R.sort(h);for(var J,Y=1,ba=R[0],da=[ba];F>Y;++Y)J=R[Y],n(J[0],ba)||n(J[1],ba)?(g(ba[0],J[1])>g(ba[0],ba[1])&&(ba[1]=J[1]),g(J[0],ba[1])>g(ba[0],ba[1])&&(ba[0]=J[0])):da.push(ba=J);var ia,la=-(1/0);F=da.length-1;Y=0;for(ba=da[F];F>=Y;ba=J,++Y)J=da[Y],(ia=g(ba[1],J[0]))>la&&(la=ia,q=J[0],A=ba[1])}return R=U=null,q===1/0||u===1/0?[[NaN,NaN],[NaN,NaN]]:[[q,u],[A,B]]}}();E.geo.centroid=function(a){xc=fd=cc=dc=Pb=Sb=Tb=Lb=lc=mc=Ub=0;E.geo.stream(a,Hb);a=lc;var b=mc,c=Ub,d=a*a+b*b+c*c;
return kd>d&&(a=Sb,b=Tb,c=Lb,wa>fd&&(a=cc,b=dc,c=Pb),d=a*a+b*b+c*c,kd>d)?[NaN,NaN]:[Math.atan2(b,a)*ib,Wa(c/Math.sqrt(d))*ib]};var xc,fd,cc,dc,Pb,Sb,Tb,Lb,lc,mc,Ub,Hb={sphere:fa,point:ce,lineStart:mf,lineEnd:nf,polygonStart:function(){Hb.lineStart=Fh},polygonEnd:function(){Hb.lineStart=mf}},Df=rf(yc,function(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart();b=1},point:function(f,k){var g=0<f?Ja:-Ja,h=Na(f-c);if(Na(h-Ja)<wa)a.point(c,d=0<(d+k)/2?lb:-lb),a.point(e,d),a.lineEnd(),
a.lineStart(),a.point(g,d),a.point(f,d),b=0;else if(e!==g&&h>=Ja){Na(c-e)<wa&&(c-=e*wa);Na(f-g)<wa&&(f-=g*wa);h=c;var n=d,q=f,u,A,B=Math.sin(h-q);d=Na(B)>wa?Math.atan((Math.sin(n)*(A=Math.cos(k))*Math.sin(q)-Math.sin(k)*(u=Math.cos(n))*Math.sin(h))/(u*A*B)):(n+k)/2;a.point(e,d);a.lineEnd();a.lineStart();a.point(g,d);b=0}a.point(c=f,d=k);e=g},lineEnd:function(){a.lineEnd();c=d=NaN},clean:function(){return 2-b}}},function(a,b,c,d){null==a?(c*=lb,d.point(-Ja,c),d.point(0,c),d.point(Ja,c),d.point(Ja,
0),d.point(Ja,-c),d.point(0,-c),d.point(-Ja,-c),d.point(-Ja,0),d.point(-Ja,c)):Na(a[0]-b[0])>wa?(a=a[0]<b[0]?Ja:-Ja,c=c*a/2,d.point(-a,c),d.point(0,c),d.point(a,c)):d.point(b[0],b[1])},[-Ja,-Ja/2]),hd=1E9;E.geo.clipExtent=function(){var a,b,c,d,e,f,k={stream:function(g){return e&&(e.valid=!1),e=f(g),e.valid=!0,e},extent:function(g){return arguments.length?(f=uf(a=+g[0][0],b=+g[0][1],c=+g[1][0],d=+g[1][1]),e&&(e.valid=!1,e=null),k):[[a,b],[c,d]]}};return k.extent([[0,0],[960,500]])};(E.geo.conicEqualArea=
function(){return ee(vf)}).raw=vf;E.geo.albers=function(){return E.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};E.geo.albersUsa=function(){function a(n){var q=n[0];n=n[1];return b=null,c(q,n),b||(d(q,n),b)||e(q,n),b}var b,c,d,e,f=E.geo.albers(),k=E.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),g=E.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(n,q){b=[n,q]}};return a.invert=function(n){var q=
f.scale(),u=f.translate(),A=(n[0]-u[0])/q;q=(n[1]-u[1])/q;return(.12<=q&&.234>q&&-.425<=A&&-.214>A?k:.166<=q&&.234>q&&-.214<=A&&-.115>A?g:f).invert(n)},a.stream=function(n){var q=f.stream(n),u=k.stream(n),A=g.stream(n);return{point:function(B,G){q.point(B,G);u.point(B,G);A.point(B,G)},sphere:function(){q.sphere();u.sphere();A.sphere()},lineStart:function(){q.lineStart();u.lineStart();A.lineStart()},lineEnd:function(){q.lineEnd();u.lineEnd();A.lineEnd()},polygonStart:function(){q.polygonStart();u.polygonStart();
A.polygonStart()},polygonEnd:function(){q.polygonEnd();u.polygonEnd();A.polygonEnd()}}},a.precision=function(n){return arguments.length?(f.precision(n),k.precision(n),g.precision(n),a):f.precision()},a.scale=function(n){return arguments.length?(f.scale(n),k.scale(.35*n),g.scale(n),a.translate(f.translate())):f.scale()},a.translate=function(n){if(!arguments.length)return f.translate();var q=f.scale(),u=+n[0],A=+n[1];return c=f.translate(n).clipExtent([[u-.455*q,A-.238*q],[u+.455*q,A+.238*q]]).stream(h).point,
d=k.translate([u-.307*q,A+.201*q]).clipExtent([[u-.425*q+wa,A+.12*q+wa],[u-.214*q-wa,A+.234*q-wa]]).stream(h).point,e=g.translate([u-.205*q,A+.212*q]).clipExtent([[u-.214*q+wa,A+.166*q+wa],[u-.115*q-wa,A+.234*q-wa]]).stream(h).point,a},a.scale(1070)};var Se,ge,Fd,Gd,Hd,Id,Vb={point:fa,lineStart:fa,lineEnd:fa,polygonStart:function(){ge=0;Vb.lineStart=Jh},polygonEnd:function(){Vb.lineStart=Vb.lineEnd=Vb.point=fa;Se+=Na(ge/2)}},gj={point:function(a,b){Fd>a&&(Fd=a);a>Hd&&(Hd=a);Gd>b&&(Gd=b);b>Id&&(Id=
b)},lineStart:fa,lineEnd:fa,polygonStart:fa,polygonEnd:fa},Ib={point:fc,lineStart:xf,lineEnd:yf,polygonStart:function(){Ib.lineStart=Lh},polygonEnd:function(){Ib.point=fc;Ib.lineStart=xf;Ib.lineEnd=yf}};E.geo.path=function(){function a(g){return g&&("function"==typeof k&&e.pointRadius(+k.apply(this,arguments)),f&&f.valid||(f=d(e)),E.geo.stream(g,f)),e.result()}var b,c,d,e,f,k=4.5;return a.area=function(g){return Se=0,E.geo.stream(g,d(Vb)),Se},a.centroid=function(g){return cc=dc=Pb=Sb=Tb=Lb=lc=mc=
Ub=0,E.geo.stream(g,d(Ib)),Ub?[lc/Ub,mc/Ub]:Lb?[Sb/Lb,Tb/Lb]:Pb?[cc/Pb,dc/Pb]:[NaN,NaN]},a.bounds=function(g){return Hd=Id=-(Fd=Gd=1/0),E.geo.stream(g,d(gj)),[[Fd,Gd],[Hd,Id]]},a.projection=function(g){return arguments.length?(d=(b=g)?g.stream||Nh(g):L,f=null,a):b},a.context=function(g){return arguments.length?(e=null==(c=g)?new Kh:new Mh(g),"function"!=typeof k&&e.pointRadius(k),f=null,a):c},a.pointRadius=function(g){return arguments.length?(k="function"==typeof g?g:(e.pointRadius(+g),+g),a):k},
a.projection(E.geo.albersUsa()).context(null)};E.geo.transform=function(a){return{stream:function(b){b=new Cf(b);for(var c in a)b[c]=a[c];return b}}};Cf.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};E.geo.projection=Wb;E.geo.projectionMutator=fe;(E.geo.equirectangular=
function(){return Wb(Bc)}).raw=Bc.invert=Bc;E.geo.rotation=function(a){function b(c){return c=a(c[0]*Ka,c[1]*Ka),c[0]*=ib,c[1]*=ib,c}return a=he(a[0]%360*Ka,a[1]*Ka,2<a.length?a[2]*Ka:0),b.invert=function(c){return c=a.invert(c[0]*Ka,c[1]*Ka),c[0]*=ib,c[1]*=ib,c},b};Ef.invert=Bc;E.geo.circle=function(){function a(){var f="function"==typeof d?d.apply(this,arguments):d,k=he(-f[0]*Ka,-f[1]*Ka,0).invert,g=[];return c(null,null,1,{point:function(h,n){g.push(h=k(h,n));h[0]*=ib;h[1]*=ib}}),{type:"Polygon",
coordinates:[g]}}var b,c,d=[0,0],e=6;return a.origin=function(f){return arguments.length?(d=f,a):d},a.angle=function(f){return arguments.length?(c=de((b=+f)*Ka,e*Ka),a):b},a.precision=function(f){return arguments.length?(c=de(b*Ka,(e=+f)*Ka),a):e},a.angle(90)};E.geo.distance=function(a,b){var c,d=(b[0]-a[0])*Ka,e=a[1]*Ka,f=b[1]*Ka;b=Math.cos(d);a=Math.sin(e);e=Math.cos(e);var k=Math.sin(f);f=Math.cos(f);return Math.atan2(Math.sqrt((c=f*Math.sin(d))*c+(c=e*k-a*f*b)*c),a*k+e*f*b)};E.geo.graticule=function(){function a(){return{type:"MultiLineString",
coordinates:b()}}function b(){return E.range(Math.ceil(f/K)*K,e,K).map(A).concat(E.range(Math.ceil(n/M)*M,h,M).map(B)).concat(E.range(Math.ceil(d/G)*G,c,G).filter(function(R){return Na(R%K)>wa}).map(q)).concat(E.range(Math.ceil(g/Q)*Q,k,Q).filter(function(R){return Na(R%M)>wa}).map(u))}var c,d,e,f,k,g,h,n,q,u,A,B,G=10,Q=G,K=90,M=360,O=2.5;return a.lines=function(){return b().map(function(R){return{type:"LineString",coordinates:R}})},a.outline=function(){return{type:"Polygon",coordinates:[A(f).concat(B(h).slice(1),
A(e).reverse().slice(1),B(n).reverse().slice(1))]}},a.extent=function(R){return arguments.length?a.majorExtent(R).minorExtent(R):a.minorExtent()},a.majorExtent=function(R){return arguments.length?(f=+R[0][0],e=+R[1][0],n=+R[0][1],h=+R[1][1],f>e&&(R=f,f=e,e=R),n>h&&(R=n,n=h,h=R),a.precision(O)):[[f,n],[e,h]]},a.minorExtent=function(R){return arguments.length?(d=+R[0][0],c=+R[1][0],g=+R[0][1],k=+R[1][1],d>c&&(R=d,d=c,c=R),g>k&&(R=g,g=k,k=R),a.precision(O)):[[d,g],[c,k]]},a.step=function(R){return arguments.length?
a.majorStep(R).minorStep(R):a.minorStep()},a.majorStep=function(R){return arguments.length?(K=+R[0],M=+R[1],a):[K,M]},a.minorStep=function(R){return arguments.length?(G=+R[0],Q=+R[1],a):[G,Q]},a.precision=function(R){return arguments.length?(O=+R,q=Jf(g,k,90),u=Kf(d,c,O),A=Jf(n,h,90),B=Kf(f,e,O),a):O},a.majorExtent([[-180,-90+wa],[180,90-wa]]).minorExtent([[-180,-80-wa],[180,80+wa]])};E.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||d.apply(this,arguments),c||e.apply(this,
arguments)]}}var b,c,d=ie,e=je;return a.distance=function(){return E.geo.distance(b||d.apply(this,arguments),c||e.apply(this,arguments))},a.source=function(f){return arguments.length?(d=f,b="function"==typeof f?null:f,a):d},a.target=function(f){return arguments.length?(e=f,c="function"==typeof f?null:f,a):e},a.precision=function(){return arguments.length?a:0},a};E.geo.interpolate=function(a,b){return Oh(a[0]*Ka,a[1]*Ka,b[0]*Ka,b[1]*Ka)};E.geo.length=function(a){return Te=0,E.geo.stream(a,vc),Te};
var Te,vc={sphere:fa,point:fa,lineStart:function(){function a(e,f){var k=Math.sin(f*=Ka);f=Math.cos(f);var g=Na((e*=Ka)-b),h=Math.cos(g);Te+=Math.atan2(Math.sqrt((g=f*Math.sin(g))*g+(g=d*k-c*f*h)*g),c*k+d*f*h);b=e;c=k;d=f}var b,c,d;vc.point=function(e,f){b=e*Ka;c=Math.sin(f*=Ka);d=Math.cos(f);vc.point=a};vc.lineEnd=function(){vc.point=vc.lineEnd=fa}},lineEnd:fa,polygonStart:fa,polygonEnd:fa},Wg=Cc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(E.geo.azimuthalEqualArea=
function(){return Wb(Wg)}).raw=Wg;var Xg=Cc(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},L);(E.geo.azimuthalEquidistant=function(){return Wb(Xg)}).raw=Xg;(E.geo.conicConformal=function(){return ee(Lf)}).raw=Lf;(E.geo.conicEquidistant=function(){return ee(Mf)}).raw=Mf;var Yg=Cc(function(a){return 1/a},Math.atan);(E.geo.gnomonic=function(){return Wb(Yg)}).raw=Yg;id.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-lb]};(E.geo.mercator=function(){return Nf(id)}).raw=id;var Zg=Cc(function(){return 1},
Math.asin);(E.geo.orthographic=function(){return Wb(Zg)}).raw=Zg;var $g=Cc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(E.geo.stereographic=function(){return Wb($g)}).raw=$g;ke.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-lb]};(E.geo.transverseMercator=function(){var a=Nf(ke),b=a.center,c=a.rotate;return a.center=function(d){return d?b([-d[1],d[0]]):(d=b(),[d[1],-d[0]])},a.rotate=function(d){return d?c([d[0],d[1],2<d.length?d[2]+90:90]):(d=c(),[d[0],d[1],d[2]-90])},
c([0,0,90])}).raw=ke;E.geom={};E.geom.hull=function(a){function b(e){if(3>e.length)return[];var f,k=cb(c),g=cb(d),h=e.length,n=[],q=[];for(f=0;h>f;f++)n.push([+k.call(this,e[f],f),+g.call(this,e[f],f),f]);n.sort(Ph);for(f=0;h>f;f++)q.push([n[f][0],-n[f][1]]);k=Of(n);q=Of(q);g=q[0]===k[0];h=q[q.length-1]===k[k.length-1];var u=[];for(f=k.length-1;0<=f;--f)u.push(e[n[k[f]][2]]);for(f=+g;f<q.length-h;++f)u.push(e[n[q[f]][2]]);return u}var c=nc,d=Dc;return arguments.length?b(a):(b.x=function(e){return arguments.length?
(c=e,b):c},b.y=function(e){return arguments.length?(d=e,b):d},b)};E.geom.polygon=function(a){return Pc(a,Jd),a};var Jd=E.geom.polygon.prototype=[];Jd.area=function(){for(var a,b=-1,c=this.length,d=this[c-1],e=0;++b<c;)a=d,d=this[b],e+=a[1]*d[0]-a[0]*d[1];return.5*e};Jd.centroid=function(a){var b=-1,c=this.length,d=0,e=0,f=this[c-1];for(arguments.length||(a=-1/(6*this.area()));++b<c;){var k=f;f=this[b];var g=k[0]*f[1]-f[0]*k[1];d+=(k[0]+f[0])*g;e+=(k[1]+f[1])*g}return[d*a,e*a]};Jd.clip=function(a){for(var b,
c,d,e,f,k,g=Pf(a),h=-1,n=this.length-Pf(this),q=this[n-1];++h<n;){b=a.slice();a.length=0;e=this[h];f=b[(d=b.length-g)-1];for(c=-1;++c<d;)k=b[c],le(k,q,e)?(le(f,q,e)||a.push(me(f,k,q,e)),a.push(k)):le(f,q,e)&&a.push(me(f,k,q,e)),f=k;g&&a.push(a[0]);q=e}return a};var rc,gc,pc,oe,Ec,Rf=[],Vf=[];Tf.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(Uf),b.length};md.prototype={start:function(){return this.edge.l===this.site?this.edge.a:
this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};pe.prototype={insert:function(a,b){var c;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;var d=a}else this._?(a=Xf(this._),b.P=null,b.N=a,a.P=a.L=b,d=a):(b.P=b.N=null,this._=b,d=null);b.L=b.R=null;b.U=d;b.C=!0;for(a=b;d&&d.C;)b=d.U,d===b.L?(c=b.R,c&&c.C?(d.C=c.C=!1,b.C=!0,a=b):(a===d.R&&(Gc(this,d),a=d,d=a.U),d.C=!1,b.C=!0,Hc(this,b))):(c=b.L,c&&c.C?(d.C=c.C=!1,b.C=!0,a=b):(a===
d.L&&(Hc(this,d),a=d,d=a.U),d.C=!1,b.C=!0,Gc(this,b))),d=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b,c,d,e=a.U,f=a.L,k=a.R;if(c=f?k?Xf(k):f:k,e?e.L===a?e.L=c:e.R=c:this._=c,f&&k?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==k?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=k,k.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,Gc(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=
!0,Hc(this,b),b=e.R);b.C=e.C;e.C=b.R.C=!1;Gc(this,e);a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,Hc(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,Gc(this,b),b=e.L);b.C=e.C;e.C=b.L.C=!1;Hc(this,e);a=this._;break}b.C=!0;a=e;e=e.U}while(!a.C);a&&(a.C=!1)}}};E.geom.voronoi=function(a){function b(h){var n=Array(h.length),q=g[0][0],u=g[0][1],A=g[1][0],B=g[1][1];return qe(c(h),g).cells.forEach(function(G,Q){var K=G.edges;G=G.site;(n[Q]=K.length?K.map(function(M){M=M.start();return[M.x,
M.y]}):G.x>=q&&G.x<=A&&G.y>=u&&G.y<=B?[[q,B],[A,B],[A,u],[q,u]]:[]).point=h[Q]}),n}function c(h){return h.map(function(n,q){return{x:Math.round(f(n,q)/wa)*wa,y:Math.round(k(n,q)/wa)*wa,i:q}})}var d=nc,e=Dc,f=d,k=e,g=Kd;return a?b(a):(b.links=function(h){return qe(c(h)).edges.filter(function(n){return n.l&&n.r}).map(function(n){return{source:h[n.l.i],target:h[n.r.i]}})},b.triangles=function(h){var n=[];return qe(c(h)).cells.forEach(function(q,u){var A=q.site,B=q.edges.sort(Uf),G=-1,Q=B.length,K=B[Q-
1].edge;for(K=K.l===A?K.r:K.l;++G<Q;)q=K,K=B[G].edge,K=K.l===A?K.r:K.l,u<q.i&&u<K.i&&0>(A.x-K.x)*(q.y-A.y)-(A.x-q.x)*(K.y-A.y)&&n.push([h[u],h[q.i],h[K.i]])}),n},b.x=function(h){return arguments.length?(f=cb(d=h),b):d},b.y=function(h){return arguments.length?(k=cb(e=h),b):e},b.clipExtent=function(h){return arguments.length?(g=null==h?Kd:h,b):g===Kd?null:g},b.size=function(h){return arguments.length?b.clipExtent(h&&[[0,0],h]):g===Kd?null:g&&g[1]},b)};var Kd=[[-1E6,-1E6],[1E6,1E6]];E.geom.delaunay=
function(a){return E.geom.voronoi().triangles(a)};E.geom.quadtree=function(a,b,c,d,e){function f(n){function q(ba,da,ia,la,Fa,Ia,La,ma){if(!isNaN(ia)&&!isNaN(la))if(ba.leaf){var Ga=ba.x,Ta=ba.y;if(null!=Ga){if(!(.01>Na(Ga-ia)+Na(Ta-la))){var Za=ba.point;ba.x=ba.y=ba.point=null;u(ba,Za,Ga,Ta,Fa,Ia,La,ma)}u(ba,da,ia,la,Fa,Ia,La,ma)}else ba.x=ia,ba.y=la,ba.point=da}else u(ba,da,ia,la,Fa,Ia,La,ma)}function u(ba,da,ia,la,Fa,Ia,La,ma){var Ga=.5*(Fa+La),Ta=.5*(Ia+ma),Za=ia>=Ga,ub=la>=Ta,gb=ub<<1|Za;ba.leaf=
!1;ba=ba.nodes[gb]||(ba.nodes[gb]=Yf());Za?Fa=Ga:La=Ga;ub?Ia=Ta:ma=Ta;q(ba,da,ia,la,Fa,Ia,La,ma)}var A,B,G,Q,K=cb(g),M=cb(h);if(null!=b){var O=b;var R=c;var U=d;var X=e}else if(U=X=-(O=R=1/0),A=[],B=[],Q=n.length,k)for(G=0;Q>G;++G){var F=n[G];F.x<O&&(O=F.x);F.y<R&&(R=F.y);F.x>U&&(U=F.x);F.y>X&&(X=F.y);A.push(F.x);B.push(F.y)}else for(G=0;Q>G;++G){var J=+K(F=n[G],G);F=+M(F,G);O>J&&(O=J);R>F&&(R=F);J>U&&(U=J);F>X&&(X=F);A.push(J);B.push(F)}J=U-O;F=X-R;J>F?X=R+J:U=O+F;var Y=Yf();if(Y.add=function(ba){q(Y,
ba,+K(ba,++G),+M(ba,G),O,R,U,X)},Y.visit=function(ba){Ic(ba,Y,O,R,U,X)},Y.find=function(ba){return Wh(Y,ba[0],ba[1],O,R,U,X)},G=-1,null==b){for(;++G<Q;)q(Y,n[G],A[G],B[G],O,R,U,X);--G}else n.forEach(Y.add);return A=B=n=F=null,Y}var k,g=nc,h=Dc;return(k=arguments.length)?(g=Uh,h=Vh,3===k&&(e=c,d=b,c=b=0),f(a)):(f.x=function(n){return arguments.length?(g=n,f):g},f.y=function(n){return arguments.length?(h=n,f):h},f.extent=function(n){return arguments.length?(null==n?b=c=d=e=null:(b=+n[0][0],c=+n[0][1],
d=+n[1][0],e=+n[1][1]),f):null==b?null:[[b,c],[d,e]]},f.size=function(n){return arguments.length?(null==n?b=c=d=e=null:(b=c=0,d=+n[0],e=+n[1]),f):null==b?null:[d-b,e-c]},f)};E.interpolateRgb=re;E.interpolateObject=Zf;E.interpolateNumber=Qb;E.interpolateString=$f;var se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,te=new RegExp(se.source,"g");E.interpolate=hc;E.interpolators=[function(a,b){var c=typeof b;return("string"===c?Qc.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?re:$f:b instanceof ob?
re:Array.isArray(b)?nd:"object"===c&&isNaN(b)?Zf:Qb)(a,b)}];E.interpolateArray=nd;var ah=function(){return L},hj=E.map({linear:ah,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return Yh},cubic:function(){return Zh},sin:function(){return ai},exp:function(){return bi},circle:function(){return ci},elastic:function(a,b){var c;return 2>arguments.length&&(b=.45),arguments.length?c=b/Eb*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Eb/b)}},
back:function(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}},bounce:function(){return di}}),ij=E.map({"in":L,out:ag,"in-out":bg,"out-in":function(a){return bg(ag(a))}});E.ease=function(a){var b=a.indexOf("-"),c=0<=b?a.slice(0,b):a;b=0<=b?a.slice(b+1):"in";return c=hj.get(c)||ah,b=ij.get(b)||L,Xh(b(c.apply(null,Pg.call(arguments,1))))};E.interpolateHcl=function(a,b){a=E.hcl(a);b=E.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,k=b.c-d,g=b.l-e;return isNaN(k)&&(k=0,d=isNaN(d)?b.c:d),isNaN(f)?(f=
0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360),function(h){return sa(c+f*h,d+k*h,e+g*h)+""}};E.interpolateHsl=function(a,b){a=E.hsl(a);b=E.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,k=b.s-d,g=b.l-e;return isNaN(k)&&(k=0,d=isNaN(d)?b.s:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):180<f?f-=360:-180>f&&(f+=360),function(h){return Gb(c+f*h,d+k*h,e+g*h)+""}};E.interpolateLab=function(a,b){a=E.lab(a);b=E.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,k=b.a-d,g=b.b-e;return function(h){return Da(c+f*h,d+k*h,e+g*h)+""}};E.interpolateRound=
cg;E.transform=function(a){var b=xb.createElementNS(E.ns.prefix.svg,"g");return(E.transform=function(c){if(null!=c){b.setAttribute("transform",c);var d=b.transform.baseVal.consolidate()}return new dg(d?d.matrix:jj)})(a)};dg.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var jj={a:1,b:0,c:0,d:1,e:0,f:0};E.interpolateTransform=fg;E.layout={};E.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<
d;){var e=b,f=e.push,k=a[c],g=k.source;k=k.target;var h=k;if(g===h)var n=g;else{n=gg(g);h=gg(h);for(var q=n.pop(),u=h.pop(),A=null;q===u;)A=q,q=n.pop(),u=h.pop();n=A}for(h=[g];g!==n;)g=g.parent,h.push(g);for(g=h.length;k!==n;)h.splice(g,0,k),k=k.parent;f.call(e,h)}return b}};E.layout.chord=function(){function a(){var u,A,B={},G=[],Q=E.range(f),K=[];c=[];d=[];var M=0;for(u=-1;++u<f;){var O=0;for(A=-1;++A<f;)O+=e[u][A];G.push(O);K.push(E.range(f));M+=O}k&&Q.sort(function(ba,da){return k(G[ba],G[da])});
g&&K.forEach(function(ba,da){ba.sort(function(ia,la){return g(e[da][ia],e[da][la])})});M=(Eb-q*f)/M;O=0;for(u=-1;++u<f;){var R=O;for(A=-1;++A<f;){var U=Q[u],X=K[U][A],F=e[U][X],J=O,Y=O+=F*M;B[U+"-"+X]={index:U,subindex:X,startAngle:J,endAngle:Y,value:F}}d[U]={index:U,startAngle:R,endAngle:O,value:G[U]};O+=q}for(u=-1;++u<f;)for(A=u-1;++A<f;)M=B[u+"-"+A],O=B[A+"-"+u],(M.value||O.value)&&c.push(M.value<O.value?{source:O,target:M}:{source:M,target:O});h&&b()}function b(){c.sort(function(u,A){return h((u.source.value+
u.target.value)/2,(A.source.value+A.target.value)/2)})}var c,d,e,f,k,g,h,n={},q=0;return n.matrix=function(u){return arguments.length?(f=(e=u)&&e.length,c=d=null,n):e},n.padding=function(u){return arguments.length?(q=u,c=d=null,n):q},n.sortGroups=function(u){return arguments.length?(k=u,c=d=null,n):k},n.sortSubgroups=function(u){return arguments.length?(g=u,c=null,n):g},n.sortChords=function(u){return arguments.length?(h=u,c&&b(),n):h},n.chords=function(){return c||a(),c},n.groups=function(){return d||
a(),d},n};E.layout.force=function(){function a(U){return function(X,F,J,Y){if(X.point!==U){J=X.cx-U.x;var ba=X.cy-U.y;F=Y-F;Y=J*J+ba*ba;if(Y>F*F/M)return Q>Y&&(F=X.charge/Y,U.px-=J*F,U.py-=ba*F),!0;X.point&&Y&&Q>Y&&(F=X.pointCharge/Y,U.px-=J*F,U.py-=ba*F)}return!X.charge}}function b(U){U.px=E.event.x;U.py=E.event.y;h.resume()}var c,d,e,f,k,g,h={},n=E.dispatch("start","tick","end"),q=[1,1],u=.9,A=kj,B=lj,G=-30,Q=mj,K=.1,M=.64,O=[],R=[];return h.tick=function(){if(.005>(e*=.99))return c=null,n.end({type:"end",
alpha:e=0}),!0;var U,X,F,J=O.length,Y=R.length;for(U=0;Y>U;++U){var ba=R[U];var da=ba.source;var ia=ba.target;var la=ia.x-da.x;var Fa=ia.y-da.y;(X=la*la+Fa*Fa)&&(X=e*k[U]*((X=Math.sqrt(X))-f[U])/X,la*=X,Fa*=X,ia.x-=la*(F=da.weight+ia.weight?da.weight/(da.weight+ia.weight):.5),ia.y-=Fa*F,da.x+=la*(F=1-F),da.y+=Fa*F)}if((F=e*K)&&(la=q[0]/2,Fa=q[1]/2,U=-1,F))for(;++U<J;)ba=O[U],ba.x+=(la-ba.x)*F,ba.y+=(Fa-ba.y)*F;if(G)for(hg(da=E.geom.quadtree(O),e,g),U=-1;++U<J;)(ba=O[U]).fixed||da.visit(a(ba));for(U=
-1;++U<J;)ba=O[U],ba.fixed?(ba.x=ba.px,ba.y=ba.py):(ba.x-=(ba.px-(ba.px=ba.x))*u,ba.y-=(ba.py-(ba.py=ba.y))*u);n.tick({type:"tick",alpha:e})},h.nodes=function(U){return arguments.length?(O=U,h):O},h.links=function(U){return arguments.length?(R=U,h):R},h.size=function(U){return arguments.length?(q=U,h):q},h.linkDistance=function(U){return arguments.length?(A="function"==typeof U?U:+U,h):A},h.distance=h.linkDistance,h.linkStrength=function(U){return arguments.length?(B="function"==typeof U?U:+U,h):
B},h.friction=function(U){return arguments.length?(u=+U,h):u},h.charge=function(U){return arguments.length?(G="function"==typeof U?U:+U,h):G},h.chargeDistance=function(U){return arguments.length?(Q=U*U,h):Math.sqrt(Q)},h.gravity=function(U){return arguments.length?(K=+U,h):K},h.theta=function(U){return arguments.length?(M=U*U,h):Math.sqrt(M)},h.alpha=function(U){return arguments.length?(U=+U,e?0<U?e=U:(c.c=null,c.t=NaN,c=null,n.end({type:"end",alpha:e=0})):0<U&&(n.start({type:"start",alpha:e=U}),
c=Sc(h.tick)),h):e},h.start=function(){function U(la,Fa){if(!F){F=Array(Y);for(ma=0;Y>ma;++ma)F[ma]=[];for(ma=0;ba>ma;++ma){var Ia=R[ma];F[Ia.source.index].push(Ia.target);F[Ia.target.index].push(Ia.source)}}for(var La=F[X],ma=-1,Ga=La.length;++ma<Ga;)if(!isNaN(Ia=La[ma][la]))return Ia;return Math.random()*Fa}var X,F,J,Y=O.length,ba=R.length,da=q[0],ia=q[1];for(X=0;Y>X;++X)(J=O[X]).index=X,J.weight=0;for(X=0;ba>X;++X)J=R[X],"number"==typeof J.source&&(J.source=O[J.source]),"number"==typeof J.target&&
(J.target=O[J.target]),++J.source.weight,++J.target.weight;for(X=0;Y>X;++X)J=O[X],isNaN(J.x)&&(J.x=U("x",da)),isNaN(J.y)&&(J.y=U("y",ia)),isNaN(J.px)&&(J.px=J.x),isNaN(J.py)&&(J.py=J.y);if(f=[],"function"==typeof A)for(X=0;ba>X;++X)f[X]=+A.call(this,R[X],X);else for(X=0;ba>X;++X)f[X]=A;if(k=[],"function"==typeof B)for(X=0;ba>X;++X)k[X]=+B.call(this,R[X],X);else for(X=0;ba>X;++X)k[X]=B;if(g=[],"function"==typeof G)for(X=0;Y>X;++X)g[X]=+G.call(this,O[X],X);else for(X=0;Y>X;++X)g[X]=G;return h.resume()},
h.resume=function(){return h.alpha(.1)},h.stop=function(){return h.alpha(0)},h.drag=function(){return d||(d=E.behavior.drag().origin(L).on("dragstart.force",ki).on("drag.force",b).on("dragend.force",li)),arguments.length?void this.on("mouseover.force",mi).on("mouseout.force",ni).call(d):d},E.rebind(h,n,"on")};var kj=20,lj=1,mj=1/0;E.layout.hierarchy=function(){function a(e){var f,k=[e],g=[];for(e.depth=0;null!=(f=k.pop());)if(g.push(f),(n=c.call(a,f,f.depth))&&(h=n.length)){for(var h,n,q;0<=--h;)k.push(q=
n[h]),q.parent=f,q.depth=f.depth+1;d&&(f.value=0);f.children=n}else d&&(f.value=+d.call(a,f,f.depth)||0),delete f.children;return Mb(e,function(u){var A,B;b&&(A=u.children)&&A.sort(b);d&&(B=u.parent)&&(B.value+=u.value)}),g}var b=ri,c=pi,d=qi;return a.sort=function(e){return arguments.length?(b=e,a):b},a.children=function(e){return arguments.length?(c=e,a):c},a.value=function(e){return arguments.length?(d=e,a):d},a.revalue=function(e){return d&&(Kc(e,function(f){f.children&&(f.value=0)}),Mb(e,function(f){var k;
f.children||(f.value=+d.call(a,f,f.depth)||0);(k=f.parent)&&(k.value+=f.value)})),e},a};E.layout.partition=function(){function a(f,k,g,h){var n=f.children;if(f.x=k,f.y=f.depth*h,f.dx=g,f.dy=h,n&&(q=n.length)){var q,u,A=-1;for(g=f.value?g/f.value:0;++A<q;)a(u=n[A],k,f=u.value*g,h),k+=f}}function b(f){f=f.children;var k=0;if(f&&(g=f.length))for(var g,h=-1;++h<g;)k=Math.max(k,b(f[h]));return 1+k}function c(f,k){f=d.call(this,f,k);return a(f[0],0,e[0],e[1]/b(f[0])),f}var d=E.layout.hierarchy(),e=[1,1];
return c.size=function(f){return arguments.length?(e=f,c):e},Jc(c,d)};E.layout.pie=function(){function a(k){var g,h=k.length,n=k.map(function(M,O){return+b.call(a,M,O)}),q=+("function"==typeof d?d.apply(this,arguments):d),u=("function"==typeof e?e.apply(this,arguments):e)-q,A=Math.min(Math.abs(u)/h,+("function"==typeof f?f.apply(this,arguments):f)),B=A*(0>u?-1:1),G=E.sum(n),Q=G?(u-h*B)/G:0;h=E.range(h);var K=[];return null!=c&&h.sort(c===bh?function(M,O){return n[O]-n[M]}:function(M,O){return c(k[M],
k[O])}),h.forEach(function(M){K[M]={data:k[M],value:g=n[M],startAngle:q,endAngle:q+=g*Q+B,padAngle:A}}),K}var b=Number,c=bh,d=0,e=Eb,f=0;return a.value=function(k){return arguments.length?(b=k,a):b},a.sort=function(k){return arguments.length?(c=k,a):c},a.startAngle=function(k){return arguments.length?(d=k,a):d},a.endAngle=function(k){return arguments.length?(e=k,a):e},a.padAngle=function(k){return arguments.length?(f=k,a):f},a};var bh={};E.layout.stack=function(){function a(g,h){if(!(A=g.length))return g;
var n=g.map(function(K,M){return b.call(a,K,M)}),q=n.map(function(K){return K.map(function(M,O){return[f.call(a,M,O),k.call(a,M,O)]})}),u=c.call(a,q,h);n=E.permute(n,u);q=E.permute(q,u);var A,B,G=d.call(a,q,h),Q=n[0].length;for(u=0;Q>u;++u)for(e.call(a,n[0][u],B=G[u],q[0][u][1]),h=1;A>h;++h)e.call(a,n[h][u],B+=q[h-1][u][1],q[h][u][1]);return g}var b=L,c=ue,d=ve,e=ui,f=si,k=ti;return a.values=function(g){return arguments.length?(b=g,a):b},a.order=function(g){return arguments.length?(c="function"==
typeof g?g:nj.get(g)||ue,a):c},a.offset=function(g){return arguments.length?(d="function"==typeof g?g:oj.get(g)||ve,a):d},a.x=function(g){return arguments.length?(f=g,a):f},a.y=function(g){return arguments.length?(k=g,a):k},a.out=function(g){return arguments.length?(e=g,a):e},a};var nj=E.map({"inside-out":function(a){var b=a.length,c=a.map(vi),d=a.map(wi),e=E.range(b).sort(function(q,u){return c[q]-c[u]}),f=0,k=0,g=[],h=[];for(a=0;b>a;++a){var n=e[a];k>f?(f+=d[n],g.push(n)):(k+=d[n],h.push(n))}return h.reverse().concat(g)},
reverse:function(a){return E.range(a.length).reverse()},"default":ue}),oj=E.map({silhouette:function(a){var b,c,d,e=a.length,f=a[0].length,k=[],g=0,h=[];for(c=0;f>c;++c){for(d=b=0;e>b;b++)d+=a[b][c][1];d>g&&(g=d);k.push(d)}for(c=0;f>c;++c)h[c]=(g-k[c])/2;return h},wiggle:function(a){var b,c,d,e,f,k,g,h=a.length,n=a[0],q=n.length,u=[];u[0]=k=g=0;for(c=1;q>c;++c){for(d=b=0;h>b;++b)d+=a[b][c][1];var A=b=0;for(f=n[c][0]-n[c-1][0];h>b;++b){var B=0;for(e=(a[b][c][1]-a[b][c-1][1])/(2*f);b>B;++B)e+=(a[B][c][1]-
a[B][c-1][1])/f;A+=e*a[b][c][1]}u[c]=k-=d?A/d*f:0;g>k&&(g=k)}for(c=0;q>c;++c)u[c]-=g;return u},expand:function(a){var b,c,d,e=a.length,f=a[0].length,k=1/e,g=[];for(c=0;f>c;++c){for(d=b=0;e>b;b++)d+=a[b][c][1];if(d)for(b=0;e>b;b++)a[b][c][1]/=d;else for(b=0;e>b;b++)a[b][c][1]=k}for(c=0;f>c;++c)g[c]=0;return g},zero:ve});E.layout.histogram=function(){function a(f,k){var g=[],h=f.map(c,this),n=d.call(this,h,k),q=e.call(this,n,h,k);k=-1;for(var u=h.length,A=q.length-1,B=b?1:1/u;++k<A;){var G=g[k]=[];
G.dx=q[k+1]-(G.x=q[k]);G.y=0}if(0<A)for(k=-1;++k<u;){var Q=h[k];Q>=n[0]&&Q<=n[1]&&(G=g[E.bisect(q,Q,1,A)-1],G.y+=B,G.push(f[k]))}return g}var b=!0,c=Number,d=zi,e=yi;return a.value=function(f){return arguments.length?(c=f,a):c},a.range=function(f){return arguments.length?(d=cb(f),a):d},a.bins=function(f){return arguments.length?(e="number"==typeof f?function(k){return ig(k,f)}:cb(f),a):e},a.frequency=function(f){return arguments.length?(b=!!f,a):b},a};E.layout.pack=function(){function a(f,k){f=c.call(this,
f,k);k=f[0];var g=e[0],h=e[1],n=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(k.x=k.y=0,Mb(k,function(u){u.r=+n(u.value)}),Mb(k,lg),d){var q=d*(b?1:Math.max(2*k.r/g,2*k.r/h))/2;Mb(k,function(u){u.r+=q});Mb(k,lg);Mb(k,function(u){u.r-=q})}return ng(k,g/2,h/2,b?1:1/Math.max(2*k.r/g,2*k.r/h)),f}var b,c=E.layout.hierarchy().sort(Ai),d=0,e=[1,1];return a.size=function(f){return arguments.length?(e=f,a):e},a.radius=function(f){return arguments.length?(b=null==f||"function"==typeof f?
f:+f,a):b},a.padding=function(f){return arguments.length?(d=+f,a):d},Jc(a,c)};E.layout.tree=function(){function a(n,q){n=f.call(this,n,q);q=n[0];var u=b(q);if(Mb(u,c),u.parent.m=-u.z,Kc(u,d),h)Kc(q,e);else{var A=q,B=q,G=q;Kc(q,function(O){O.x<A.x&&(A=O);O.x>B.x&&(B=O);O.depth>G.depth&&(G=O)});var Q=k(A,B)/2-A.x,K=g[0]/(B.x+k(B,A)/2+Q),M=g[1]/(G.depth||1);Kc(q,function(O){O.x=(O.x+Q)*K;O.y=O.depth*M})}return n}function b(n){for(var q={A:null,children:[n]},u=[q];null!=(n=u.pop());)for(var A,B=n.children,
G=0,Q=B.length;Q>G;++G)u.push((B[G]=A={_:B[G],parent:n,children:(A=B[G].children)&&A.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:G}).a=A);return q.children[0]}function c(n){var q=n.children,u=n.parent.children,A=n.i?u[n.i-1]:null;if(q.length){for(var B,G=0,Q=0,K=n.children,M=K.length;0<=--M;)B=K[M],B.z+=G,B.m+=G,G+=B.s+(Q+=B.c);q=(q[0].z+q[q.length-1].z)/2;A?(n.z=A.z+k(n._,A._),n.m=n.z-q):n.z=q}else A&&(n.z=A.z+k(n._,A._));q=n.parent;u=n.parent.A||u[0];if(A){G=B=n;Q=A;K=B.parent.children[0];
M=B.m;for(var O=G.m,R=Q.m,U=K.m;Q=ze(Q),B=ye(B),Q&&B;){K=ye(K);G=ze(G);G.a=n;A=Q.z+R-B.z-M+k(Q._,B._);if(0<A){var X=Q.a.parent===n.parent?Q.a:u,F=n,J=A,Y=J/(F.i-X.i);F.c-=Y;F.s+=J;X.c+=Y;F.z+=J;F.m+=J;M+=A;O+=A}R+=Q.m;M+=B.m;U+=K.m;O+=G.m}Q&&!ze(G)&&(G.t=Q,G.m+=R-O);B&&!ye(K)&&(K.t=B,K.m+=M-U,u=n)}q.A=u}function d(n){n._.x=n.z+n.parent.m;n.m+=n.parent.m}function e(n){n.x*=g[0];n.y=n.depth*g[1]}var f=E.layout.hierarchy().sort(null).value(null),k=og,g=[1,1],h=null;return a.separation=function(n){return arguments.length?
(k=n,a):k},a.size=function(n){return arguments.length?(h=null==(g=n)?e:null,a):h?null:g},a.nodeSize=function(n){return arguments.length?(h=null==(g=n)?null:e,a):h?g:null},Jc(a,f)};E.layout.cluster=function(){function a(f,k){var g;f=b.call(this,f,k);var h=f[0],n=0;Mb(h,function(B){var G=B.children;G&&G.length?(B.x=Ei(G),B.y=Di(G)):(B.x=g?n+=c(B,g):0,B.y=0,g=B)});k=pg(h);var q=qg(h),u=k.x-c(k,q)/2,A=q.x+c(q,k)/2;return Mb(h,e?function(B){B.x=(B.x-h.x)*d[0];B.y=(h.y-B.y)*d[1]}:function(B){B.x=(B.x-u)/
(A-u)*d[0];B.y=(1-(h.y?B.y/h.y:1))*d[1]}),f}var b=E.layout.hierarchy().sort(null).value(null),c=og,d=[1,1],e=!1;return a.separation=function(f){return arguments.length?(c=f,a):c},a.size=function(f){return arguments.length?(e=null==(d=f),a):e?null:d},a.nodeSize=function(f){return arguments.length?(e=null!=(d=f),a):e?d:null},Jc(a,b)};E.layout.treemap=function(){function a(G,Q){for(var K,M,O=-1,R=G.length;++O<R;)M=(K=G[O]).value*(0>Q?0:Q),K.area=isNaN(M)||0>=M?0:M}function b(G){var Q=G.children;if(Q&&
Q.length){var K=q(G),M=[],O=Q.slice(),R=1/0,U="slice"===A?K.dx:"dice"===A?K.dy:"slice-dice"===A?1&G.depth?K.dy:K.dx:Math.min(K.dx,K.dy);a(O,K.dx*K.dy/G.value);for(M.area=0;0<(G=O.length);){M.push(G=O[G-1]);M.area+=G.area;var X;if(!(X="squarify"!==A)){var F=void 0;G=U;var J=M.area;X=0;for(var Y=1/0,ba=-1,da=M.length;++ba<da;)(F=M[ba].area)&&(Y>F&&(Y=F),F>X&&(X=F));X=(F=(J*=J,G*=G,J?Math.max(G*X*B/J,J/(G*Y*B)):1/0))<=R}X?(O.pop(),R=F):(M.area-=M.pop().area,d(M,U,K,!1),U=Math.min(K.dx,K.dy),M.length=
M.area=0,R=1/0)}M.length&&(d(M,U,K,!0),M.length=M.area=0);Q.forEach(b)}}function c(G){var Q=G.children;if(Q&&Q.length){var K=q(G),M=Q.slice(),O=[];a(M,K.dx*K.dy/G.value);for(O.area=0;G=M.pop();)O.push(G),O.area+=G.area,null!=G.z&&(d(O,G.z?K.dx:K.dy,K,!M.length),O.length=O.area=0);Q.forEach(c)}}function d(G,Q,K,M){var O=-1,R=G.length,U=K.x,X=K.y,F=Q?g(G.area/Q):0;if(Q==K.dx){for((M||F>K.dy)&&(F=K.dy);++O<R;){var J=G[O];J.x=U;J.y=X;J.dy=F;U+=J.dx=Math.min(K.x+K.dx-U,F?g(J.area/F):0)}J.z=!0;J.dx+=K.x+
K.dx-U;K.y+=F;K.dy-=F}else{for((M||F>K.dx)&&(F=K.dx);++O<R;)J=G[O],J.x=U,J.y=X,J.dx=F,X+=J.dy=Math.min(K.y+K.dy-X,F?g(J.area/F):0);J.z=!1;J.dy+=K.y+K.dy-X;K.x+=F;K.dx-=F}}function e(G){G=f||k(G);var Q=G[0];return Q.x=Q.y=0,Q.value?(Q.dx=h[0],Q.dy=h[1]):Q.dx=Q.dy=0,f&&k.revalue(Q),a([Q],Q.dx*Q.dy/Q.value),(f?c:b)(Q),u&&(f=G),G}var f,k=E.layout.hierarchy(),g=Math.round,h=[1,1],n=null,q=Ae,u=!1,A="squarify",B=.5*(1+Math.sqrt(5));return e.size=function(G){return arguments.length?(h=G,e):h},e.padding=
function(G){function Q(O){var R=G.call(e,O,O.depth);return null==R?Ae(O):rg(O,"number"==typeof R?[R,R,R,R]:R)}function K(O){return rg(O,G)}if(!arguments.length)return n;var M;return q=null==(n=G)?Ae:"function"==(M=typeof G)?Q:"number"===M?(G=[G,G,G,G],K):K,e},e.round=function(G){return arguments.length?(g=G?Math.round:Number,e):g!=Number},e.sticky=function(G){return arguments.length?(u=G,f=null,e):u},e.ratio=function(G){return arguments.length?(B=G,e):B},e.mode=function(G){return arguments.length?
(A=G+"",e):A},Jc(e,k)};E.random={normal:function(a,b){var c=arguments.length;return 2>c&&(b=1),1>c&&(a=0),function(){do{var d=2*Math.random()-1;var e=2*Math.random()-1;e=d*d+e*e}while(!e||1<e);return a+b*d*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=E.random.normal.apply(E,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=E.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++)b+=Math.random();return b}}};
E.scale={};var Gi={floor:L,ceil:L};E.scale.linear=function(){return tg([0,1],[0,1],hc,!1)};var Ji={s:1,g:1,p:1,r:1,e:1};E.scale.log=function(){return vg(E.scale.linear().domain([0,1]),10,!0,[1,10])};var wg=E.format(".0e"),Ki={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};E.scale.pow=function(){return xg(E.scale.linear(),1,[0,1])};E.scale.sqrt=function(){return E.scale.pow().exponent(.5)};E.scale.ordinal=function(){return yg([],{t:"range",a:[[]]})};E.scale.category10=
function(){return E.scale.ordinal().range(pj)};E.scale.category20=function(){return E.scale.ordinal().range(qj)};E.scale.category20b=function(){return E.scale.ordinal().range(rj)};E.scale.category20c=function(){return E.scale.ordinal().range(sj)};var pj=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Pa),qj=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,
1556175,10410725].map(Pa),rj=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Pa),sj=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Pa);E.scale.quantile=function(){return zg([],[])};E.scale.quantize=function(){return Ag(0,1,[0,1])};E.scale.threshold=
function(){return Bg([.5],[0,1])};E.scale.identity=function(){return Cg([0,1])};E.svg={};E.svg.arc=function(){function a(){var n=Math.max(0,+c.apply(this,arguments)),q=Math.max(0,+d.apply(this,arguments)),u=k.apply(this,arguments)-lb,A=g.apply(this,arguments)-lb,B=Math.abs(A-u),G=u>A?0:1;if(n>q&&(Q=q,q=n,n=Q),B>=cj)return b(q,G)+(n?b(n,1-G):"")+"Z";var Q,K,M,O=0;var R=0;var U=[];if((M=(+h.apply(this,arguments)||0)/2)&&(K=f===Ld?Math.sqrt(n*n+q*q):+f.apply(this,arguments),G||(R*=-1),q&&(R=Wa(K/q*Math.sin(M))),
n&&(O=Wa(K/n*Math.sin(M)))),q){K=q*Math.cos(u+R);M=q*Math.sin(u+R);var X=q*Math.cos(A-R);var F=q*Math.sin(A-R);var J=Math.abs(A-u-2*R)<=Ja?0:1;R&&sd(K,M,X,F)===G^J&&(X=(u+A)/2,K=q*Math.cos(X),M=q*Math.sin(X),X=F=null)}else K=M=0;if(n){R=n*Math.cos(A-O);var Y=n*Math.sin(A-O);var ba=n*Math.cos(u+O);var da=n*Math.sin(u+O);var ia=Math.abs(u-A+2*O)<=Ja?0:1;O&&sd(R,Y,ba,da)===1-G^ia&&(ba=(u+A)/2,R=n*Math.cos(ba),Y=n*Math.sin(ba),ba=da=null)}else R=Y=0;B>wa&&.001<(Q=Math.min(Math.abs(q-n)/2,+e.apply(this,
arguments)))?(J=q>n^G?0:1,ia=u=Q,Ja>B&&(B=null==ba?[R,Y]:null==X?[K,M]:me([K,M],[ba,da],[X,F],[R,Y]),ia=K-B[0],u=M-B[1],A=X-B[0],O=F-B[1],u=1/Math.sin(Math.acos((ia*A+u*O)/(Math.sqrt(ia*ia+u*u)*Math.sqrt(A*A+O*O)))/2),B=Math.sqrt(B[0]*B[0]+B[1]*B[1]),ia=Math.min(Q,(n-B)/(u-1)),u=Math.min(Q,(q-B)/(u+1))),null!=X?(B=td(null==ba?[R,Y]:[ba,da],[K,M],q,u,G),A=td([X,F],[R,Y],q,u,G),Q===u?U.push("M",B[0],"A",u,",",u," 0 0,",J," ",B[1],"A",q,",",q," 0 ",1-G^sd(B[1][0],B[1][1],A[1][0],A[1][1]),",",G," ",A[1],
"A",u,",",u," 0 0,",J," ",A[0]):U.push("M",B[0],"A",u,",",u," 0 1,",J," ",A[0])):U.push("M",K,",",M),null!=ba?(q=td([K,M],[ba,da],n,-ia,G),X=td([R,Y],null==X?[K,M]:[X,F],n,-ia,G),Q===ia?U.push("L",X[0],"A",ia,",",ia," 0 0,",J," ",X[1],"A",n,",",n," 0 ",G^sd(X[1][0],X[1][1],q[1][0],q[1][1]),",",1-G," ",q[1],"A",ia,",",ia," 0 0,",J," ",q[0]):U.push("L",X[0],"A",ia,",",ia," 0 0,",J," ",q[0])):U.push("L",R,",",Y)):(U.push("M",K,",",M),null!=X&&U.push("A",q,",",q," 0 ",J,",",G," ",X,",",F),U.push("L",
R,",",Y),null!=ba&&U.push("A",n,",",n," 0 ",ia,",",1-G," ",ba,",",da));return U.push("Z"),U.join("")}function b(n,q){return"M0,"+n+"A"+n+","+n+" 0 1,"+q+" 0,"+-n+"A"+n+","+n+" 0 1,"+q+" 0,"+n}var c=Mi,d=Ni,e=Li,f=Ld,k=Dg,g=Eg,h=Oi;return a.innerRadius=function(n){return arguments.length?(c=cb(n),a):c},a.outerRadius=function(n){return arguments.length?(d=cb(n),a):d},a.cornerRadius=function(n){return arguments.length?(e=cb(n),a):e},a.padRadius=function(n){return arguments.length?(f=n==Ld?Ld:cb(n),a):
f},a.startAngle=function(n){return arguments.length?(k=cb(n),a):k},a.endAngle=function(n){return arguments.length?(g=cb(n),a):g},a.padAngle=function(n){return arguments.length?(h=cb(n),a):h},a.centroid=function(){var n=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,q=(+k.apply(this,arguments)+ +g.apply(this,arguments))/2-lb;return[Math.cos(q)*n,Math.sin(q)*n]},a};var Ld="auto";E.svg.line=function(){return Fg(L)};var De=E.map({linear:Jb,"linear-closed":Gg,step:function(a){for(var b=0,c=a.length,
d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return 1<c&&e.push("H",d[0]),e.join("")},"step-before":Ee,"step-after":Fe,basis:Hg,"basis-open":function(a){if(4>a.length)return Jb(a);for(var b,c=[],d=-1,e=a.length,f=[0],k=[0];3>++d;)b=a[d],f.push(b[0]),k.push(b[1]);c.push(Fb(Yb,f)+","+Fb(Yb,k));for(--d;++d<e;)b=a[d],f.shift(),f.push(b[0]),k.shift(),k.push(b[1]),He(c,f,k);return c.join("")},"basis-closed":function(a){for(var b,c,d=-1,e=a.length,f=e+4,k=[],g=[];4>++d;)c=a[d%
e],k.push(c[0]),g.push(c[1]);b=[Fb(Yb,k),",",Fb(Yb,g)];for(--d;++d<f;)c=a[d%e],k.shift(),k.push(c[0]),g.shift(),g.push(c[1]),He(b,k,g);return b.join("")},bundle:function(a,b){var c=a.length-1;if(c)for(var d,e,f=a[0][0],k=a[0][1],g=a[c][0]-f,h=a[c][1]-k,n=-1;++n<=c;)d=a[n],e=n/c,d[0]=b*d[0]+(1-b)*(f+e*g),d[1]=b*d[1]+(1-b)*(k+e*h);return Hg(a)},cardinal:function(a,b){return 3>a.length?Jb(a):a[0]+ud(a,Ge(a,b))},"cardinal-open":function(a,b){return 4>a.length?Jb(a):a[1]+ud(a.slice(1,-1),Ge(a,b))},"cardinal-closed":function(a,
b){return 3>a.length?Gg(a):a[0]+ud((a.push(a[0]),a),Ge([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Jb(a);else{var b=a[0],c,d,e,f=[];var k=0;var g=a.length-1;for(var h=[],n=a[1],q=h[0]=Ie(a[0],n);++k<g;)h[k]=(q+(q=Ie(n,n=a[k+1])))/2;g=(h[k]=q,h);h=-1;for(n=a.length-1;++h<n;)k=Ie(a[h],a[h+1]),Na(k)<wa?g[h]=g[h+1]=0:(c=g[h]/k,d=g[h+1]/k,e=c*c+d*d,9<e&&(e=3*k/Math.sqrt(e),g[h]=e*c,g[h+1]=e*d));for(h=-1;++h<=n;)e=(a[Math.min(n,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),
f.push([e||0,g[h]*e||0]);a=b+ud(a,f)}return a}});De.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var Ig=[0,2/3,1/3,0],Jg=[0,1/3,2/3,0],Yb=[0,1/6,2/3,1/6];E.svg.line.radial=function(){var a=Fg(Kg);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};Ee.reverse=Fe;Fe.reverse=Ee;E.svg.area=function(){return Lg(L)};E.svg.area.radial=function(){var a=Lg(Kg);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=
a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};E.svg.chord=function(){function a(h,n){var q=b(this,d,h,n);h=b(this,e,h,n);return"M"+q.p0+c(q.r,q.p1,q.a1-q.a0)+(q.a0==h.a0&&q.a1==h.a1?"Q 0,0 "+q.p0:"Q 0,0 "+h.p0+c(h.r,h.p1,h.a1-h.a0)+("Q 0,0 "+q.p0))+"Z"}function b(h,n,q,u){var A=n.call(h,q,u);n=f.call(h,A,u);q=k.call(h,A,u)-lb;h=g.call(h,A,u)-lb;return{r:n,a0:q,a1:h,p0:[n*Math.cos(q),n*Math.sin(q)],p1:[n*Math.cos(h),n*Math.sin(h)]}}function c(h,n,q){return"A"+h+","+h+" 0 "+ +(q>Ja)+",1 "+n}var d=
ie,e=je,f=Pi,k=Dg,g=Eg;return a.radius=function(h){return arguments.length?(f=cb(h),a):f},a.source=function(h){return arguments.length?(d=cb(h),a):d},a.target=function(h){return arguments.length?(e=cb(h),a):e},a.startAngle=function(h){return arguments.length?(k=cb(h),a):k},a.endAngle=function(h){return arguments.length?(g=cb(h),a):g},a};E.svg.diagonal=function(){function a(e,f){var k=b.call(this,e,f);e=c.call(this,e,f);f=(k.y+e.y)/2;k=[k,{x:k.x,y:f},{x:e.x,y:f},e];return k=k.map(d),"M"+k[0]+"C"+k[1]+
" "+k[2]+" "+k[3]}var b=ie,c=je,d=Mg;return a.source=function(e){return arguments.length?(b=cb(e),a):b},a.target=function(e){return arguments.length?(c=cb(e),a):c},a.projection=function(e){return arguments.length?(d=e,a):d},a};E.svg.diagonal.radial=function(){var a=E.svg.diagonal(),b=Mg,c=a.projection;return a.projection=function(d){return arguments.length?c(Qi(b=d)):b},a};E.svg.symbol=function(){function a(d,e){return(ch.get(b.call(this,d,e))||Ng)(c.call(this,d,e))}var b=Si,c=Ri;return a.type=function(d){return arguments.length?
(b=cb(d),a):b},a.size=function(d){return arguments.length?(c=cb(d),a):c},a};var ch=E.map({circle:Ng,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*dh));var b=a*dh;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/Md);var b=a*Md/2;return"M0,"+
b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/Md);var b=a*Md/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});E.svg.symbolTypes=ch.keys();var Md=Math.sqrt(3),dh=Math.tan(30*Ka);Ya.transition=function(a){for(var b,c=jc||++eh,d=Ke(a),e=[],f=Nd||{time:Date.now(),ease:$h,delay:0,duration:250},k=-1,g=this.length;++k<g;){e.push(a=[]);for(var h=this[k],n=-1,q=h.length;++n<q;)(b=h[n])&&vd(b,n,d,c,f),a.push(b)}return Lc(e,d,c)};Ya.interrupt=function(a){return this.each(null==a?
yd:Og(Ke(a)))};var jc,Nd,yd=Og(Ke()),qb=[],eh=0;qb.call=Ya.call;qb.empty=Ya.empty;qb.node=Ya.node;qb.size=Ya.size;E.transition=function(a,b){return a&&a.transition?jc?a.transition(b):a:E.selection().transition(a)};E.transition.prototype=qb;qb.select=function(a){var b,c,d,e=this.id,f=this.namespace,k=[];a=ja(a);for(var g=-1,h=this.length;++g<h;){k.push(b=[]);for(var n=this[g],q=-1,u=n.length;++q<u;)(d=n[q])&&(c=a.call(d,d.__data__,q,g))?("__data__"in d&&(c.__data__=d.__data__),vd(c,q,f,e,d[f][e]),
b.push(c)):b.push(null)}return Lc(k,f,e)};qb.selectAll=function(a){var b,c,d=this.id,e=this.namespace,f=[];a=V(a);for(var k=-1,g=this.length;++k<g;)for(var h=this[k],n=-1,q=h.length;++n<q;)if(b=h[n]){var u=b[e][d];var A=a.call(b,b.__data__,n,k);f.push(b=[]);for(var B=-1,G=A.length;++B<G;)(c=A[B])&&vd(c,B,e,d,u),b.push(c)}return Lc(f,e,d)};qb.filter=function(a){var b,c,d=[];"function"!=typeof a&&(a=Ma(a));for(var e=0,f=this.length;f>e;e++){d.push(b=[]);var k=this[e];for(var g=0,h=k.length;h>g;g++)(c=
k[g])&&a.call(c,c.__data__,g,e)&&b.push(c)}return Lc(d,this.namespace,this.id)};qb.tween=function(a,b){var c=this.id,d=this.namespace;return 2>arguments.length?this.node()[d][c].tween.get(a):Ua(this,null==b?function(e){e[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})};qb.attr=function(a,b){function c(){this.removeAttribute(g)}function d(){this.removeAttributeNS(g.space,g.local)}function e(h){return null==h?c:(h+="",function(){var n,q=this.getAttribute(g);return q!==h&&(n=k(q,h),function(u){this.setAttribute(g,
n(u))})})}function f(h){return null==h?d:(h+="",function(){var n,q=this.getAttributeNS(g.space,g.local);return q!==h&&(n=k(q,h),function(u){this.setAttributeNS(g.space,g.local,n(u))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var k="transform"==a?fg:hc,g=E.ns.qualify(a);return Je(this,"attr."+a,b,g.local?f:e)};qb.attrTween=function(a,b){function c(f,k){var g=b.call(this,f,k,this.getAttribute(e));return g&&function(h){this.setAttribute(e,g(h))}}function d(f,k){var g=b.call(this,
f,k,this.getAttributeNS(e.space,e.local));return g&&function(h){this.setAttributeNS(e.space,e.local,g(h))}}var e=E.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)};qb.style=function(a,b,c){function d(){this.style.removeProperty(a)}var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return Je(this,"style."+a,b,function(f){return null==f?d:(f+="",function(){var k,g=r(this).getComputedStyle(this,null).getPropertyValue(a);return g!==
f&&(k=hc(g,f),function(h){this.style.setProperty(a,k(h),c)})})})};qb.styleTween=function(a,b,c){return 3>arguments.length&&(c=""),this.tween("style."+a,function(d,e){var f=b.call(this,d,e,r(this).getComputedStyle(this,null).getPropertyValue(a));return f&&function(k){this.style.setProperty(a,f(k),c)}})};qb.text=function(a){return Je(this,"text",a,Ti)};qb.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;2>this[a].count&&(b=this.parentNode)&&b.removeChild(this)})};
qb.ease=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].ease:("function"!=typeof a&&(a=E.ease.apply(E,arguments)),Ua(this,function(d){d[c][b].ease=a}))};qb.delay=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].delay:Ua(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))};qb.duration=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].duration:
Ua(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))};qb.each=function(a,b){var c=this.id,d=this.namespace;if(2>arguments.length){var e=Nd,f=jc;try{jc=c,Ua(this,function(k,g,h){Nd=k[d][c];a.call(k,k.__data__,g,h)})}finally{Nd=e,jc=f}}else Ua(this,function(k){k=k[d][c];(k.event||(k.event=E.dispatch("start","end","interrupt"))).on(a,b)});return this};qb.transition=function(){for(var a,b,c,d,e=this.id,f=
++eh,k=this.namespace,g=[],h=0,n=this.length;n>h;h++){g.push(a=[]);b=this[h];for(var q=0,u=b.length;u>q;q++)(c=b[q])&&(d=c[k][e],vd(c,q,k,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(c)}return Lc(g,k,f)};E.svg.axis=function(){function a(n){n.each(function(){var q,u=E.select(this),A=this.__chart__||c,B=this.__chart__=c.copy(),G=null==h?B.ticks?B.ticks.apply(B,g):B.domain():h,Q=null==b?B.tickFormat?B.tickFormat.apply(B,g):L:b,K=u.selectAll(".tick").data(G,B);G=K.enter().insert("g",
".domain").attr("class","tick").style("opacity",wa);var M=E.transition(K.exit()).style("opacity",wa).remove(),O=E.transition(K.order()).style("opacity",1),R=Math.max(e,0)+k,U=od(B);u=u.selectAll(".domain").data([0]);u=(u.enter().append("path").attr("class","domain"),E.transition(u));G.append("line");G.append("text");var X,F,J,Y,ba=G.select("line"),da=O.select("line");Q=K.select("text").text(Q);K=G.select("text");var ia=O.select("text"),la="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(q=Ui,
X="x",J="y",F="x2",Y="y2",Q.attr("dy",0>la?"0em":".71em").style("text-anchor","middle"),u.attr("d","M"+U[0]+","+la*f+"V0H"+U[1]+"V"+la*f)):(q=Vi,X="y",J="x",F="y2",Y="x2",Q.attr("dy",".32em").style("text-anchor",0>la?"end":"start"),u.attr("d","M"+la*f+","+U[0]+"H0V"+U[1]+"H"+la*f)),ba.attr(Y,la*e),K.attr(J,la*R),da.attr(F,0).attr(Y,la*e),ia.attr(X,0).attr(J,la*R),B.rangeBand){var Fa=B,Ia=Fa.rangeBand()/2;A=B=function(La){return Fa(La)+Ia}}else A.rangeBand?A=B:M.call(q,B,A);G.call(q,A,B);O.call(q,
B,B)})}var b,c=E.scale.linear(),d=fh,e=6,f=6,k=3,g=[10],h=null;return a.scale=function(n){return arguments.length?(c=n,a):c},a.orient=function(n){return arguments.length?(d=n in tj?n+"":fh,a):d},a.ticks=function(){return arguments.length?(g=Kb(arguments),a):g},a.tickValues=function(n){return arguments.length?(h=n,a):h},a.tickFormat=function(n){return arguments.length?(b=n,a):b},a.tickSize=function(n){var q=arguments.length;return q?(e=+n,f=+arguments[q-1],a):e},a.innerTickSize=function(n){return arguments.length?
(e=+n,a):e},a.outerTickSize=function(n){return arguments.length?(f=+n,a):f},a.tickPadding=function(n){return arguments.length?(k=+n,a):k},a.tickSubdivide=function(){return arguments.length&&a},a};var fh="bottom",tj={top:1,right:1,bottom:1,left:1};E.svg.brush=function(){function a(Q){Q.each(function(){var K=E.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),M=K.selectAll(".background").data([0]);M.enter().append("rect").attr("class",
"background").style("visibility","hidden").style("cursor","crosshair");K.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var O=K.selectAll(".resize").data(G,L);O.exit().remove();O.enter().append("g").attr("class",function(U){return"resize "+U}).style("cursor",function(U){return uj[U]}).append("rect").attr("x",function(U){return/[ew]$/.test(U)?-3:null}).attr("y",function(U){return/^[ns]/.test(U)?-3:null}).attr("width",6).attr("height",6).style("visibility",
"hidden");O.style("display",a.empty()?"none":null);var R;K=E.transition(K);M=E.transition(M);h&&(R=od(h),M.attr("x",R[0]).attr("width",R[1]-R[0]),c(K));n&&(R=od(n),M.attr("y",R[0]).attr("height",R[1]-R[0]),d(K));b(K)})}function b(Q){Q.selectAll(".resize").attr("transform",function(K){return"translate("+q[+/e$/.test(K)]+","+u[+/^s/.test(K)]+")"})}function c(Q){Q.select(".extent").attr("x",q[0]);Q.selectAll(".extent,.n>rect,.s>rect").attr("width",q[1]-q[0])}function d(Q){Q.select(".extent").attr("y",
u[0]);Q.selectAll(".extent,.e>rect,.w>rect").attr("height",u[1]-u[0])}function e(){function Q(){var ma=E.mouse(R),Ga=!1;La&&(ma[0]+=La[0],ma[1]+=La[1]);da||(E.event.altKey?(O||(O=[(q[0]+q[1])/2,(u[0]+u[1])/2]),la[0]=q[+(ma[0]<O[0])],la[1]=u[+(ma[1]<O[1])]):O=null);Y&&K(ma,h,0)&&(c(F),Ga=!0);ba&&K(ma,n,1)&&(d(F),Ga=!0);Ga&&(b(F),X({type:"brush",mode:da?"move":"resize"}))}function K(ma,Ga,Ta){var Za,ub,gb=od(Ga);Ga=gb[0];gb=gb[1];var tb=la[Ta],pb=Ta?u:q,zb=pb[1]-pb[0];return da&&(Ga-=tb,gb-=zb+tb),
Za=(Ta?B:A)?Math.max(Ga,Math.min(gb,ma[Ta])):ma[Ta],da?ub=(Za+=tb)+zb:(O&&(tb=Math.max(Ga,Math.min(gb,2*O[Ta]-Za))),Za>tb?(ub=Za,Za=tb):ub=tb),pb[0]!=Za||pb[1]!=ub?(Ta?k=null:f=null,pb[0]=Za,pb[1]=ub,!0):void 0}function M(){Q();F.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);E.select("body").style("cursor",null);Fa.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",
null);ia();X({type:"brushend"})}var O,R=this,U=E.select(E.event.target),X=g.of(R,arguments),F=E.select(R),J=U.datum(),Y=!/^(n|s)$/.test(J)&&h,ba=!/^(e|w)$/.test(J)&&n,da=U.classed("extent"),ia=H(R),la=E.mouse(R),Fa=E.select(r(R)).on("keydown.brush",function(){32==E.event.keyCode&&(da||(O=null,la[0]-=q[1],la[1]-=u[1],da=2),T())}).on("keyup.brush",function(){32==E.event.keyCode&&2==da&&(la[0]+=q[1],la[1]+=u[1],da=0,T())});if(E.event.changedTouches?Fa.on("touchmove.brush",Q).on("touchend.brush",M):Fa.on("mousemove.brush",
Q).on("mouseup.brush",M),F.interrupt().selectAll("*").interrupt(),da)la[0]=q[0]-la[0],la[1]=u[0]-la[1];else if(J){var Ia=+/w$/.test(J);J=+/^n/.test(J);var La=[q[1-Ia]-la[0],u[1-J]-la[1]];la[0]=q[Ia];la[1]=u[J]}else E.event.altKey&&(O=la.slice());F.style("pointer-events","none").selectAll(".resize").style("display",null);E.select("body").style("cursor",U.style("cursor"));X({type:"brushstart"});Q()}var f,k,g=qa(a,"brushstart","brush","brushend"),h=null,n=null,q=[0,0],u=[0,0],A=!0,B=!0,G=Ue[0];return a.event=
function(Q){Q.each(function(){var K=g.of(this,arguments),M={x:q,y:u,i:f,j:k},O=this.__chart__||M;this.__chart__=M;jc?E.select(this).transition().each("start.brush",function(){f=O.i;k=O.j;q=O.x;u=O.y;K({type:"brushstart"})}).tween("brush:brush",function(){var R=nd(q,M.x),U=nd(u,M.y);return f=k=null,function(X){q=M.x=R(X);u=M.y=U(X);K({type:"brush",mode:"resize"})}}).each("end.brush",function(){f=M.i;k=M.j;K({type:"brush",mode:"resize"});K({type:"brushend"})}):(K({type:"brushstart"}),K({type:"brush",
mode:"resize"}),K({type:"brushend"}))})},a.x=function(Q){return arguments.length?(h=Q,G=Ue[!h<<1|!n],a):h},a.y=function(Q){return arguments.length?(n=Q,G=Ue[!h<<1|!n],a):n},a.clamp=function(Q){return arguments.length?(h&&n?(A=!!Q[0],B=!!Q[1]):h?A=!!Q:n&&(B=!!Q),a):h&&n?[A,B]:h?A:n?B:null},a.extent=function(Q){var K,M,O,R,U;return arguments.length?(h&&(K=Q[0],M=Q[1],n&&(K=K[0],M=M[0]),f=[K,M],h.invert&&(K=h(K),M=h(M)),K>M&&(U=K,K=M,M=U),K==q[0]&&M==q[1]||(q=[K,M])),n&&(O=Q[0],R=Q[1],h&&(O=O[1],R=R[1]),
k=[O,R],n.invert&&(O=n(O),R=n(R)),O>R&&(U=O,O=R,R=U),O==u[0]&&R==u[1]||(u=[O,R])),a):(h&&(f?(K=f[0],M=f[1]):(K=q[0],M=q[1],h.invert&&(K=h.invert(K),M=h.invert(M)),K>M&&(U=K,K=M,M=U))),n&&(k?(O=k[0],R=k[1]):(O=u[0],R=u[1],n.invert&&(O=n.invert(O),R=n.invert(R)),O>R&&(U=O,O=R,R=U))),h&&n?[[K,O],[M,R]]:h?[K,M]:n&&[O,R])},a.clear=function(){return a.empty()||(q=[0,0],u=[0,0],f=k=null),a},a.empty=function(){return!!h&&q[0]==q[1]||!!n&&u[0]==u[1]},E.rebind(a,g,"on")};var uj={n:"ns-resize",e:"ew-resize",
s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ue=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],Ve=Aa.format=Ug.timeFormat,gh=Ve.utc,hh=gh("%Y-%m-%dT%H:%M:%S.%LZ");Ve.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Le:hh;Le.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Le.toString=hh.toString;Aa.second=$b(function(a){return new vb(1E3*Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},
function(a){return a.getSeconds()});Aa.seconds=Aa.second.range;Aa.seconds.utc=Aa.second.utc.range;Aa.minute=$b(function(a){return new vb(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});Aa.minutes=Aa.minute.range;Aa.minutes.utc=Aa.minute.utc.range;Aa.hour=$b(function(a){var b=a.getTimezoneOffset()/60;return new vb(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},function(a){return a.getHours()});
Aa.hours=Aa.hour.range;Aa.hours.utc=Aa.hour.utc.range;Aa.month=$b(function(a){return a=Aa.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});Aa.months=Aa.month.range;Aa.months.utc=Aa.month.utc.range;var wd=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],We=[[Aa.second,1],[Aa.second,5],[Aa.second,15],[Aa.second,30],[Aa.minute,1],[Aa.minute,5],[Aa.minute,15],[Aa.minute,30],[Aa.hour,1],[Aa.hour,3],[Aa.hour,
6],[Aa.hour,12],[Aa.day,1],[Aa.day,2],[Aa.week,1],[Aa.month,1],[Aa.month,3],[Aa.year,1]],vj=Ve.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",yc]]),Wi={range:function(a,b,c){return E.range(Math.ceil(a/c)*c,+b,c).map(ic)},
floor:L,ceil:L};We.year=Aa.year;Aa.scale=function(){return Me(E.scale.linear(),We,vj)};var ih=We.map(function(a){return[a[0].utc,a[1]]}),wj=gh.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",
yc]]);ih.year=Aa.year.utc;Aa.scale.utc=function(){return Me(E.scale.linear(),ih,wj)};E.text=Xd(function(a){return a.responseText});E.json=function(a,b){return Rc(a,"application/json",Xi,b)};E.html=function(a,b){return Rc(a,"text/html",Yi,b)};E.xml=Xd(function(a){return a.responseXML});"function"==typeof define&&define.amd?(this.d3=E,define(E)):"object"==typeof module&&module.exports?module.exports=E:this.d3=E}();process=process||{env:{NODE_ENV:"development"}};angular.module("xe-ui-components","badge button checkbox dropdown label radiobutton simpleTextbox statusLabel switch textarea textbox ui.select xeUISelect external-resouces utils columnFilter pagination search xebarmodule dataTableModule aboutModal pieChartModule popupModal tabnav timePicker xe-ui-components-tpls".split(" "));
angular.module("xe-ui-components-tpls","templates/badge.html templates/button.html templates/checkbox.html templates/dropdown.html templates/label.html templates/radio-button.html templates/simple-textbox.html templates/statusLabel.html templates/switch.html templates/text-area-counter.html templates/text-area.html templates/text-box-char-limit.html templates/text-box-password.html templates/text-box.html templates/column-filter.html templates/pagination.html templates/search.html templates/dataTable.html templates/dialog.html templates/dialog_default.html templates/modal.html templates/tabNav.html templates/tabPanel.html templates/timePicker.html templates/timePicker_rtl.html".split(" "));
angular.module("templates/badge.html",[]).run(["$templateCache",function(r){r.put("templates/badge.html",'<span aria-live="assertive" tabindex="0" class="xe-badge {{::xeType}}-badge" ng-bind="xeLabel">{{xeLabel}}</span>')}]);angular.module("templates/button.html",[]).run(["$templateCache",function(r){r.put("templates/button.html",'<button xe-data id="{{::xeId}}" class="{{xeType +\' \'+ xeBtnClass}}" ng-disabled="xeDisabled" aria-label="{{xeAriaLabel}}" ng-click="xeBtnClick()" ng-bind="xeLabel"></button>')}]);
angular.module("templates/checkbox.html",[]).run(["$templateCache",function(r){r.put("templates/checkbox.html",'<div class="xe-container" aria-checked="{{xeModel}}" aria-disabled="{{xeDisabled? true:false}}" tabindex="{{!xeDisabled ? 0 : -1}}" role="checkbox" aria-live="assertive" aria-label="{{xeAriaLabel}}"><input id="{{::xeId}}" xe-data type="checkbox" aria-checked="{{xeModel}}" aria-label="{{xeAriaLabel}}" ng-click="cbClicked($event)" ng-model="xeModel" value="{{xeValue}}" ng-checked="xeModel" aria-live="assertive" aria-disabled="{{xeDisabled? true:false}}" ng-disabled="xeDisabled == true" name="{{xeName}}" tabindex="-1"> <span class="xe-checkmark" tabindex="-1"></span><label class="checkbox-label" xe-for="{{::xeId}}" ng-bind-html="xeLabel"></label></div>')}]);
angular.module("templates/dropdown.html",[]).run(["$templateCache",function(r){r.put("templates/dropdown.html",'<div class="btn-group"><button type="button" ng-disabled="{{disabled}}" ng-class="{disabledDD:disabled}" data-toggle="dropdown" class="btn btn-default dropdown dropdown-toggle" role="listbox" aria-expanded="false" aria-haspopup="true"><span class="placeholder" ng-show="!ngModel">{{::xeLabel}}</span> <span class="placeholder">{{ dropDownLabel }}</span> <span class="glyphicon glyphicon-chevron-down"></span></button><ul class="dropdown-menu" role="listbox" aria-expanded="false" role="listbox"><li ng-hide="!ngModel" ng-click="updateModel(xeLabel)">{{::xeLabel}}</li><li ng-if="!isObject" role="option" ng-repeat="option in xeOptions track by $index" ng-click="updateModel(option)" ng-class="{\'selected\':option===ngModel}">{{::option}}</li><li ng-if="isObject" ng-repeat="option in xeOptions track by $index" ng-click="updateModel(option)">{{::option.label}}</li></ul></div>')}]);
angular.module("templates/label.html",[]).run(["$templateCache",function(r){r.put("templates/label.html",'<label id="{{xeId}}" class="xe-label" for="{{xeFor}}" ng-hide="{{xeHidden}}" ng-cloak><span class="xe-label" aria-label="{{(xeAriaLabelLabel ? xeAriaLabelLabel : xeValue)| removeHTMLTags }}" ng-bind-html="xeValue"></span> <span class="xe-required" ng-if="xeRequired==true" ng-bind="\'*\'"></span></label>')}]);
angular.module("templates/radio-button.html",[]).run(["$templateCache",function(r){r.put("templates/radio-button.html",'<div class="radio-container"><input ng-value="ngValue" ng-model="ngModel" ng-disabled="xeDisabled" ng-class="{disabledRadio:xeDisabled}" ng-click="xeOnClick" type="radio" id="{{xeId}}" name="{{xeName}}"><xe-label xe-value="{{xeLabel}}" xe-aria-label-label="{{xeAriaLabelRadioButton}}" xe-for="{{xeId}}" aria-checked="{{ngModel===ngValue}}" role="radio" tabindex="{{!xeDisabled ? 0 : \'\'}}"></xe-label></div>')}]);
angular.module("templates/simple-textbox.html",[]).run(["$templateCache",function(r){r.put("templates/simple-textbox.html",'<input id="{{::inputField}}" xe-field="search" name="{{::inputField}}" placeholder="{{placeHolder}}" class="simple-input-field auto-width font-semibold {{xeClass}}" ng-model="value" ng-class="{readOnly: inputDisabled}" ng-disabled="{{disabled}}" ng-keyup="onChange({data: value, id: inputField, event: $event})" ng-keydown="onKeydown({data: value, id: inputField, event: $event})" ng-keypress="onKeypress({data: value, id: inputField, event: $event})" ng-paste="onKeypress({data: $event.originalEvent.clipboardData.getData(\'text/plain\'), id: inputField, event: $event})" ng-focus="onFocus({event: $event})" ng-blur="onBlur(({event: $event}))" autocomplete="off" aria-label="{{xeAriaLabelSimpleTextBox}}">')}]);
angular.module("templates/statusLabel.html",[]).run(["$templateCache",function(r){r.put("templates/statusLabel.html",'<span class="labels {{xeType}}" aria-label="{{::xeLabel}}">{{::xeLabel}}</span>')}]);angular.module("templates/switch.html",[]).run(["$templateCache",function(r){r.put("templates/switch.html",'<input id="{{id}}" ng-disabled="disabled" ng-class="{disabledSwitch:disabled}" ng-model="value" class="cmn-toggle cmn-toggle-round" type="checkbox"><label for="{{id}}"></label>')}]);
angular.module("templates/text-area-counter.html",[]).run(["$templateCache",function(r){r.put("templates/text-area-counter.html",'<div class="textarea-container"><xe-label xe-id="xe-textarea-label" xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><textarea xe-data ng-model="ngModel" class="comments-field" ng-class="{readonly:xeReadonly}" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-required="xeRequired" aria-multiline="true" ng-readonly="xeReadonly" maxlength="{{xeCharCounter}}" ng-trim="false" aria-labelledby="xe-textarea-label xe-id-characters-count">\n\n    </textarea><div id="xe-id-characters-count" aria-live="polite"><span>{{::\'xe.text.chars.left\' | xei18n}} : {{ charRemaining }}</span></div></div>')}]);
angular.module("templates/text-area.html",[]).run(["$templateCache",function(r){r.put("templates/text-area.html",'<div class="textarea-container"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><textarea xe-data ng-model="ngModel" class="comments-field" ng-class="{readonly:xeReadonly}" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-required="xeRequired" aria-multiline="true" ng-readonly="xeReadonly">\n    </textarea></div>')}]);
angular.module("templates/text-box-char-limit.html",[]).run(["$templateCache",function(r){r.put("templates/text-box-char-limit.html",'<div class="textbox-container" aria-live="assertive"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><span id="xe-id-max-characters">{{ xeMaxlength }} {{::\'xe.text.max.chars\' | xei18n}}</span><div class="xe-labeltext-margin"></div><input xe-data ng-class="{readonly:xeReadonly}" ng-model="ngModel" ng-form="ngForm" class="{{xeType}}-field" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-pattern="xePattern" ng-required="xeRequired" ng-maxlength="xeMaxlength" ng-minlength="xeMinlength" ng-readonly="xeReadonly" aria-labelledby="{{xeId}}" aria-describedby="xe-id-max-characters" aria-required="{{xeRequired? true : false}}"><br><div class="error-messages" id="{{xeId+\'label\'}}" ng-messages="" ng-show="{{!xeNotification}}" aria-live="assertive" role="alert"><div ng-message="required">{{::\'textbox.validation.required\' | xei18n}}</div><div ng-message="maxlength">{{::\'textbox.validation.maxlength\' | xei18n}} {{xeMaxlength}}</div></div></div>')}]);
angular.module("templates/text-box-password.html",[]).run(["$templateCache",function(r){r.put("templates/text-box-password.html",'<div class="textbox-container" aria-live="assertive"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><input xe-data ng-class="{readonly:xeReadonly}" ng-model="ngModel" ng-form="ngForm" class="{{xeType}}-field" id="{{xeId}}" type="password" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-pattern="xePattern" ng-required="xeRequired" ng-maxlength="xeMaxlength" ng-minlength="xeMinlength" ng-readonly="xeReadonly" aria-describedby="{{xeId}}" aria-required="{{xeRequired? true : false}}"><br><div class="error-messages" id="{{xeId+\'label\'}}" ng-messages="" ng-show="{{!xeNotification}}"><div ng-message="required">{{::\'textbox.validation.required\' | xei18n}}</div><div ng-message="maxlength">{{::\'textbox.validation.maxlength\' | xei18n}} {{xeMaxlength}}</div></div></div>')}]);
angular.module("templates/text-box.html",[]).run(["$templateCache",function(r){r.put("templates/text-box.html",'<div class="textbox-container" aria-live="assertive"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><input xe-data ng-class="{readonly:xeReadonly}" ng-model="ngModel" ng-form="ngForm" class="{{xeType}}-field" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-pattern="xePattern" ng-required="xeRequired" ng-maxlength="xeMaxlength" ng-minlength="xeMinlength" ng-readonly="xeReadonly" aria-describedby="{{xeId}}" aria-required="{{xeRequired ? true : false}}"><br><div class="error-messages" id="{{xeId+\'label\'}}" ng-messages="" ng-show="{{!xeNotification}}"><div ng-message="required">{{::\'textbox.validation.required\' | xei18n}}</div><div ng-message="maxlength">{{::\'textbox.validation.maxlength\' | xei18n}} {{xeMaxlength}}</div></div></div>')}]);
angular.module("templates/column-filter.html",[]).run(["$templateCache",function(r){r.put("templates/column-filter.html",'<span><div class="column-filter-container" ng-if="::!nocolumnFilterMenu"><button type="button" class="column-filter-button" ng-click="bindClickEvent($event)" aria-haspopup="true" aria-labelledby="columnFilter" xe-field="columnFilterMenu"><span id="columnFilter" class="placeholder" ng-bind="\'dataTable.columnFilter.label\' | xei18n"></span><div class="dropdown-icon">&nbsp;</div></button><ul class="column-setting-menu" ng-hide="hideColumnSettingMenu" role="list" aria-labelledby="columnFilter"><li role="presentation"><xe-checkbox xe-label="{{::\'dataTable.columnFilter.selectAll\' | xei18n}}" xe-aria-label="{{::\'dataTable.columnFilter.selectAll\' | xei18n}}" xe-model="selectAll.visible" xe-on-click="onSelectAll(header, event)" xe-id="0" data-name="all" aria-role="listitem" aria-live="assertive"></xe-checkbox></li><li ng-repeat="heading in header" ng-class="{\'disabled\': heading.options.disable}" ng-if="heading.options.columnShowHide !== false" data-name="{{heading.name}}" role="presentation"><xe-checkbox xe-id="{{heading.name}}" xe-value="{{$index+1}}" xe-label="{{heading.title}}" xe-aria-label="{{heading.title}}" xe-model="heading.options.visible" xe-on-click="hideUnhideColumn(heading, event)" xe-disabled="heading.options.disable" aria-role="listitem" aria-live="assertive"></xe-checkbox></li></ul></div></span>')}]);
angular.module("templates/pagination.html",[]).run(["$templateCache",function(r){r.put("templates/pagination.html",'<div class="tfoot pagination-container visible-lg" role="navigation" ng-cloak><div id="resultsFound" aria-live="assertive" class="results-container" ng-bind="(\'pagination.record.found\' | xei18n) + \': \' + resultsFound"></div><div class="pagination-controls"><xe-button xe-type="secondary" xe-btn-class="first" xe-aria-label="{{::\'pagination.first.label\' | xei18n}}" title="{{::\'pagination.first.label\' | xei18n}}" xe-btn-click="first()" xe-disabled="firstPrev" ng-cloak></xe-button><xe-button xe-type="secondary" xe-btn-class="previous" xe-aria-label="{{::\'pagination.previous.label\' | xei18n}}" title="{{::\'pagination.previous.label\' | xei18n}}" xe-btn-click="prev()" xe-disabled="firstPrev" ng-cloak></xe-button><xe-label xe-value="{{::\'pagination.page.label\' | xei18n}}" role="presentation" aria-hidden="true"></xe-label><span title="{{::\'pagination.page.shortcut.label\' | xei18n}}" role="presentation"><input id="pageInput" type="number" ng-model="onPage" aria-valuenow="{{onPage}}" aria-valuemax="{{numberOfPages}}" aria-valuemin="{{!numberOfPages ? 0 : 1}}" max="{{numberOfPages}}" min="{{!numberOfPages ? 0 : 1}}" ng-model-options="{ debounce: {\'default\': 200, \'blur\': 0} }" ng-change="paggeNumberChange()" ng-blur="focusOut($event)" aria-label="{{::\'pagination.page.aria.label\' | xei18n}}. {{::\'pagination.page.label\' | xei18n}} {{onPage}} {{::\'pagination.page.of.label\' | xei18n}} {{numberOfPages}}" ng-cloak></span><xe-label xe-value="{{::\'pagination.page.of.label\' | xei18n}} {{numberOfPages}}" role="presentation"></xe-label><xe-button xe-type="secondary" xe-btn-class="next" xe-aria-label="{{::\'pagination.next.label\' | xei18n}}" title="{{::\'pagination.next.label\' | xei18n}}" xe-btn-click="next()" xe-disabled="nextLast" ng-cloak></xe-button><xe-button xe-type="secondary" xe-btn-class="last" xe-aria-label="{{::\'pagination.last.label\' | xei18n}}" title="{{::\'pagination.last.label\' | xei18n}}" xe-btn-click="last()" xe-disabled="nextLast" ng-cloak></xe-button><xe-label xe-id="perPage" xe-value="{{::\'pagination.per.page.label\' | xei18n}}" role="presentation" aria-hidden="true"></xe-label><select class="per-page-select" aria-labelledby="perPage" ng-model="offset" ng-options="pageOffset for pageOffset in ::pageOffsets" ng-change="offsetChanged(true)" ng-disabled="resultsFound === 0"></select></div></div>')}]);
angular.module("templates/search.html",[]).run(["$templateCache",function(r){r.put("templates/search.html",'<form name="form" class="search-container"><xe-simple-text-box input-field="{{searchConfig.id}}" xe-class="search" value="value" place-holder="{{searchConfig.placeholder}}" on-keydown="searchKeydown(data, id, event)" on-keypress="searchKeypress(data, id, event)" on-focus="onFocus(event)" on-blur="onBlur(event)" xe-aria-label-simple-text-box="{{::ariaLabel}}"></xe-simple-text-box></form>')}]);
angular.module("templates/dataTable.html",[]).run(["$templateCache",function(r){r.put("templates/dataTable.html",'<div id="{{tableId}}" class="table-container" ng-class="{\'fixed-height\': !!height, \'noToolbar\': noCaptionAndToolbar, \'no-data\': !resultsFound, \'empty\': emptyTableMsg}" browser-detect role="grid" aria-labelledby="gridCaption-{{tableId}}" ng-cloak><div class="trMobile" ng-if="totalRow && isMobileView  "><div ng-repeat="heading in header" ng-if="heading.options.visible === true"><span class="total-row" total-label="{{heading.totalDisplayName}}" aria-hidden="false" ng-bind="getTotalValue(heading)"></span></div></div><div class="caption" ng-if="::!noCaptionBar" xe-section="{{xeSection + \'CaptionBar\'}}"><table class="data-table datatable_spacing" role="heading" aria-level="1"><caption id="gridCaption-{{tableId}}" ng-class="{\'search-opened\': hideContainer}"><span id="gridCaption" class="caption-container font-semibold" ng-if="::!nocaption" ng-bind="::caption" xe-field="caption"></span><div class="toolbar" ng-if="toolbar"><xe-toolbar></xe-toolbar><xe-column-filter header="header"></xe-column-filter><span role="search" title="{{\'search.title\' | xei18n}}" ng-if="::!nosearch"><xe-search value="searchConfig.searchString" place-holder="{{\'search.label\' | xei18n}}" on-change="fetchSpecial(query)" on-focus="onSearchFocus({event: event})" on-blur="onSearchBlur({event: event})" search-config="searchConfig" xe-focus loading-data="loadingData"></xe-search></span></div></caption></table></div><div class="hr-scrollable-content"><div class="thead"><table class="data-table" ng-style="headerPadding" role="presentation"><thead role="rowgroup"><tr role="row"><th class="font-semibold width-animate {{::heading.name}}" ng-repeat="heading in header" ng-class="{\'sortable\': heading.options.sortable, \'ascending\': sortArray[heading.name].ascending, \'decending\': sortArray[heading.name].decending}" ng-if="heading.options.visible === true" ng-style="{\'width\': heading.dynamicWidth + \'px\'}" data-name="{{::heading.name}}" ng-click="onSort({heading: heading}); sortOnHeading(heading, $index);" role="columnheader" aria-sort="{{sortArray[heading.name].ascending ? (\'dataTable.sort.ascending.label\' | xei18n) : (sortArray[heading.name].decending ? (\'dataTable.sort.descending.label\' | xei18n) : \'none\')}}" aria-describedby="headingAria{{$index+\'-\'+tableId}}" drag-drop="handleDrop" tabindex="0" xe-field="{{::heading.name}}" id="dataTableHead-{{heading.name+\'-\'+tableId}}" xe-heading-injector xe-focus xe-click-grid><div class="data" title="{{heading.label}}"><span ng-show="::heading.options.titleVisible !== false" aria-hidden="false" ng-bind="::heading.title"></span><label ng-if="::heading.options.sortable || heading.ariaLabel" id="headingAria{{$index+\'-\'+tableId}}" class="sr-only" ng-bind="heading.ariaLabel + (heading.options.sortable ? (\'dataTable.sortable.label\' | xei18n) : \'\')"></label></div></th></tr></thead></table></div><div class="tbody" ng-style="::{\'height\': height}" continuous-scroll="nextPage()" scroll-parent="{{::continuousScrollParent}}" tabindex="{{(!resultsFound || emptyTableMsg) ? \'-1\' : \'\'}}" resize xe-focus-no-data-msg><div id="msg" ng-bind="emptyTableMsg? emptyTableMsg : ((!resultsFound && !loadingData) ? noDataMsg : \'\')"></div><table class="data-table" ng-class="::mobileLayout ? \'mobileLayout\' : \'noMobileLayout\'" role="presentation"><thead role="presentation" aria-hidden="true"><tr><th class="font-semibold {{::heading.name}}" ng-repeat="heading in header" ng-class="{\'sortable\': heading.options.sortable, \'ascending\': sortArray[heading.name].ascending, \'decending\': sortArray[heading.name].decending}" ng-if="heading.options.visible === true" ng-style="{\'width\': heading.dynamicWidth + \'px\'}" data-name="{{::heading.name}}" xe-field="{{::heading.name}}" xe-heading-injector><div class="data"><span ng-show="::heading.options.titleVisible !== false" ng-bind="::heading.title"></span></div></th></tr></thead><tbody role="rowgroup"><tr ng-repeat="row in content" ng-click="onRowClick({data:row,index:$index})" ng-dblclick="onRowDoubleClick({data:row,index:$index})" xe-row-injector tabindex="-1" role="row"><td class="width-animate" ng-repeat="heading in header" ng-class="{\'align-right\': heading.options.actionOrStatus, \'sortable\': heading.options.sortable}" ng-if="heading.options.visible === true" data-name="{{::heading.name}}" data-title="{{::(heading.title && heading.options.titleVisible !== false) ? heading.title + \':\' : \'\'}}" attain-mobile-layout="{{mobileLayout[heading.name]}}" xe-field="{{::heading.name}}" xe-cell-injector xe-focus xe-click-grid role="gridcell" ng-cloak headers="dataTableHead-{{heading.name+\'-\'+tableId}}"><div ng-if="!isExtendedField(row, heading.name)"><span ng-bind="getObjectValue(row, heading.name)"></span></div><div ng-if="isExtendedField(row, heading.name)"><div ng-if="isEditable"><div ng-if="dataType === \'DATE\'"><input date-picker="" value="{{::extensionValue}}" class="datePicker" aria-labelledby=""></div><div ng-if="dataType === \'VARCHAR2\'"><xe-simple-text-box value="::extensionValue"></xe-simple-text-box></div><div ng-if="dataType === \'NUMBER\'"><decimal-input ng-model="::extensionValue" decimals="0"></decimal-input></div></div><div ng-if="!isEditable"><span ng-bind="::extensionValue"></span></div></div></td></tr></tbody></table></div><div class="trDesktop" ng-if="totalRow && !isMobileView" xe-section="totalRow"><table class="data-table" ng-style="headerPadding"><thead><tr><th class="font-semibold width-animate {{::heading.name}}" ng-repeat="heading in header" ng-if="heading.options.visible === true" ng-style="{\'width\': heading.dynamicWidth + \'px\'}" data-name="{{::heading.name}}" drag-drop="handleDrop" tabindex="0" xe-field="{{::heading.name+\'Total\'}}" xe-focus xe-click-grid><div class="aggregateRow data" ng-class="{\'align-right\': heading.options.actionOrStatus}" title="{{heading.label}}"><label ng-if="heading.totalLabel" id="{{::heading.name+\'Total\'}}" for="{{::heading.name+\'Total\'}}">{{getTotalValue(heading)}}</label><span ng-if="!heading.totalLabel" class="total-display" ng-show="::heading.options.titleVisible !== false" aria-hidden="false" ng-bind="getTotalValue(heading)"></span></div></th></tr></thead></table></div></div><div class="tfoot" ng-transclude></div><xe-pagination model="content" results-found="resultsFound" ng-show="showPagination" xe-grid-pagination-control search-string="searchConfig.searchString"></xe-pagination><div ng-show="loadingData" class="load-indicator"><div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div></div>')}]);
angular.module("templates/dialog.html",[]).run(["$templateCache",function(r){r.put("templates/dialog.html",'<div id="xeModalMask" class="xe-modal-mask" ng-show="show" tabindex="-1" aria-labelledby="xeModalLabel" role="dialog"><div class="xe-modal-wrapper" role="document"><div class="xe-modal-container"><span class="xe-modal-close" ng-click="hide()" tabindex="0" title="{{about[api.close]}}"></span><h4 id="xeModalLabel" hidden>{{about[api.title]}}</h4><div class="xe-modal-header" tabindex="0"><h5 class="xe-app-title">{{about[api.name]}}</h5><h6 class="xe-app-version">{{about[api.version]}}</h6><h6 ng-if="!hidePlatformVersion" class="xe-platform-version">{{about[api.platformVersion]}}</h6></div><hr><div class="xe-modal-body" role="list" tabindex="0"><h6 id="xe-modal-gen-sec" class="xe-title">General</h6><ul role="list" aria-labelledby="xe-modal-gen-sec"><li role="listitem" aria-level="{{$index + 1}}" ng-repeat-start="(key, value) in about[api.general]" ng-repeat-end><strong>{{key}}</strong> : <span>{{value}}</span></li></ul></div><hr><div class="xe-modal-body" role="list" tabindex="0"><h6 id="xe-modal-plugin-info" class="xe-title">Plugin information</h6><ul role="list" aria-labelledby="xe-modal-plugin-info"><li role="listitem" aria-level="{{$index + 1}}" ng-repeat-start="(key, value) in about[api.plugin]" ng-repeat-end><strong>{{key}}</strong> : <span>{{value}}</span></li></ul></div><hr><div class="xe-modal-body" role="list" tabindex="0"><h6 id="xe-modal-other-plugin-info" class="xe-title">Other Plugin information</h6><ul role="list" aria-labelledby="xe-modal-other-plugin-info"><li role="listitem" aria-level="{{$index + 1}}" ng-repeat-start="(key, value) in about[api.otherPlugin]" ng-repeat-end><strong>{{key}}</strong> : <span>{{value}}</span></li></ul></div><div class="xe-modal-footer" tabindex="0">{{about[api.copyright]}}</div></div></div></div>')}]);
angular.module("templates/dialog_default.html",[]).run(["$templateCache",function(r){r.put("templates/dialog_default.html",'<div id="xeModalMask" class="xe-modal-mask" ng-show="show" tabindex="-1" aria-labelledby="xeModalMask" role="region"><div class="xe-modal-wrapper" role="dialog" title="{{about[api.title]}}"><div id="xeModalContainer" class="xe-modal-container" role="dialog" aria-labelledby="xeModalLabel xeModalHeaderDialog xeModalFooter"><span id="xeModalClose" class="xe-modal-close" ng-click="hide()" tabindex="0" role="button" alt="{{about[api.close]}}" title="{{about[api.close]}}"></span><h4 id="xeModalLabel" hidden>{{about[api.title]}}</h4><div id="xeModalHeaderDialog" class="xe-modal-header"><h5 class="xe-app-title">{{about[api.name]}}</h5><h6 class="xe-app-version">{{about[api.version]}}</h6><h6 ng-if="!hidePlatformVersion" class="xe-platform-version">{{about[api.platformVersion]}}</h6></div><hr><div id="xeModalFooter" class="xe-modal-footer" role="heading" aria-level="1"><span class="xe-modal-footer-copyright">&copy; {{about[api.copyright]}}</span><br><br><span class="xe-modal-footer-copyright-info">{{about[api.copyrightLegalNotice]}}</span></div><a id="xeModalPrivacyLink" href="{{about[api.ellucianPrivacyNoticeLink]}}" tabindex="0" role="link" target="_blank" title="{{about[api.ellucianPrivacyNotice]}}">{{about[api.ellucianPrivacyNotice]}}</a></div></div></div>')}]);
angular.module("templates/modal.html",[]).run(["$templateCache",function(r){r.put("templates/modal.html",'<div class="xe-popup-mask" ng-show="show" tabindex="-1" role="dialog" aria-labelledby="{{xeId?xeId:\'xePopTitle\'}}"><div class="xe-popup-wrapper"><div class="xe-popup-container"><div id="xeModalHeader" class="xe-popup-header"><h5 id="{{xeId?xeId:\'xePopTitle\'}}" class="xe-app-title" role="heading"><label ng-bind="popupTitle"></label></h5><span id="xePopupClose" ng-show="showCloseButton==undefined ?true:showCloseButton" class="xe-popup-close" ng-click="hide()" tabindex="0" role="button" aria-label="{{\'userpreference.popup.language.close\' | xei18n}}" alt="{{\'userpreference.popup.language.close\' | xei18n}}" title="{{\'userpreference.popup.language.close\' | xei18n}}"></span></div><div id="xePopupContent" class="xe-pop-content" ng-transclude="popupContent"></div><div id="buttonContainer" class="buttonContainer" ng-transclude="popupButtons"></div><div tabindex="0" id="tabOrdering"></div></div></div></div>')}]);
angular.module("templates/tabNav.html",[]).run(["$templateCache",function(r){r.put("templates/tabNav.html",'<div class="xe-tab-container" role="presentation"><ul class="xe-tab-nav" role="tablist"><li ng-repeat="tab in tabnav.tabs" ng-click="tabnav.activate(tab)" ng-class="{active: tab.active}" ng-repeat-complete role="tab" aria-controls="{{\'xe-tab-panel\'+ ($index+1)}}" aria-selected="{{tab.active?tab.active:false}}"><a href="javascript:void(0);" tabindex="0" id="{{\'xe-tab\'+ ($index+1)}}" title="{{tab.heading}}" ng-if="tab.state">{{tab.heading}} <span></span> </a><a href="#" id="{{\'xe-tab\'+ ($index+1)}}" title="{{tab.heading}}" ng-if="!tab.state">{{tab.heading}} <span></span></a></li></ul><div class="xe-tab-content" role="presentation"><ng-transclude></ng-transclude></div></div>')}]);
angular.module("templates/tabPanel.html",[]).run(["$templateCache",function(r){r.put("templates/tabPanel.html",'<div class="xe-tab-container" role="presentation"><div id="{{ \'xe-tab-panel\'+ tabIndex}}" class="xe-tab-panel" ng-show="active" ng-class="{active: active }" role="tabpanel" aria-labelledby="{{\'xe-tab\'+ tabIndex}}" content="" aria-hidden="{{ !active }}"></div></div>')}]);
angular.module("templates/timePicker.html",[]).run(["$templateCache",function(r){r.put("templates/timePicker.html",'<div class="xe-time-container" role="presentation"><div class="input-outerContainer"><div class="input-container"><input class="input-field xeTimePickerTextField" name="{{xeName}}" ng-model="displayModel" placeholder="{{xeTimePlaceholder}}" id="{{xeId}}" title="{{\'js.input.timepicker.info\' | xei18n}}" aria-label="{{\'timepicker.textbox.aria.label\' | xei18n}} {{\'default.time.format\' | xei18n}}"> <button type="button" class="inputicon" tabindex="-1"></button></div><div class="timepickerContainer" ng-show="toggleContainer"><div id="article" class="mainContainer"><div class="wrappingDiv hrsContainer" ng-class="timeObject.is24Hrformat ? \'LTRpadding24hrs\' : \'LTRpadding12hrs\'"><div class="itemContainer previousDiv"></div><ul role="listbox" class="dropdown ulContainer hrsFocus"><li class="hrs_{{$index}}" role="option" data-ng-repeat="hr in timeObject.hours" value="{{hr}}" data-ng-bind="hr"></li></ul><div class="itemContainer nextDiv"></div></div><div class="wrappingDiv minContainer"><div class="itemContainer previousDiv"></div><ul class="dropdown ulContainer minFocus" role="listbox"><li role="option" class="mins_{{$index}}" tabindex="0" data-ng-repeat="mins in timeObject.minutes" value="{{mins}}" data-ng-bind="mins"></li></ul><div class="itemContainer nextDiv" data-ng-bind="timeObject.configstep"></div></div><div role="listbox" class="wrappingDiv meridianContainer" ng-if="!timeObject.is24Hrformat" aria-label="{{\'timepicker.am.pm.aria.label\' | xei18n}}"><div class="itemContainer"></div><div role="option" aria-live="assertive" class="tickerContainer pushmeBorder meridianFocus" tabindex="0" ng-bind="\'default.time.am\' | xei18n"></div><div aria-label="{{\'default.time.pm\' | xei18n}}" class="tickerContainer meridianPm" ng-bind="\'default.time.pm\' | xei18n"></div></div></div><footer class="timerFooter"><xe-button class="footerButton footercancelButton" xe-type="secondary" xe-label="{{\'js.timepicker.cancel\' | xei18n}}" aria-label="{{\'js.timepicker.cancel\' | xei18n}}"></xe-button><xe-button class="footerButton" xe-type="primary" xe-label="{{\'js.timepicker.set\' | xei18n}}" aria-label="{{\'js.timepicker.set\' | xei18n}}"></xe-button><div class="extraDiv" tabindex="0"></div></footer></div></div></div>')}]);
angular.module("templates/timePicker_rtl.html",[]).run(["$templateCache",function(r){r.put("templates/timePicker_rtl.html",'<div class="xe-time-container" role="presentation"><div class="input-outerContainer"><div class="input-container"><input class="input-field xeTimePickerTextField" name="{{xeName}}" ng-model="displayModel" placeholder="{{xeTimePlaceholder}}" id="{{xeId}}" title="{{\'js.input.timepicker.info\' | xei18n}}" aria-label="{{\'timepicker.textbox.aria.label\' | xei18n}} {{\'default.time.format\' | xei18n}}"> <button type="button" class="inputicon" tabindex="-1"></button></div><div class="timepickerContainer" ng-show="toggleContainer"><div id="article" class="mainContainer"><div role="listbox" class="wrappingDiv meridianContainer rtl12hrsPadding" ng-if="!timeObject.is24Hrformat" aria-label="{{\'timepicker.am.pm.aria.label\' | xei18n}}"><div id="prevampmDiv" class="itemContainer"></div><div role="option" aria-live="assertive" class="tickerContainer pushmeBorder meridianFocus" tabindex="0" ng-bind="\'default.time.am\' | xei18n"></div><div aria-label="{{\'default.time.pm\' | xei18n}}" class="tickerContainer meridianPm" ng-bind="\'default.time.pm\' | xei18n"></div></div><div class="wrappingDiv hrsContainer" ng-class="timeObject.is24Hrformat ? \'rtl24hrsPadding\' : \'rtlhrsPadding\'"><div id="prevHrDiv" class="itemContainer previousDiv"></div><ul id="nav" role="listbox" class="dropdown ulContainer hrsFocus"><li class="hrs_{{$index}}" role="option" data-ng-repeat="hr in timeObject.hours" value="{{hr}}" data-ng-bind="hr"></li></ul><div class="itemContainer nextDiv"></div></div><div class="wrappingDiv minContainer"><div class="itemContainer previousDiv"></div><ul class="dropdown ulContainer minFocus"><li class="mins_{{$index}}" tabindex="0" data-ng-repeat="mins in timeObject.minutes" value="{{mins}}" data-ng-bind="mins"></li></ul><div class="itemContainer nextDiv" data-ng-bind="timeObject.configstep"></div></div></div><footer class="timerFooter"><xe-button class="footerButton footercancelButton" xe-type="secondary" xe-label="{{\'js.timepicker.cancel\' | xei18n}}" aria-label="{{\'js.timepicker.cancel\' | xei18n}}"></xe-button><xe-button class="footerButton" xe-type="primary" xe-label="{{\'js.timepicker.set\' | xei18n}}" aria-label="{{\'js.timepicker.set\' | xei18n}}"></xe-button><div class="extraDiv" tabindex="0"></div></footer></div></div></div>')}]);
(function(){angular.module("badge",[]).directive("xeBadge",function(){return{restrict:"E",scope:{xeLabel:"@",xeType:"@"},templateUrl:"templates/badge.html"}})})();(function(){angular.module("button",[]).directive("xeButton",function(){return{restrict:"E",scope:{xeId:"@",xeType:"@",xeDisabled:"=",xeLabel:"@",xeBtnClick:"&",xeBtnClass:"@",xeAriaLabel:"@"},templateUrl:"templates/button.html"}})})();
(function(){angular.module("checkbox",["label"]).directive("xeCheckbox",["keyCodes","$timeout",function(r,x){return{scope:{xeId:"@",xeValue:"@",xeName:"@?",xeLabel:"@?",xeAriaLabel:"@?",xeLabelHidden:"@?",xeModel:"=",xeOnClick:"&",xeDisabled:"=?",ariaRole:"@?"},restrict:"E",replace:!0,templateUrl:"templates/checkbox.html",link:function(C,z){C.cbClicked=function(p){C.xeDisabled||(C.xeModel=!C.xeModel,x(function(){C.xeOnClick({checked:C.xeModel,event:p});angular.element(z.find("input")).controller("ngModel").$setDirty()}))};
z.on("keydown",function(p){if(p.keyCode===r.ENTER||p.keyCode===r.SPACEBAR)p.preventDefault(),p.stopPropagation(),C.cbClicked(p),C.$apply()});z.on("click",function(p){p.preventDefault();p.stopPropagation();C.cbClicked(p);C.$apply()})}}}])})();
(function(){angular.module("dropdown",[]).directive("xeDropdown",function(){return{restrict:"E",scope:{xeOptions:"=",xeLabel:"=",disabled:"=",ngModel:"="},require:"ngModel",controller:["$scope",function(r){r.isObject=angular.isObject(r.xeOptions[0]);r.dropDownLabel="";r.updateModel=function(x){r.xeLabel!==x?angular.isObject(x)?(r.ngModel=x,r.dropDownLabel=x.label):(r.ngModel=x,r.dropDownLabel=x):(r.ngModel=null,r.dropDownLabel=null)}}],link:function(r){angular.isDefined(r.ngModel)&&r.updateModel(r.ngModel)},
templateUrl:"templates/dropdown.html"}})})();(function(){angular.module("label",[]).filter("removeHTMLTags",function(){return function(r){return r?String(r).replace(/<[^>]+>/gm,""):""}}).directive("xeLabel",function(){return{restrict:"E",scope:{xeId:"@",xeValue:"@",xeAriaLabelLabel:"@?",xeHidden:"@?",xeRequired:"=?",xeFor:"@"},replace:!0,templateUrl:"templates/label.html"}})})();
(function(){angular.module("radiobutton",[]).directive("xeRadioButton",["$window",function(r){return{scope:{xeLabel:"@",xeAriaLabelRadioButton:"@?",ngValue:"=",ngModel:"=",xeOnClick:"&",xeName:"@",xeDisabled:"=",xeId:"@"},restrict:"E",require:"ngModel",templateUrl:"templates/radio-button.html",link:function(x,C){C.on("keydown",function(z){if(32===z.keyCode||13===z.keyCode)z.preventDefault(),x.ngModel=x.ngValue,x.$apply()})}}}])})();
(function(){angular.module("simpleTextbox",[]).directive("xeSimpleTextBox",function(){return{restrict:"E",scope:{inputField:"@",xeClass:"@",value:"=",placeHolder:"@",disabled:"=",onChange:"&",onKeydown:"&",onKeypress:"&",onFocus:"&",onBlur:"&",required:"=",xeAriaLabelSimpleTextBox:"@"},templateUrl:"templates/simple-textbox.html"}})})();(function(){angular.module("statusLabel",[]).directive("xeStatusLabel",function(){return{restrict:"E",scope:{xeLabel:"@",xeType:"@"},templateUrl:"templates/statusLabel.html"}})})();
(function(){angular.module("switch",[]).directive("xeSwitch",function(){return{scope:{disabled:"=",label:"=",value:"=",id:"="},templateUrl:"templates/switch.html"}})})();
(function(){angular.module("textarea",[]).directive("xeTextArea",["$filter",function(r){return{restrict:"E",scope:{ngModel:"=",xeOnChange:"&",xePlaceholder:"@",xeLabel:"=",xeId:"@",xeName:"@?",xeRequired:"=",xeReadonly:"=",xeCharCounter:"@"},templateUrl:function(x,C){return C.xeCharCounter?"templates/text-area-counter.html":"templates/text-area.html"},controller:["$scope","$element","$attrs",function(x,C,z){if(z.xeCharCounter){var p=$(".textarea-char-accessible");0===p.length&&(p=$("<span>",{role:"status",
"aria-live":"polite","aria-atomic":"true","aria-hidden":"false"}).addClass("textarea-char-accessible screen-reader").appendTo(document.body))}var l=r("xei18n")("xe.text.limit.over",z.xeCharCounter);z.xeCharCounter&&C.find("textarea").focus(function(){var t=r("xei18n")("xe.text.chars.remaining.aria",x.charRemaining);p.text(t)});x.$watch("ngModel",function(){z.xeCharCounter&&(x.charRemaining=0>=x.charRemaining?0:z.xeCharCounter,x.ngModel&&(x.charRemaining=z.xeCharCounter-x.ngModel.length,C.find("textarea").on("keyup change",
function(t){$(this).val().length===z.xeCharCounter&&p.text(l)})))})}]}}])})();
(function(){angular.module("textbox",["ngMessages"]).directive("xeTextBox",["$filter",function(r){return{restrict:"E",scope:{xePlaceholder:"@",xeId:"@",xeRequired:"=",xeType:"@",xeReadonly:"=",xeValidate:"=",xePattern:"@",xeErrorMessages:"=",xeNotification:"@",xeLabel:"@",xeName:"@",xeMaxlength:"@",xeMinlength:"@",xeFormName:"@",ngModel:"=",ngForm:"=",xeCharMax:"@"},require:["ngModel","?ngForm"],templateUrl:function(x,C){return"password"===C.xeType?"templates/text-box-password.html":C.hasOwnProperty("xeCharMax")?
"templates/text-box-char-limit.html":"templates/text-box.html"},controller:["$scope","$element","$attrs",function(x,C,z){if(z.hasOwnProperty("xeCharMax")){var p=$(".text-box-char-accessible");var l=r("xei18n")("xe.text.limit.over",z.xeMaxlength);0===p.length&&(p=$("<span>",{role:"alert","aria-live":"assertive","aria-atomic":"true","aria-hidden":"false"}).addClass("text-box-char-accessible screen-reader").appendTo(document.body));C.find("input").on("keyup change focusout",function(t){$(this).val().length>=
z.xeMaxlength&&p.text(l);1==$(this).prop("required")&&(0<$(this).val().length?$(this).attr("aria-invalid",!1):$(this).attr("aria-invalid",!0))})}}],compile:function(x,C){var z="ngForm."+C.xeName;x.find("div.error-messages").attr("ng-messages",z+".$error");x.find("div.error-messages").attr("ng-if",z+"."+C.xeName+".$touched")}}}])})();
(function(){var r={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",
57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",
191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(z){switch(z.which){case r.COMMAND:case r.SHIFT:case r.CTRL:case r.ALT:return!0}return z.metaKey?!0:!1},isFunctionKey:function(z){z=z.which?z.which:z;return 112<=z&&123>=z},isVerticalMovement:function(z){return~[r.UP,r.DOWN].indexOf(z)},isHorizontalMovement:function(z){return~[r.LEFT,r.RIGHT,r.BACKSPACE,r.DELETE].indexOf(z)},toSeparator:function(z){var p={ENTER:"\n",TAB:"\t",SPACE:" "}[z];return p?p:r[z]?void 0:z}};void 0===angular.element.prototype.querySelectorAll&&
(angular.element.prototype.querySelectorAll=function(z){return angular.element(this[0].querySelectorAll(z))});void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(z){for(var p=this[0],l=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.msMatchesSelector;p;){if(l.bind(p)(z))return p;p=p.parentElement}return!1});var x=0,C=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:0,
closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",generateId:function(){return x+=1},appendToBody:!1}).service("uiSelectMinErr",function(){var z=angular.$$minErr("ui.select");return function(){var p=z.apply(this,arguments).message.replace(/\nhttp:\/\/errors.angularjs.org\/.*/,"");return Error(p)}}).directive("uisTranscludeAppend",function(){return{link:function(z,p,l,t,y){y(z,function(m){p.append(m)})}}}).filter("highlight",function(){return function(z,p){return p&&z?(""+z).replace(new RegExp((""+
p).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),'<span class="ui-select-highlight">$&</span>'):z}}).factory("uisOffset",["$document","$window",function(z,p){return function(l){var t=l[0].getBoundingClientRect();return{width:t.width||l.prop("offsetWidth"),height:t.height||l.prop("offsetHeight"),top:t.top+(p.pageYOffset||z[0].documentElement.scrollTop),left:t.left+(p.pageXOffset||z[0].documentElement.scrollLeft)}}}]);C.directive("xeUiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr",
"$compile","$window","$timeout",function(z,p,l,t,y,m){return{restrict:"EA",require:"^xeUiSelect",replace:!0,transclude:!0,templateUrl:function(v){v.addClass("ui-select-choices");return(v.parent().attr("theme")||z.theme)+"/choices.tpl.html"},compile:function(v,D){if(!D.repeat)throw l("repeat","Expected 'repeat' expression.");return function(P,W,I,S,N){var L=I.groupBy,Z=I.groupFilter,w=W.querySelectorAll(".ui-select-choices-row"),fa=W.querySelectorAll(".ui-select-choices-row-inner");S.parseRepeatAttr(I,
L,Z,S);S.disableChoiceExpression=I.uiDisableChoice;S.onHighlightCallback=I.onHighlight;S.dropdownPosition=I.position?I.position.toLowerCase():z.dropdownPosition;if(L){Z=W.querySelectorAll(".ui-select-choices-group");if(1!==Z.length)throw l("rows","Expected 1 .ui-select-choices-group but got '{0}'.",Z.length);Z.attr("ng-repeat",p.getGroupNgRepeatExpression())}if(1!==w.length)throw l("rows","Expected 1 .ui-select-choices-row but got '{0}'.",w.length);w.attr("ng-repeat",S.parserResult.repeatExpression(L)).attr("ng-if",
"$select.open");y.document.addEventListener&&w.attr("ng-mouseenter","$select.setActiveItem("+S.parserResult.itemName+")").attr("ng-click","$select.select("+S.parserResult.itemName+",$select.skipFocusser,$event)");if(1!==fa.length)throw l("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",fa.length);fa.attr("uis-transclude-append","");y.document.addEventListener||fa.attr("ng-mouseenter","$select.setActiveItem("+S.parserResult.itemName+")").attr("ng-click","$select.select("+S.parserResult.itemName+
",$select.skipFocusser,$event)");t(W,N)(P);P.$watch("$select.search",function(ca){ca&&!S.open&&S.multiple&&(S.activate(!1,!0),S.activeIndex=S.tagging.isActivated?-1:0);I.minimumInputLength&&!(S.search.length>=I.minimumInputLength)||S.disabled?S.disabled||(S.minimumInputLength=I.minimumInputLength,S.showMinMsg=!0,S.items=[]):(S.refresh(I.refresh),S.showMinMsg=!1)});P.$watch(S.disabled,function(ca,oa){ca||ca===oa||S.items.length||S.refresh(I.refresh)});S.refreshOnChange&&P.$watch(S.refreshOnChange,
function(ca){ca&&S.refresh(I.refresh)});I.$observe("refreshDelay",function(){var ca=P.$eval(I.refreshDelay);S.refreshDelay=void 0!==ca?ca:z.refreshDelay});P.$watch("$select.items",function(ca,oa){S.showNoResultsMsg=0==S.items.length?!0:!1})}}}}]);C.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(z,p,l,t,y,m,v,D,P,W){function I(T,ea,qa){if(T.findIndex)return T.findIndex(ea,qa);T=Object(T);
var xa=T.length>>>0,ja;for(ja=0;ja<xa;ja+=1){var V=T[ja];if(ea.call(qa,V,ja,T))return ja}return-1}function S(){if(w.resetSearchInput||void 0===w.resetSearchInput&&v.resetSearchInput)w.search="",w.selected&&w.items.length&&!w.multiple&&(w.activeIndex=I(w.items,function(T){return angular.equals(this,T)},w.selected))}function N(T,ea){var qa,xa,ja=[];for(qa=0;qa<ea.length;qa+=1)for(xa=0;xa<T.length;xa+=1)T[xa].name==[ea[qa]]&&ja.push(T[xa]);return ja}function L(T){var ea=!0;switch(T){case r.DOWN:!w.open&&
w.multiple?w.activate(!1,!0):w.activeIndex<w.items.length-1&&w.activeIndex++;break;case r.UP:!w.open&&w.multiple?w.activate(!1,!0):(0<w.activeIndex||0===w.search.length&&w.tagging.isActivated&&-1<w.activeIndex)&&w.activeIndex--;break;case r.TAB:w.multiple&&!w.open||w.select(w.items[w.activeIndex],!0);break;case r.ENTER:1==w.items.length?w.select(w.items[0],w.skipFocusser):w.open&&(w.tagging.isActivated||0<=w.activeIndex)?w.select(w.items[w.activeIndex],w.skipFocusser):w.activate(!1,!0);break;case r.ESC:w.close();
break;default:ea=!1}return ea}function Z(){var T=p.querySelectorAll(".ui-select-choices-content"),ea=T.querySelectorAll(".ui-select-choices-row");if(1>ea.length)throw m("choices","Expected multiple .ui-select-choices-row but got '{0}'.",ea.length);if(!(0>w.activeIndex)){ea=ea[w.activeIndex];$(".uiselect-choice-status-hidden-accessible").text("");var qa=$(ea).find("div:last").text();qa=t("xei18n")("uiselect.option.selected",qa);$(".uiselect-choice-status-hidden-accessible").text(qa);$(".uiselect-choice-status-hidden-accessible").attr("aria-selected",
!0);$(".uiselect-choice-status-hidden-accessible").innerText=qa;qa=ea.offsetTop+ea.clientHeight-T[0].scrollTop;var xa=T[0].offsetHeight;qa>xa?T[0].scrollTop+=qa-xa:qa<ea.clientHeight&&(T[0].scrollTop=w.isGrouped&&0===w.activeIndex?0:T[0].scrollTop-(ea.clientHeight-qa))}}var w=this;w.placeholder=v.placeholder;w.searchEnabled=v.searchEnabled;w.sortable=v.sortable;w.refreshDelay=v.refreshDelay;w.paste=v.paste;w.removeSelected=!1;w.closeOnSelect=!0;w.skipFocusser=!1;w.search="";w.activeIndex=0;w.items=
[];w.open=!1;w.focus=!1;w.disabled=!1;w.selected=void 0;w.dropdownPosition="auto";w.focusser=void 0;w.resetSearchInput=!0;w.multiple=void 0;w.disableChoiceExpression=void 0;w.tagging={isActivated:!1,fct:void 0};w.taggingTokens={isActivated:!1,tokens:void 0};w.lockChoiceExpression=void 0;w.clickTriggeredSelect=!1;w.$filter=t;w.minimumInputLength;try{var fa=P.get("$animate")}catch(T){fa=null}w.$animate=fa;w.searchInput=p.querySelectorAll("input.ui-select-search");if(1!==w.searchInput.length)throw m("searchInput",
"Expected 1 input.ui-select-search but got '{0}'.",w.searchInput.length);w.isEmpty=function(){return angular.isUndefined(w.selected)||null===w.selected||""===w.selected||w.multiple&&0===w.selected.length};w.activate=function(T,ea){if(w.disabled||w.open)w.open&&w.multiple&&(w.open=!1);else if(ea||S(),z.$broadcast("uis:activate"),w.open=!0,w.liveRegion=$(".uiselect-hidden-accessible"),w.liveChoicestStusRegion=$(".uiselect-choice-status-hidden-accessible"),0==w.liveRegion.length&&(ea=angular.element("<span></span>"),
ea.attr("role","status"),ea.attr("aria-live","assertive"),ea.attr("class","uiselect-hidden-accessible"),angular.element(document.body).append(ea)),0==w.liveChoicestStusRegion.length&&(ea=angular.element("<span></span>"),ea.attr("role","status"),ea.attr("aria-live","assertive"),ea.attr("aria-atomic","true"),ea.attr("class","uiselect-choice-status-hidden-accessible"),angular.element(document.body).append(ea)),w.activeIndex=w.activeIndex>=w.items.length?0:w.activeIndex,-1===w.activeIndex&&!1!==w.taggingLabel&&
(w.activeIndex=0),ea=p.querySelectorAll(".ui-select-choices-content"),w.$animate&&w.$animate.on&&w.$animate.enabled(ea[0]))w.$animate.on("enter",ea[0],function(qa,xa){"close"===xa&&l(function(){w.focusSearchInput(T)})});else l(function(){w.focusSearchInput(T);if(!w.tagging.isActivated&&1<w.items.length){$(".uiselect-hidden-accessible").text("");var qa=w.searchEnabled?t("xei18n")("uiselect.search.results",w.items.length):t("xei18n")("uiselect.search.disabled.results");$(".uiselect-hidden-accessible").text(qa);
$(".uiselect-hidden-accessible").innerText=qa}else 0===w.items.length&&"undefined"!=w.minimumInputLength&&(qa=t("xei18n")("uiselect.minimum.input.text",w.minimumInputLength),$(".uiselect-hidden-accessible").text(""),$(".uiselect-hidden-accessible").text(qa),$(".uiselect-hidden-accessible").innerText=qa)})};w.focusSearchInput=function(T){w.search=T||w.search;setTimeout(function(){w.searchInput[0].focus()},10)};w.findGroupByName=function(T){return w.groups&&w.groups.filter(function(ea){return ea.name===
T})[0]};w.parseRepeatAttr=function(T,ea,qa,xa){function ja(na){var za=z.$eval(ea);w.groups=[];angular.forEach(na,function(Ea){var Va=angular.isFunction(za)?za(Ea):Ea[za],db=w.findGroupByName(Va);db?db.items.push(Ea):w.groups.push({name:Va,items:[Ea]})});qa&&(na=z.$eval(qa),angular.isFunction(na)?w.groups=na(w.groups):angular.isArray(na)&&(w.groups=N(w.groups,na)));w.items=[];w.groups.forEach(function(Ea){w.items=w.items.concat(Ea.items)})}function V(na){w.items=na}w.setItemsFn=ea?ja:V;w.parserResult=
y.parse(T.repeat);w.isGrouped=!!ea;w.itemProperty=w.parserResult.itemName;var ha=w.parserResult.source,Ca=function(){var na=ha(z);z.$uisSource=Object.keys(na).map(function(za){var Ea={};Ea[w.parserResult.keyName]=za;Ea.value=na[za];return Ea})};w.parserResult.keyName&&(Ca(),w.parserResult.source=D("$uisSource"+w.parserResult.filters),z.$watch(ha,function(na,za){na!==za&&Ca()},!0));w.refreshItems=function(na){angular.isArray(na)&&T.refresh&&angular.isArray(w.items)&&"object"===typeof w.items[0]&&w.items[0].isTag&&
na.unshift(w.items[0]);na=na||w.parserResult.source(z);var za=w.selected;w.isEmpty()||angular.isArray(za)&&!za.length||!w.removeSelected?w.setItemsFn(na):void 0!==na&&(na=na.filter(function(Ea){return za.every(function(Va){return!angular.equals(Ea,Va)})}),w.setItemsFn(na));null!==w.items&&void 0!==w.items&&void 0!==w.items.length&&0<w.items.length?""!=w.search&&(na=t("xei18n")("uiselect.search.results",w.items.length),$(".uiselect-hidden-accessible").text(""),$(".uiselect-hidden-accessible").text(na),
$(".uiselect-hidden-accessible").innerText=na):null!==w.items&&void 0!==w.items&&void 0!==w.items.length&&0===w.items.length&&(na=t("xei18n")("uiselect.no.results.found.text"),$(".uiselect-hidden-accessible").text(""),$(".uiselect-hidden-accessible").text(na),$(".uiselect-hidden-accessible").innerText=na);"auto"!==w.dropdownPosition&&"up"!==w.dropdownPosition||z.calculateDropdownPos()};z.$watchCollection(w.parserResult.source,function(na){if(void 0===na||null===na)w.items=[];else if(angular.isArray(na))!T.minimumInputLength||
xa.search.length>=T.minimumInputLength?w.refreshItems(na):(w.groups=[],w.items=[]),w.ngModel.$modelValue=null;else throw m("items","Expected an array but got '{0}'.",na);})};var ca;w.refresh=function(T){void 0!==T&&(ca&&l.cancel(ca),ca=l(function(){z.$eval(T)},w.refreshDelay))};w.isActive=function(T){if(!w.open)return!1;var ea=w.items.indexOf(T[w.itemProperty]),qa=ea==w.activeIndex;if(!qa||0>ea&&!1!==w.taggingLabel||0>ea&&!1===w.taggingLabel)return!1;qa&&!angular.isUndefined(w.onHighlightCallback)&&
T.$eval(w.onHighlightCallback);return qa};w.isDisabled=function(T){if(w.open){var ea=w.items.indexOf(T[w.itemProperty]),qa=!1;0<=ea&&!angular.isUndefined(w.disableChoiceExpression)&&(ea=w.items[ea],qa=!!T.$eval(w.disableChoiceExpression),ea._uiSelectChoiceDisabled=qa);return qa}};w.select=function(T,ea,qa){if(void 0===T||!T._uiSelectChoiceDisabled){var xa=w.selected;if(w.items||w.search||w.tagging.isActivated)if(!T||!T._uiSelectChoiceDisabled){if(w.tagging.isActivated){if(!1===w.taggingLabel)if(0>
w.activeIndex){if(T=void 0!==w.tagging.fct?w.tagging.fct({tag:w.search,taggingKey:w.taggingKey}):w.search,!T||angular.equals(w.items[0],T))return}else T=w.items[w.activeIndex];else if(T)if(void 0!==w.tagging.fct&&"object"===typeof T&&T.isTag){if(T=w.tagging.fct({tag:w.search,taggingKey:w.taggingKey,onSelect:!0}),!T)return}else if(void 0!==w.tagging.fct&&"string"===typeof T&&-1!==T.indexOf(w.taggingLabel)){if(T=w.tagging.fct({tag:T,taggingKey:w.taggingKey,onSelect:!0}),!T)return}else"string"===typeof T&&
-1!==T.indexOf(w.taggingLabel)&&(T=T.replace(w.taggingLabel,"").trim());if(w.selected&&angular.isArray(w.selected)&&0<w.selected.filter(function(Ca){return angular.equals(Ca,T)}).length){w.close(ea);return}}S();if(T){$(".uiselect-choice-status-hidden-accessible").text("");var ja=void 0!=w.selectedValue?t("xei18n")("uiselect.option.selected",T[w.selectedValue]):t("xei18n")("uiselect.option.selected",T.name);$(".uiselect-choice-status-hidden-accessible").text(ja);$(".uiselect-choice-status-hidden-accessible").innerText=
ja}z.$broadcast("uis:select",T);var V={};V[w.parserResult.itemName]=T;var ha={};ha[w.parserResult.itemName]=xa;l(function(){if(angular.isUndefined(T))w.onRemoveCallback(z,{$item:xa,$model:w.parserResult.modelMapper(z,ha)});else w.onSelectCallback(z,{$item:T,$model:w.parserResult.modelMapper(z,V),$prevItem:w.parserResult.modelMapper(z,ha)})});w.focusSearchInput("");w.closeOnSelect&&w.close(ea);qa&&"click"===qa.type&&(w.clickTriggeredSelect=!0)}}};w.close=function(T){w.open&&(w.ngModel&&w.ngModel.$setTouched&&
w.ngModel.$setTouched(),S(),w.open=!1,z.$broadcast("uis:close",T))};w.setFocus=function(){w.focus||w.focusInput[0].focus()};w.clear=function(T){w.select(void 0);T.stopPropagation();l(function(){w.focusser[0].focus()},0,!1)};w.toggle=function(T){w.open?(w.close(),T.preventDefault(),T.stopPropagation()):w.activate()};w.toggleMultiDropdown=function(T){};w.isLocked=function(T,ea){if((ea=w.selected[ea])&&!angular.isUndefined(w.lockChoiceExpression)){var qa=!!T.$eval(w.lockChoiceExpression);ea._uiSelectChoiceLocked=
qa}return qa};var oa=null;w.sizeSearchInput=function(){var T=w.searchInput[0],ea=w.searchInput.parent().parent()[0],qa=function(){return ea.clientWidth*!!T.offsetParent},xa=function(ja){if(0===ja)return!1;w.searchInput.css("width",ja-T.offsetLeft-10+"px");return!0};w.searchInput.css("width","10px");l(function(){null!==oa||xa(qa())||(oa=z.$watch(qa,function(ja){xa(ja)&&(oa(),oa=null)}))})};w.searchInput.on("keydown",function(T){var ea=T.which;~[r.ENTER,r.ESC].indexOf(ea)&&(T.preventDefault(),T.stopPropagation());
~[r.ESC].indexOf(ea)&&w.close();if(!~[r.ENTER,r.ESC].indexOf(ea)&&!r.isVerticalMovement(ea)&&!1===w.searchEnabled)return T.preventDefault(),T.stopPropagation(),!1;z.$apply(function(){var qa=!1;if(0<w.items.length||w.tagging.isActivated){if(L(ea),w.taggingTokens.isActivated){for(var xa=0;xa<w.taggingTokens.tokens.length;xa++)w.taggingTokens.tokens[xa]===r.MAP[T.keyCode]&&0<w.search.length&&(qa=!0);qa&&l(function(){w.searchInput.triggerHandler("tagged");var ja=w.search.replace(r.MAP[T.keyCode],"").trim();
w.tagging.fct&&(ja=w.tagging.fct({tag:ja,taggingKey:w.taggingKey}));ja&&w.select(ja,!0)})}}else!w.open&&w.multiple&&L(ea)});r.isVerticalMovement(ea)&&0<w.items.length&&Z();0==z.$select.search.length&&ea===r.SPACE&&(T.preventDefault(),T.stopPropagation());if(ea===r.ENTER||ea===r.ESC||ea===r.UP||r===r.DOWN)T.preventDefault(),T.stopPropagation();if(-1===w.activeIndex||!1!==w.taggingLabel&&!r.isVerticalMovement(ea))w.activeIndex=0});w.searchInput.on("paste",function(T){var ea=window.clipboardData&&window.clipboardData.getData?
window.clipboardData.getData("Text"):(T.originalEvent||T).clipboardData.getData("text/plain");if((ea=w.search+ea)&&0<ea.length)if(w.taggingTokens.isActivated){var qa=r.toSeparator(w.taggingTokens.tokens[0]);(ea=ea.split(qa||w.taggingTokens.tokens[0]))&&0<ea.length&&(qa=w.search,angular.forEach(ea,function(xa){(xa=w.tagging.fct?w.tagging.fct({tag:xa,taggingKey:w.taggingKey}):xa)&&w.select(xa,!0)}),w.search=qa||"",T.preventDefault(),T.stopPropagation())}else w.paste&&(w.paste(ea),w.search="",T.preventDefault(),
T.stopPropagation())});w.searchInput.on("tagged",function(){l(function(){S()})});z.$on("$destroy",function(){w.searchInput.off("keyup keydown tagged blur paste")});angular.element(W).bind("resize",function(){w.sizeSearchInput()})}]);C.directive("xeUiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(z,p,l,t,y,m,v){return{restrict:"EA",templateUrl:function(D,P){return(P.theme||p.theme)+(angular.isDefined(P.multiple)?"/select-multiple.tpl.html":
"/select.tpl.html")},replace:!0,transclude:!0,require:["xeUiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(D,P){var W=/{(.*)}\s*{(.*)}/.exec(P.ngClass);W&&(W="{"+W[1]+", "+W[2]+"}",P.ngClass=W,D.attr("ng-class",W));angular.isDefined(P.multiple)?D.append("<ui-select-multiple/>").removeAttr("multiple"):D.append("<ui-select-single/>");P.inputId&&(D.querySelectorAll("input.ui-select-search")[0].id=P.inputId);return function(I,S,N,L,Z){function w(ja){if(ca.open){if((window.jQuery?
!window.jQuery.contains(S[0],ja.target):!S[0].contains(ja.target))&&!ca.clickTriggeredSelect){if(ca.skipFocusser)var V=!0;else{var ha=["input","button","textarea","select"];(V=(V=angular.element(ja.target).controller("xeUiSelect"))&&V!==ca)||(V=~ha.indexOf(ja.target.tagName.toLowerCase()))}ca.close(V);I.$digest()}ca.clickTriggeredSelect=!1}}function fa(){null!==T&&(T.replaceWith(S),T=null,S[0].style.position="",S[0].style.left="",S[0].style.top="",S[0].style.width=ea,ca.setFocus())}var ca=L[0];L=
L[1];ca.selectedValue=N.textSelected;ca.refreshOnChange=void 0!==N.refreshOnChange?N.refreshOnChange:"";ca.disabled=N.hasOwnProperty("ngDisabled")?!0:!1;ca.generatedId=p.generateId();ca.baseTitle=N.title||"Select box";ca.focusserId="focusser-"+ca.generatedId;ca.focusserTitle="false"===N.searchEnabled?ca.baseTitle+("true"===N.ngRequired?", required":"")+", focus, Single Select Search Unavailable":ca.baseTitle+("true"===N.ngRequired?", required":"")+", focus";var oa=angular.isDefined(N.closeOnSelect)?
m(N.closeOnSelect)():p.closeOnSelect;ca.closeOnSelect=oa;I.$watch("skipFocusser",function(){var ja=I.$eval(N.skipFocusser);ca.skipFocusser=void 0!==ja?ja:p.skipFocusser});ca.onSelectCallback=m(N.onSelect);ca.onRemoveCallback=m(N.onRemove);ca.limit=angular.isDefined(N.limit)?parseInt(N.limit,10):void 0;ca.ngModel=L;ca.choiceGrouped=function(ja){return ca.isGrouped&&ja&&ja.name};N.tabindex&&N.$observe("tabindex",function(ja){ca.focusInput.attr("tabindex",ja);S.removeAttr("tabindex")});I.$watch("searchEnabled",
function(){var ja=I.$eval(N.searchEnabled);ca.searchEnabled=void 0!==ja?ja:p.searchEnabled});I.$watch("sortable",function(){var ja=I.$eval(N.sortable);ca.sortable=void 0!==ja?ja:p.sortable});N.$observe("disabled",function(){ca.disabled=void 0!==N.disabled?N.disabled:!1});N.$observe("resetSearchInput",function(){var ja=I.$eval(N.resetSearchInput);ca.resetSearchInput=void 0!==ja?ja:!0});N.$observe("paste",function(){ca.paste=I.$eval(N.paste)});N.$observe("tagging",function(){if(void 0!==N.tagging){var ja=
I.$eval(N.tagging);ca.tagging={isActivated:!0,fct:!0!==ja?ja:void 0}}else ca.tagging={isActivated:!1,fct:void 0}});N.$observe("taggingLabel",function(){void 0!==N.tagging&&(ca.taggingLabel="false"===N.taggingLabel?!1:void 0!==N.taggingLabel?N.taggingLabel:"(new)")});N.$observe("taggingKey",function(){void 0!==N.tagging&&(ca.taggingKey=void 0!==N.taggingKey?N.taggingKey:"")});N.$observe("taggingTokens",function(){if(void 0!==N.tagging){var ja=void 0!==N.taggingTokens?N.taggingTokens.split("|"):[",",
"ENTER"];ca.taggingTokens={isActivated:!0,tokens:ja}}});angular.isDefined(N.autofocus)&&v(function(){ca.setFocus()});angular.isDefined(N.focusOn)&&I.$on(N.focusOn,function(){v(function(){ca.setFocus()})});z.on("click",w);I.$on("$destroy",function(){z.off("click",w)});Z(I,function(ja){ja=angular.element("<div>").append(ja);var V=ja.querySelectorAll(".ui-select-match");V.removeAttr("ui-select-match");V.removeAttr("data-ui-select-match");if(1!==V.length)throw l("transcluded","Expected 1 .ui-select-match but got '{0}'.",
V.length);S.querySelectorAll(".ui-select-match").replaceWith(V);ja=ja.querySelectorAll(".ui-select-choices");ja.removeAttr("ui-select-choices");ja.removeAttr("data-ui-select-choices");if(1!==ja.length)throw l("transcluded","Expected 1 .ui-select-choices but got '{0}'.",ja.length);S.querySelectorAll(".ui-select-choices").replaceWith(ja)});Z=I.$eval(N.appendToBody);if(void 0!==Z?Z:p.appendToBody)I.$watch("$select.open",function(ja){ja?(ja=t(S),T=angular.element('<div class="ui-select-placeholder"></div>'),
T[0].style.width=ja.width+"px",T[0].style.height=ja.height+"px",S.after(T),ea=S[0].style.width,z.find("body").append(S),S[0].style.position="absolute",S[0].style.left=ja.left+"px",S[0].style.top=ja.top+"px",S[0].style.width=ja.width+"px"):fa()}),I.$on("$destroy",function(){fa()});var T=null,ea="",qa=null;I.$watch("$select.open",function(){"auto"!==ca.dropdownPosition&&"up"!==ca.dropdownPosition||I.calculateDropdownPos()});var xa=function(ja,V){ja||t(S);V=V||t(qa);qa[0].style.position="absolute";qa[0].style.top=
-1*V.height+"px";S.addClass("direction-up")};I.calculateDropdownPos=function(){ca.open?(qa=angular.element(S).querySelectorAll(".ui-select-dropdown"),0!==qa.length&&(qa[0].style.opacity=0,v(function(){if("up"===ca.dropdownPosition)xa();else{S.removeClass("direction-up");var ja=t(S),V=t(qa);ja.top+ja.height+V.height>(z[0].documentElement.scrollTop||z[0].body.scrollTop)+z[0].documentElement.clientHeight?xa(ja,V):(S.removeClass("direction-up"),ja||t(S),V||t(qa),qa[0].style.position="",qa[0].style.top=
"")}qa[0].style.opacity=1}))):null!==qa&&0!==qa.length&&(qa[0].style.position="",qa[0].style.top="",S.removeClass("direction-up"))}}}}}]);C.directive("xeUiSelectMatch",["uiSelectConfig",function(z){return{restrict:"EA",require:"^xeUiSelect",replace:!0,transclude:!0,templateUrl:function(p){p.addClass("ui-select-match");var l=p.parent().attr("theme")||z.theme;p=p.parent().attr("multiple");return l+(p?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(p,l,t,y){function m(v){y.allowClear=angular.isDefined(v)?
""===v?!0:"true"===v.toLowerCase():!1}y.lockChoiceExpression=t.uiLockChoice;t.$observe("placeholder",function(v){y.placeholder=void 0!==v?v:z.placeholder});t.$observe("allowClear",m);m(t.allowClear);y.multiple&&y.sizeSearchInput()}}}]);C.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(z,p){return{restrict:"EA",require:["^xeUiSelect","^ngModel"],controller:["$scope","$timeout",function(l,t){var y=this,m=l.$select,v;angular.isUndefined(m.selected)&&(m.selected=[]);l.$evalAsync(function(){v=
l.ngModel});y.activeMatchIndex=-1;y.updateModel=function(){v.$setViewValue(Date.now());y.refreshComponent()};y.refreshComponent=function(){m.refreshItems();m.sizeSearchInput()};y.removeChoice=function(D){var P=m.selected[D];if(!P._uiSelectChoiceLocked){var W={};W[m.parserResult.itemName]=P;m.selected.splice(D,1);y.activeMatchIndex=-1;m.sizeSearchInput();t(function(){m.onRemoveCallback(l,{$item:P,$model:m.parserResult.modelMapper(l,W)})});y.updateModel();m.setFocus()}};y.getPlaceholder=function(){if(!m.selected||
!m.selected.length)return m.placeholder}}],controllerAs:"$selectMultiple",link:function(l,t,y,m){function v(L){return angular.isNumber(L.selectionStart)?L.selectionStart:L.value.length}function D(L){var Z=v(I.searchInput[0]),w=I.selected.length-1,fa=N.activeMatchIndex,ca=N.activeMatchIndex+1,oa=N.activeMatchIndex-1,T=fa;if(0<Z||I.search.length&&L==r.RIGHT)return!1;I.close();T=function(){switch(L){case r.LEFT:if(~N.activeMatchIndex){var ea=I.selected[oa].name;$(".uiselect-choice-status-hidden-accessible").text(ea);
return oa}ea=I.selected[w].name;$(".uiselect-choice-status-hidden-accessible").text(ea);return w;case r.RIGHT:if(~N.activeMatchIndex&&fa!==w)return ea=I.selected[ca].name,$(".uiselect-choice-status-hidden-accessible").text(ea),ca;I.activate();return!1;case r.BACKSPACE:return~N.activeMatchIndex?(N.removeChoice(fa),oa):w;case r.DELETE:return~N.activeMatchIndex?(N.removeChoice(N.activeMatchIndex),fa):!1}}();N.activeMatchIndex=I.selected.length&&!1!==T?Math.min(w,Math.max(0,T)):-1;return!0}function P(L){return void 0===
L||void 0===I.search?!1:0<L.filter(function(Z){return void 0===I.search.toUpperCase()||void 0===Z?!1:Z.toUpperCase()===I.search.toUpperCase()}).length}function W(L,Z){var w=-1;if(angular.isArray(L)){L=angular.copy(L);for(var fa=0;fa<L.length;fa++)if(void 0===I.tagging.fct)L[fa]+" "+I.taggingLabel===Z&&(w=fa);else{var ca=L[fa];angular.isObject(ca)&&(ca.isTag=!0);angular.equals(ca,Z)&&(w=fa)}}return w}var I=m[0],S=l.ngModel=m[1],N=l.$selectMultiple;I.multiple=!0;I.removeSelected=!0;I.focusInput=I.searchInput;
S.$isEmpty=function(L){return!L||0===L.length};S.$parsers.unshift(function(){for(var L,Z=[],w=I.selected.length-1;0<=w;w--)L={},L[I.parserResult.itemName]=I.selected[w],L=I.parserResult.modelMapper(l,L),Z.unshift(L);return Z});S.$formatters.unshift(function(L){var Z=I.parserResult.source(l,{$select:{search:""}}),w={},fa;if(!Z)return L;var ca=[],oa=function(ea,qa){if(ea&&ea.length){for(var xa=ea.length-1;0<=xa;xa--){w[I.parserResult.itemName]=ea[xa];fa=I.parserResult.modelMapper(l,w);if(I.parserResult.trackByExp){var ja=
/(\w*)\./.exec(I.parserResult.trackByExp),V=/\.([^\s]+)/.exec(I.parserResult.trackByExp);if(ja&&0<ja.length&&ja[1]==I.parserResult.itemName&&V&&0<V.length&&fa[V[1]]==qa[V[1]])return ca.unshift(ea[xa]),!0}if(angular.equals(fa,qa))return ca.unshift(ea[xa]),!0}return!1}};if(!L)return ca;for(var T=L.length-1;0<=T;T--)oa(I.selected,L[T])||oa(Z,L[T])||ca.unshift(L[T]);return ca});l.$watchCollection(function(){return S.$modelValue},function(L,Z){Z!=L&&(S.$modelValue=null,N.refreshComponent())});S.$render=
function(){if(!angular.isArray(S.$viewValue))if(angular.isUndefined(S.$viewValue)||null===S.$viewValue)I.selected=[];else throw z("multiarr","Expected model value to be array but got '{0}'",S.$viewValue);I.selected=S.$viewValue;N.refreshComponent();l.$evalAsync()};l.$on("uis:select",function(L,Z){I.selected.length>=I.limit||(I.selected.push(Z),N.updateModel())});l.$on("uis:activate",function(){N.activeMatchIndex=-1});l.$watch("$select.disabled",function(L,Z){Z&&!L&&I.sizeSearchInput()});I.searchInput.on("keydown",
function(L){var Z=L.which;l.$apply(function(){var w=!1;r.isHorizontalMovement(Z)&&(w=D(Z));w&&Z!=r.TAB&&(L.preventDefault(),L.stopPropagation())})});I.searchInput.on("keyup",function(L){r.isVerticalMovement(L.which)||l.$evalAsync(function(){I.activeIndex=!1===I.taggingLabel?-1:0});if(I.tagging.isActivated&&0<I.search.length&&!(L.which===r.TAB||r.isControl(L)||r.isFunctionKey(L)||L.which===r.ESC||r.isVerticalMovement(L.which))&&(I.activeIndex=!1===I.taggingLabel?-1:0,!1!==I.taggingLabel)){var Z=angular.copy(I.items);
L=angular.copy(I.items);var w=!1,fa=-1,ca;if(void 0!==I.tagging.fct){var oa=I.$filter("filter")(Z,{isTag:!0});0<oa.length&&(ca=oa[0]);0<Z.length&&ca&&(w=!0,Z=Z.slice(1,Z.length),L=L.slice(1,L.length));var T=I.tagging.fct({tag:I.search,taggingKey:I.taggingKey});if(L.some(function(ea){return angular.equals(ea,I.tagging.fct({tag:I.search,taggingKey:I.taggingKey}))})||I.selected.some(function(ea){return angular.equals(ea,T)})){l.$evalAsync(function(){I.activeIndex=0;I.items=Z});return}T.isTag=!0}else{oa=
I.$filter("filter")(Z,function(ea){return ea.match(I.taggingLabel)});0<oa.length&&(ca=oa[0]);oa=Z[0];void 0!==oa&&0<Z.length&&ca&&(w=!0,Z=Z.slice(1,Z.length),L=L.slice(1,L.length));T=I.search+" "+I.taggingLabel;if(-1<W(I.selected,I.search))return;if(P(L.concat(I.selected))){w&&(Z=L,l.$evalAsync(function(){I.activeIndex=0;I.items=Z}));return}if(P(L)){w&&(I.items=L.slice(1,L.length));return}}w&&(fa=W(I.selected,T));-1<fa?Z=Z.slice(fa+1,Z.length-1):(Z=[],Z.push(T),Z=Z.concat(L));l.$evalAsync(function(){I.activeIndex=
0;I.items=Z})}});I.searchInput.on("blur",function(){p(function(){N.activeMatchIndex=-1})})}}}]);C.directive("uiSelectSingle",["$timeout","$compile",function(z,p){return{restrict:"EA",require:["^xeUiSelect","^ngModel"],link:function(l,t,y,m){function v(I){return void 0===I||void 0===D.search?!1:0<I.filter(function(S){return void 0===D.search.toUpperCase()||void 0===S?!1:S.toUpperCase()===D.search.toUpperCase()}).length}var D=m[0],P=m[1];P.$parsers.unshift(function(I){var S={};S[D.parserResult.itemName]=
I;return D.parserResult.modelMapper(l,S)});P.$formatters.unshift(function(I){var S=D.parserResult.source(l,{$select:{search:""}}),N={},L;if(S){var Z=function(fa){N[D.parserResult.itemName]=fa;L=D.parserResult.modelMapper(l,N);return L==I};if(D.selected&&Z(D.selected))return D.selected;for(var w=S.length-1;0<=w;w--)if(Z(S[w]))return S[w]}return I});l.$watch("$select.selected",function(I){P.$viewValue!==I&&P.$setViewValue(I)});P.$render=function(){D.selected=P.$viewValue};l.$on("uis:select",function(I,
S){D.selected=S});l.$on("uis:close",function(I,S){z(function(){D.tagging.isActivated&&D.refreshItems();D.focusser.prop("disabled",!1);S||D.focusser[0].focus()},0,!1)});l.$on("uis:activate",function(){W.prop("disabled",!0)});var W=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-labelledby='select2-focusser-{{ $select.generatedId }} select2-placeholder-{{ $select.generatedId }} select2-chosen-{{ $select.generatedId }}' aria-expanded='{{($select.isDisabled(this) === false)?true:false}}' aria-haspopup='true' role='combobox'/><abbr ng-if=\"$select.allowClear && !$select.isEmpty()\" class=\"select2-search-choice-close ui-select-clear\" tabindex=\"0\" ng-click=\"$select.clear($event)\" xe-key-enter><span class=\"ui-select-offscreen\">Clear</span></abbr>");
p(W)(l);D.focusser=W;D.focusInput=W;t.parent().append(W);W.bind("focus",function(){l.$evalAsync(function(){D.focus=!0})});W.bind("blur",function(){l.$evalAsync(function(){D.focus=!1})});W.bind("keydown",function(I){if(I.which===r.BACKSPACE)I.preventDefault(),I.stopPropagation(),D.select(void 0),l.$apply();else if(I.which!==r.TAB&&!r.isControl(I)&&!r.isFunctionKey(I)&&I.which!==r.ESC){if(I.which==r.DOWN||I.which==r.UP||I.which==r.ENTER||I.which==r.SPACE)return I.preventDefault(),I.stopPropagation(),
D.activate(),!1;l.$digest()}});D.searchInput.on("keyup",function(I){if(D.tagging.isActivated&&0<D.search.length){if(!(I.which===r.TAB||r.isControl(I)||r.isFunctionKey(I)||I.which===r.ESC||r.isVerticalMovement(I.which))&&(D.activeIndex=!1===D.taggingLabel?-1:0,!1!==D.taggingLabel)){var S=angular.copy(D.items);I=angular.copy(D.items);var N,L=!1;if(void 0!==D.tagging.fct){L=D.$filter("filter")(S,{isTag:!0});0<L.length&&(N=L[0]);if(0<S.length&&N&&(L=!0,S=S.slice(1,S.length),I=I.slice(1,I.length),I.some(function(fa){return angular.equals(fa[D.taggingKey].toLowerCase(),
D.search.toLowerCase())}))){l.$evalAsync(function(){D.activeIndex=0;D.items=S});return}N=D.tagging.fct({tag:D.search,taggingKey:D.taggingKey});N.isTag=!0}else{var Z=D.parserResult.source(l,{$select:{search:""}});N=S.filter(function(fa){return 0>Z.indexOf(fa)})[0];var w=S[0];void 0!==w&&0<S.length&&N&&(L=!0,S=S.slice(1,S.length),I=I.slice(1,I.length));N=D.search+(D.taggingLabel?" "+D.taggingLabel:"");if(v(I.concat(D.selected))){L&&(S=I,l.$evalAsync(function(){D.activeIndex=0;D.items=S}));return}if(v(I)){L&&
(D.items=I.slice(1,I.length));return}}S=[];S.push(N);S=S.concat(I);l.$evalAsync(function(){D.activeIndex=0;D.items=S})}}else D.tagging.isActivated&&0===D.search.length&&angular.isArray(D.items)&&D.refreshItems()});W.bind("keyup input",function(I){I.which===r.TAB||r.isControl(I)||r.isFunctionKey(I)||I.which===r.ESC||I.which==r.ENTER||I.which===r.BACKSPACE||(D.activate(W.val()),W.val(""),l.$digest())})}}}]);C.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(z,p,l){return{require:"^xeUiSelect",
link:function(t,y,m,v){if(null===t[m.uiSelectSort])throw l("sort","Expected a list to sort");var D=angular.extend({axis:"horizontal"},t.$eval(m.uiSelectSortOptions)).axis;t.$watch(function(){return v.sortable},function(L){L?y.attr("draggable",!0):y.removeAttr("draggable")});y.on("dragstart",function(L){y.addClass("dragging");(L.dataTransfer||L.originalEvent.dataTransfer).setData("text",t.$index.toString())});y.on("dragend",function(){y.removeClass("dragging")});var P=function(L,Z){this.splice(Z,0,
this.splice(L,1)[0])},W=function(L){L.preventDefault();("vertical"===D?L.offsetY||L.layerY||(L.originalEvent?L.originalEvent.offsetY:0):L.offsetX||L.layerX||(L.originalEvent?L.originalEvent.offsetX:0))<this["vertical"===D?"offsetHeight":"offsetWidth"]/2?(y.removeClass("dropping-after"),y.addClass("dropping-before")):(y.removeClass("dropping-before"),y.addClass("dropping-after"))},I,S=function(L){L.preventDefault();var Z=parseInt((L.dataTransfer||L.originalEvent.dataTransfer).getData("text"),10);z.cancel(I);
I=z(function(){N(Z)},20)},N=function(L){var Z=t.$eval(m.uiSelectSort),w=Z[L],fa=null;fa=y.hasClass("dropping-before")?L<t.$index?t.$index-1:t.$index:L<t.$index?t.$index:t.$index+1;P.apply(Z,[L,fa]);t.$apply(function(){t.$emit("uiSelectSort:change",{array:Z,item:w,from:L,to:fa})});y.removeClass("dropping");y.removeClass("dropping-before");y.removeClass("dropping-after");y.off("drop",S)};y.on("dragenter",function(){y.hasClass("dragging")||(y.addClass("dropping"),y.on("dragover",W),y.on("drop",S))});
y.on("dragleave",function(L){L.target==y&&(y.removeClass("dropping"),y.removeClass("dropping-before"),y.removeClass("dropping-after"),y.off("dragover",W),y.off("drop",S))})}}}]);C.service("uisRepeatParser",["uiSelectMinErr","$parse",function(z,p){this.parse=function(l){var t=l.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!t)throw z("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",
l);l=t[5];var y="";if(t[3]){l=t[5].replace(/(^\()|(\)$)/g,"");var m=t[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);m&&m[1].trim()&&(y=m[1],l=l.replace(y,""))}return{itemName:t[4]||t[2],keyName:t[3],source:p(l),filters:y,trackByExp:t[6],modelMapper:p(t[1]||t[4]||t[2]),repeatExpression:function(v){v=this.itemName+" in "+(v?"$group.items":"$select.items");this.trackByExp&&(v+=" track by "+this.trackByExp);return v}}};this.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])})();
angular.module("ui.select").run(["$templateCache",function(r){r.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="list" ng-show="$select.open"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="listitem"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>');
r.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>');
r.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>');
r.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="application" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>');
r.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>');
r.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results" ><li ng-if="$select.minimumInputLength" ng-show="$select.showMinMsg" class="select2-no-results" role="listitem" ng-bind="\'uiselect.minimum.input.text\' | xei18n: $select.minimumInputLength" aria-live="polite" ></li><li ng-show="$select.showNoResultsMsg && !$select.showMinMsg" role="listitem"  class="select2-no-results "  ng-bind="\'uiselect.no.results.found.text\' | xei18n" > <li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }" role="listitem"  ><div ng-show="$select.choiceGrouped($group) && !$select.showNoResultsMsg && !$select.showMinMsg" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul ng-show="!$select.showNoResultsMsg && !$select.showMinMsg" role="list" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="listitem" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row"  ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}" ><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>');
r.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>');
r.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" ><span  id="select2-placeholder-{{ $select.generatedId }}" ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span><span id="select2-focusser-{{ $select.generatedId }}" ng-show="false">{{$select.focusserTitle}}</span><span id="select2-chosen-{{ $select.generatedId }}" ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude="">{{$select.placeholder}}</span><span class="select2-arrow ui-select-toggle"><b></b></span></a>');
r.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices" ng-click="$select.activate()"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search"  style="width: 34px;" ondrop="return false;"/></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>');
r.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div ng-class=" {\'ui-select-search-hidden\' : !$select.searchEnabled , \'select2-search\' : $select.searchEnabled , \'search-container\' : $select.searchEnabled }"><input type="text" autocomplete="off" aria-autocomplete="list" autocorrect="false" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>');
r.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="list"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="listitem" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>');
r.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>');r.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]);
(function(){angular.module("xeUISelect",["ui.select","ngSanitize"]).filter("propsFilter",function(){return function(r,x){var C=[];angular.isArray(r)?r.forEach(function(z){var p=!1;if("string"===typeof z)-1!==z.toLowerCase().indexOf(x.toLowerCase())&&(p=!0);else if("object"===typeof z)for(var l=Object.keys(x),t=0;t<l.length;t++){var y=l[t],m=x[y].toLowerCase();if(-1!==z[y].toString().toLowerCase().indexOf(m)){p=!0;break}}p&&C.push(z)}):C=r;return C}}).directive("reachInfinity",["$parse","$timeout",
"$q",function(r,x,C){function z(t){if(t)return t=t[0]||t,isNaN(t.offsetHeight)&&t.document?t.document.documentElement.clientHeight:t.offsetHeight}function p(t){if(t&&t[0]&&t[0].getBoundingClientRect&&!t.css("none")){var y=t[0].getBoundingClientRect().top;t?(t=t[0]||t,t=isNaN(window.pageYOffset)&&t.document?t.document.documentElement.scrollTop:t.ownerDocument.defaultView.pageYOffset):t=void 0;return y+t}}function l(t,y,m){var v=!1;m=m||window;var D=function(){v||(v=!0,requestAnimationFrame(function(){m.dispatchEvent(new CustomEvent(y));
v=!1}))};m.addEventListener(t,D);return function(){m.removeEventListener(t,D)}}return{link:function(t,y,m){function v(){var S=y.querySelectorAll(".ui-select-choices-row");if(0===S.length)return!1;var N=angular.element(S[S.length-1]);D=angular.element(y.querySelectorAll(".ui-select-choices-content"));var L=function(){var Z=z(D),w=0;S=y.querySelectorAll(".ui-select-choices-row");N=angular.element(S[S.length-1]);void 0!==p(D)&&(w=p(D));Z=p(N)-w+z(N)-Z;0<z(D)&&Z<=z(D)*(P+1)&&C.when(r(m.reachInfinity)(t)).then(function(){setTimeout(function(){S=
y.querySelectorAll(".ui-select-choices-row");N=angular.element(S[S.length-1])},0)})};W=l("scroll","optimizedScroll",D[0]);D.on("optimizedScroll",L);t.$on("$destroy",function(){W();D.off("optimizedScroll",L)});return!0}var D=y,P=angular.isDefined(m.scrollDistance)?parseInt(m.scrollDistance):.3,W,I=t.$watch("$select.open",function(S){S&&x(function(){v()&&I()})})}}}]).directive("xeKeyEnter",function(){return{restrict:"A",scope:!0,link:function(r,x){x.on("keydown",function(C){13===C.which&&(x.click(),
C.preventDefault(),C.stopPropagation())})}}})})();angular.module("external-resouces",["pascalprecht.translate","ngSanitize"]);
(function(){angular.module("xe-ui-components").constant("keyCodes",{A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,
F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,UNDERSCORE:189,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,RETURN:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144}).run(["$rootScope","$window","getlocale",
"Language","$translate",function(r,x,C,z,p){r.isMAC=-1!==x.navigator.userAgent.indexOf("Mac");r.isRtl=z.isRtl();p.use(C.getUserLocale())}])})();
(function(){angular.module("utils",["ngResource"]).directive("numbersOnly",function(){return{require:"ngModel",link:function(r,x,C,z){z.$parsers.push(function(p){if(void 0===p)return"";var l=p.replace(/[^0-9]/g,"");l!==p&&(z.$setViewValue(l),z.$render());return l})}}}).directive("browserDetect",function(){return{link:function(r,x){r=angular||{};var C=navigator.userAgent;r.ISFF=-1!==C.indexOf("Firefox");r.ISOPERA=-1!==C.indexOf("Opera");r.ISCHROME=-1!==C.indexOf("Chrome");r.ISSAFARI=-1!==C.indexOf("Safari")&&
!r.ISCHROME;r.ISWEBKIT=-1!==C.indexOf("WebKit");r.ISIE=0<C.indexOf("Trident")||0<navigator.userAgent.indexOf("MSIE");r.ISIE9=0<C.indexOf("MSIE 9");r.ISIE10=0<C.indexOf("MSIE 10");r.ISIE11UP=-1===C.indexOf("MSIE")&&0<C.indexOf("Trident");r.ISIE10UP=r.ISIE10||r.ISIE11UP;r.ISIE9UP=r.ISIE9||r.ISIE10UP;r.ISIE9?x.addClass("ie ie9"):r.ISCHROME?x.addClass("modern chrome"):x.addClass("modern")}}}).directive("continuousScroll",["$window",function(r){return{restrict:"A",scope:{continuousScroll:"&",scrollParent:"@"},
link:function(x,C){var z="body"===x.scrollParent?angular.element(r):""!==x.scrollParent?angular.element("#"+x.scrollParent):C;var p=_.throttle(function(l){500>=("body"===x.scrollParent?angular.element(document).height():l[0].scrollHeight)-l.scrollTop()-l.height()&&x.continuousScroll()},500);z.bind("scroll",function(){p(z)});x.$on("$destroy",function(){z.off("scroll")})}}}]).directive("xeKeypress",["keyCodes",function(r){var x=function(C,z){z=z.split(",");var p;for(p=0;p<z.length;p+=1)if(C===r[z[p]])return!0;
return!1};return{restrict:"A",link:function(C,z,p){z.bind("keypress",function(l){x(l.which||l.keyCode,p.codes)&&C.$apply(function(){C.$eval(p.xeKeypress,{$event:l})})})}}}]).factory("accessibility",["$rootScope","keyCodes","$document",function(r,x,C){function z(m,v){C.off("keydown",t).on("keydown",{table:m,parent:v},t);m.on("keydown",function(D){var P=angular.element(D.target);P.closest(".column-filter-container");var W=P.is("input.search"),I=!!P.closest(".thead").length,S=!!P.closest(".tbody").length;
m.find(".tbody tbody").is(":empty");P.closest(".tfoot");if(!P.is("[xe-keypress]")){switch(D.which){case x.ENTER:if(W){var N=m.find(".tbody tbody tr:first-child");m.find(".active-row").removeClass("active-row");m.find(".active").removeClass("active")}else if(S||I)var L=P;break;case x.SPACEBAR:if(I)L=P;else return!0;break;default:N=l(D,m.find(":not([global-key])[shortcut-key]")),y(N,v)}N&&N.length?(N.select().focus(),N.is("tr")&&N.addClass("active-row"),N=N.find("a, :input, [tabindex=0], .xe-checkbox").first().not(":hidden, .disabled, :disabled, [readonly]"),
N.length&&p(N),D.preventDefault()):L&&L.length&&(L.is("a")?(L=L.get(0),L.click()):L.select().focus().click(),D.preventDefault())}})}function p(m){m.select().focus().on("focusout",function(v){v=angular.element(v.target);v.closest("th").removeClass("focus-ring");v.closest("td").removeClass("active focus-ring");v.off("focusout")});m.closest("tr th").addClass("focus-ring");m.closest("tr td").addClass("active focus-ring")}function l(m,v){if(!angular.isUndefined(v)&&v.length){for(var D,P=0;P<v.length;P++){var W=
["ctrl","alt","shift","meta"],I=v.eq(P).attr("shortcut-key").split("+");if(1===I.length){if(x[I[0]]===m.which){D=v.eq(P);break}}else if(2===I.length&&-1!==W.indexOf(I[0].toLowerCase())){if(m[I[0].toLowerCase()+"Key"]&&x[I[1]]===m.which){D=v.eq(P);break}}else if(3===I.length&&-1!==W.indexOf(I[0].toLowerCase())&&-1!==W.indexOf(I[1].toLowerCase())&&m[I[0].toLowerCase()+"Key"]&&m[I[1].toLowerCase()+"Key"]&&x[I[2]]===m.which){D=v.eq(P);break}}return D}}var t=function(m){var v=l(m,m.data.table.find("[global-key][shortcut-key]"));
v&&v.length&&(y(v,m.data.parent),v.select().focus().click(),m.preventDefault())},y=function(m,v){v.prop("nodeName")||(v=angular.element("#content"));v.length&&m&&v.animate({scrollTop:m.offset().top-v.offset().top+v.scrollTop()})};return{provideAccessibilityForTable:function(m,v){var D=r.isMAC?"CTRL+META+Y":"ALT+Y";m.find("input.search:first").attr("shortcut-key",D).attr("global-key",!0);z(m,v)}}}]).factory("getlocale",["$translate",function(r){return{getUserLocale:function(){var x=jQuery("meta[name=userLocale]").attr("content");
x||(x=r.use());return x}}}]).factory("Language",["$translate",function(r){return{isRtl:function(){var x=jQuery("meta[name=dir]").attr("content");if(!x){x=["ar"];for(var C=r.proposedLanguage()||r.use(),z=0;z<x.length;z+=1)if(-1<C.indexOf(x[z]))return!0}else if("rtl"===x)return!0;return!1}}}]).filter("xei18n",["$filter",function(r){return function(x,C){var z="";angular.isDefined(x)&&angular.isDefined(jQuery.i18n)&&(z=jQuery.i18n.prop(x,[C]));if(!z||0<=z.indexOf(x))z=r("translate")(x,{arg1:C});return z}}])})();
(function(){angular.module("columnFilter",[]).directive("xeColumnFilter",["$document","$timeout","keyCodes",function(r,x,C){return{restrict:"E",scope:{header:"="},replace:!0,templateUrl:"templates/column-filter.html",controller:["$scope",function(z){z.selectAll={visible:!0};z.hideColumnSettingMenu=!0;z.hideUnhideColumn=function(p,l){p.options.visible?z.header.filter(function(t){return!1===t.options.visible&&!1!==t.options.columnShowHide}).length||(z.selectAll.visible=!0):z.selectAll.visible=!1};z.onSelectAll=
function(p,l){z.selectAll.visible=!0;angular.forEach(p,function(t){!1===t.options.visible&&!1!==t.options.columnShowHide&&(t.options.visible=!0)})}}],link:function(z,p,l){var t=function(){r.off("click");x(function(){p.find("button").attr("tabindex",0)},10)};p.on("close",function(y,m){0<p.find(m).length||(z.hideColumnSettingMenu=!0,t(),(angular.isUndefined(m)||angular.element(m).is(":not(:focus)"))&&p.find(".column-filter-button").focus(),z.$apply())});z.bindClickEvent=function(y){z.hideColumnSettingMenu=
!z.hideColumnSettingMenu;z.hideColumnSettingMenu?t():(p.find("button").attr("tabindex",-1),r.on("click",function(m){p.trigger("close",m.target)}),x(function(){p.find("ul.column-setting-menu li:first").find("div").focus()},10))};x(function(){p.find("ul.column-setting-menu li").bind("keydown",function(y){y.keyCode===C.ESC&&(z.hideColumnSettingMenu=!0,t(),p.find(".column-filter-button").focus(),y.preventDefault(),y.stopPropagation());if(y.keyCode===C.DOWN||y.keyCode===C.TAB){if(0<$(y.currentTarget).next().length){var m=
$(y.currentTarget).next();$(m).find("div").focus()}else p.find("ul.column-setting-menu li:first").find("div").focus();y.preventDefault();y.stopPropagation()}if(y.keyCode===C.UP||y.shiftKey&&y.keyCode===C.TAB)0<$(y.currentTarget).prev().length?(m=$(y.currentTarget).prev(),$(m).find("div").focus()):p.find("ul.column-setting-menu li:last").find("div").focus(),y.preventDefault(),y.stopPropagation()})},10)}}}])})();
angular.module("pagination",[]).directive("xePagination",["$http","$q","$filter",function(r,x,C){var z=function(l){var t=x.defer();url=l.endPoint+"?searchString="+(l.searchString?l.searchString:"")+"&sortColumnName="+(l.sortColumnName?l.sortColumnName:"")+"&ascending="+l.ascending+"&offset="+(l.offset?l.offset:"")+"&max="+(l.max?l.max:"");r.get(url).then(function(y){t.resolve(y)}).catch(function(y){t.reject(y)});return t.promise},p=function(l,t){l*=t;return{max:l,offset:0===l?0:l-t}};return{restrict:"EA",
replace:!0,require:"?^xeTableGrid",scope:{model:"=",endPoint:"=?",paginationConfig:"=?",resultsFound:"=",searchString:"=",fetch:"&?",postFetch:"&",totalValue:"=?"},templateUrl:"templates/pagination.html",controller:["$scope","$attrs","$timeout",function(l,t,y){var m=1;l.firstPrev=!1;l.nextLast=!1;l.onPage=1;angular.isUndefined(l.paginationConfig)||angular.isObject(l.paginationConfig)&&!l.paginationConfig.pageLengths?l.pageOffsets=[10,20,50,100]:l.pageOffsets=l.paginationConfig.pageLengths;angular.isObject(l.paginationConfig)&&
l.paginationConfig.offset?l.offset=l.paginationConfig.offset:l.offset=l.pageOffsets[0];0>l.pageOffsets.indexOf(l.offset)&&(l.pageOffsets.push(l.offset),l.pageOffsets.sort(function(I,S){return I-S}));l.offsetChanged=function(I){P();W(l.onPage,l.numberOfPages);I&&l.fetchData(l.onPage,l.offset)};l.first=function(){l.firstPrev||(v(1),l.fetchData(l.onPage,l.offset),W(l.onPage,l.numberOfPages),D())};l.prev=function(I){if(!l.firstPrev){var S=parseInt(l.onPage);S--;v(S);l.fetchData(l.onPage,l.offset,I);W(l.onPage,
l.numberOfPages);l.firstPrev&&D()}};l.next=function(I){if(!l.nextLast){var S=parseInt(l.onPage);S++;v(S);l.fetchData(l.onPage,l.offset,I);W(l.onPage,l.numberOfPages);l.nextLast&&D()}};l.last=function(){l.nextLast||(v(l.numberOfPages),l.fetchData(l.onPage,l.offset),W(l.onPage,l.numberOfPages),D())};l.paggeNumberChange=function(){l.onPage&&D();null!==l.onPage&&m!=l.onPage&&(angular.isUndefined(l.onPage)||0>=l.onPage||l.onPage>l.numberOfPages?l.onPage=m:(v(l.onPage),l.fetchData(l.onPage,l.offset),W(l.onPage,
l.numberOfPages)))};l.focusOut=function(I){angular.element(I.target).val(m)};l.$watch("resultsFound",function(I,S){y(function(){0===I?v(0):0===l.onPage&&v(1);P();W(l.onPage,l.numberOfPages)})});var v=function(I){m=l.onPage=I;P();W(l.onPage,l.numberOfPages)},D=function(){y(function(){angular.element("#pageInput").select().focus()},50)},P=function(){l.numberOfPages=Math.ceil(l.resultsFound/l.offset);l.numberOfPages=1>l.numberOfPages?0:l.numberOfPages;l.onPage>l.numberOfPages&&v(l.numberOfPages)},W=
function(I,S){I=parseInt(I);S=parseInt(S);var N=S/I;1===S?(l.firstPrev=!0,l.nextLast=!0):1===N?(l.nextLast=!0,l.firstPrev=!1):N===S?(l.firstPrev=!0,l.nextLast=!1):0>=I||I>S?(l.firstPrev=!0,l.nextLast=!0):(l.nextLast=!1,l.firstPrev=!1)};l.fetchData=function(I,S,N){angular.isNumber(I)||(I=parseInt(I));v(I);var L=p(I,S),Z={searchString:l.searchString,sortColumnName:l.sortColumnName,ascending:l.ascending,offset:L.offset,max:L.max,endPoint:l.endPoint,onPage:I,pageSize:S};l.loading(!0);angular.isDefined(t.fetch)?
l.fetch({query:Z}).then(function(w){l.postFetch({response:w,oldResult:l.model});l.model=N?l.model.concat(w.result):w.result;l.resultsFound=w.length;angular.isDefined(w.totals)&&0!==Object.keys(w.totals).length&&(l.totalValue=w.totals);l.loading(!1);l.addExtensionColumns(l.header,w)}).catch(function(w){w&&console.error(w);l.postFetch({response:w,oldResult:l.model});l.loading(!1)}):Z.endPoint?z(Z).then(function(w){l.postFetch({response:w,oldResult:l.model});l.model=N?l.model.concat(w.result):w.result;
l.resultsFound=w.length;angular.isDefined(w.totals)&&0!==Object.keys(w.totals).length&&(l.totalValue=w.totals);l.loading(!1);l.addExtensionColumns(l.header,w)}).catch(function(w){w&&console.error(w);l.postFetch({response:w,oldResult:l.model});l.loading(!1)}):angular.isDefined(t.fetch)||l.endPoint||!l.modelClone||(null!=Z.searchString&&""!==Z.searchString?(I=_.filter(l.modelClone,function(w){return _.values(_.omit(w,"$$hashKey")).some(function(fa){var ca=_.isString(fa)||_.isNumber(fa)?fa.toString():
_.isObject(fa)?Object.values(fa).join(" "):"";return null!=fa&&""!==ca?-1<ca.toUpperCase().indexOf(Z.searchString.toUpperCase()):!1})}),S=I.length,I=I.slice(Z.offset,Z.max)):(I=l.modelClone.slice(Z.offset,Z.max),S=l.modelClone.length),N||(l.model.length=0),[].push.apply(l.model,I),l.resultsFound=S,l.loading(!1))};l.offsetChanged(!1)}],link:function(l,t,y,m){l.loading=m.loadingDataIndicator;l.emptyTableMsg=m.emptyTableMsg;l.sortColumnName=m.sortColumnName;l.ascending=m.ascending;l.header=m.header;
l.addExtensionColumns=m.addExtensionColumns;angular.isDefined(y.fetch)||l.endPoint||(l.modelClone=angular.copy(l.model));l.emptyTableMsg||l.fetchData(1,l.offset);m.hidePaginationIfContinuousScroll&&m.hidePaginationIfContinuousScroll();m.next=function(v){l.next(v)};m.previous=function(v){l.prev(v)};m.fetchData=function(v,D){v=angular.isDefined(v)?v:l.onPage;D=angular.isDefined(D)?D:l.offset;l.fetchData(v,D)};m.refreshContent=function(v,D){l.searchString="";angular.isDefined(y.fetch)||l.endPoint||(l.modelClone=
angular.copy(l.model));m.fetchData(v,D)};m.sort=function(v,D,P){angular.isDefined(y.fetch)||l.endPoint||!l.modelClone||(l.modelClone=C("orderBy")(l.modelClone,v,!D));l.sortColumnName=v;l.ascending=D;l.fetchData(P?1:l.onPage,l.offset)}}}}]);
(function(){angular.module("search",[]).directive("xeSearch",["keyCodes","$filter",function(r,x){return{restrict:"E",scope:{value:"=",placeholder:"@",onChange:"&",onFocus:"&",onBlur:"&",onKeydown:"&",searchConfig:"=",loadingData:"="},replace:!0,templateUrl:"templates/search.html",link:function(C,z,p){var l=0,t=Infinity,y;angular.isObject(C.searchConfig)&&(angular.isDefined(C.searchConfig.minimumCharacters)&&(l=C.searchConfig.minimumCharacters),angular.isDefined(C.searchConfig.maxlength)&&(t=C.searchConfig.maxlength),
angular.isUndefined(C.searchConfig.searchString)&&(C.searchConfig.searchString=""),angular.isUndefined(C.searchConfig.id)&&(C.searchConfig.id="search"),l>=t&&console.error("Wrong searchConfig: maxlength value should be more than the minimumCharacters value inside searchConfig to enable searching."),C.ariaLabel=x("xei18n")("search.aria.label"),angular.isDefined(C.searchConfig.ariaLabel)&&(C.ariaLabel=C.ariaLabel+" "+C.searchConfig.ariaLabel));var m=_.debounce(function(v){if(!angular.isUndefined(v))C.onChange({query:v})},
C.searchConfig&&C.searchConfig.delay||0);C.$watch("searchConfig.searchString",function(v,D){angular.isDefined(v)&&(v=v.toString(),v.length>t&&(v=v.substring(0,t),C.searchConfig.searchString=v),D=angular.isDefined(D)?D.toString():"",v!==D&&(v.length>t&&(v=v.substring(0,t),C.searchConfig.searchString=v),v.length>=l?m(v):v.length<D.length&&D.length>=l&&v.length<l?m(""):""===v&&0===v.length&&1===D.length&&m("")))});C.searchKeypress=function(v,D,P){t?angular.isDefined(v)&&v.length>=t&&(P.preventDefault(),
y=v.substring(0,t),C.form[D].$setViewValue(y),C.form[D].$render()):P.preventDefault()};C.searchKeydown=function(v,D,P){P&&P.which===r.ESC?(P.preventDefault(),C.form[D].$rollbackViewValue(),C.form[D].$render(),C.value=""):P&&P.which===r.ENTER&&(C.loadingData||!C.searchConfig.searchString.length||C.searchConfig.searchString.length<l)&&(P.preventDefault(),P.stopPropagation());C.onKeydown({$event:P})}}}}])})();
(function(){angular.module("xebarmodule",[]).factory("d3",["$window","$log",function(r,x){r.d3||x.error("D3 must be present");return r.d3}]).directive("xeBarModule",["d3","Language","$filter","getlocale",function(r,x,C,z){return{restrict:"E",scope:{data:"=xebardata",ngclickfunction:"&",barChartWidth:"@xeChartWidth",barChartHeight:"@xeChartHeight",barWidth:"@xeBarWidth",gapWidth:"@xeGapWidth",xTitleValue:"@xeXaxisTitle",yTitleValue:"@xeYaxisTitle",yAxisFormat:"@xeYaxisFormat"},template:'<div><div class="xe-bar-tooltip"></div></div>',
link:function(p,l){function t(){ua=window.navigator.userAgent;msie=ua.indexOf("MSIE ");trident=ua.indexOf("Trident/");return 0<msie||0<trident?!0:!1}function y(H){return x.isRtl()?H:H.toLocaleString(z.getUserLocale().replace("_","-"))}function m(H,aa){aa*=2;H.each(function(){for(var pa=r.select(this),Ha=pa.text().split(/\s+/).reverse(),Qa,Wa=[],rb=0,sb=pa.attr("y"),ob=parseFloat(pa.attr("dy")),fb=pa.text("").append("tspan").attr("x",0).attr("y",sb).attr("dy",ob+"em");Qa=Ha.pop();)Wa.push(Qa),fb.text(Wa.join(" ")),
(0<fb.node().getComputedTextLength()?fb.node().getComputedTextLength():5*fb.text().length)>aa&&(1<Wa.length?(Wa.pop(),fb.text(Wa.join(" ")),Wa=[Qa],fb=pa.append("tspan").attr("x",0).attr("y",sb).attr("dy",1.1*++rb+ob+"em").text(Qa)):(Wa=[],fb=pa.append("tspan").attr("x",0).attr("y",sb).attr("dy",1.1*++rb+ob+"em").text("")))})}function v(){p.dataKeys=[];angular.forEach(p.data[0],function(H,aa){p.dataKeys.push(aa)});1==p.dataKeys.length?(Sa=!0,p.dataKeys=[],angular.forEach(p.data,function(H,aa){angular.forEach(H,
function(pa,Ha){p.dataKeys.push(Ha)})}),p.displayGroupsKey=p.dataKeys[0],p.displayValuesKey=p.dataKeys[1],eb=p.data[0][p.displayGroupsKey],Ma=p.data[1][p.displayValuesKey],$a=eb.length,x.isRtl()&&(eb=eb.reverse()),p.dataKeys=[],angular.forEach(eb[0],function(H,aa){p.dataKeys.push(aa)}),angular.forEach(Ma[0],function(H,aa){p.dataKeys.push(aa)}),p.subLabelKey=p.dataKeys[0],p.colorKey=p.dataKeys[1],p.labelKey=p.dataKeys[2],p.valueKey=p.dataKeys[3],p.ariaLabelKey=p.dataKeys[4]):(p.labelKey=p.dataKeys[0],
p.valueKey=p.dataKeys[1],p.colorKey=p.dataKeys[2],p.ariaLabelKey=p.dataKeys[4],Ma=p.data)}function D(){Ma.length>Va&&S.call(T);N.domain(Ma.map(function(H){return H[p.labelKey]}));x.isRtl()?N.rangeRoundBands([db,(ja+V)*(Va-Ma.length)],Ea):N.rangeRoundBands([0,(ja+V)*Ma.length],Ea);Sa?L.domain([0,r.max(Ma,function(H){return r.max(H[p.valueKey])})]).nice().range([Xa,0]):L.domain([0,r.max(Ma,function(H){return H[p.valueKey]})]).nice().range([Xa,0]);L.domain([0,r.max(L.ticks())+L.ticks()[1]]);S.on("keydown",
function(){switch(r.event.keyCode){case 37:T.translate([T.translate()[0]+(ja+V),T.translate()[1]]).event(S);break;case 39:T.translate([T.translate()[0]-(ja+V),T.translate()[1]]).event(S)}});x.isRtl()?(fa.call(I).attr("transform","translate("+db+" ,0)"),fa.selectAll("text").style("text-anchor","end")):fa.call(I);w.attr("transform","translate(0,"+Xa+")").call(W).selectAll(".tick text").call(m,N.rangeBand());ca.selectAll(".bar").remove();oa=ca.selectAll(".bar").data(Ma).enter().append("g");oa.attr("class",
"bar").attr("transform",function(H){return"translate("+N(H[p.labelKey])+",0)"});oa.selectAll("rect").data(function(H){return Sa?x.isRtl()?H[p.valueKey].reverse():H[p.valueKey]:[H]}).enter().append("rect").attr("width",function(H){return Sa?ja/$a:ja}).attr("x",function(H){return Sa?(bb==$a&&(bb=0),bb++*ja/$a):0}).attr("y",function(H){return Sa?isNaN(L(H))?0:L(H):isNaN(L(H[p.valueKey]))?0:L(H[p.valueKey])}).attr("height",function(H){return Sa?isNaN(L(H))?0:Xa-L(H):isNaN(L(H[p.valueKey]))?0:Xa-L(H[p.valueKey])}).style("fill",
function(H){if(Sa)return bb==$a&&(bb=0),void 0==eb[bb][p.colorKey]||""==eb[bb][p.colorKey]?Ua(bb++):eb[bb++][p.colorKey];kb++;return void 0==H[p.colorKey]||""==H[p.colorKey]?Ua(kb%Ua.range().length):H[p.colorKey]}).attr("tabindex",function(H){return Sa&&0==H||!Sa&&0==H[p.valueKey]?-1:0}).attr("focusable",function(H){return Sa&&0==H||!Sa&&0==H[p.valueKey]?"false":"true"}).attr("aria-label",function(H){return Sa?(bb==$a&&(bb=0),y(H)+" "+(p.ariaLabelKey?eb[bb++][p.ariaLabelKey]:eb[bb++][p.subLabelKey])):
y(H[p.valueKey])+" "+(H[p.ariaLabelKey]?H[p.ariaLabelKey]:H[p.labelKey])}).on("mousemove",function(H){za[0].style.left=r.event.layerX+10+"px";za[0].style.top=r.event.layerY-25+"px";za[0].style.display="block";Sa?(H=r.event.currentTarget.attributes["aria-label"].value,za[0].innerHTML=H.substring(0,H.lastIndexOf(" "))+"<br>"+H.substring(H.lastIndexOf(" ")+1)):za[0].innerHTML=H[p.labelKey]+" <br> "+y(H[p.valueKey])}).on("mouseout",function(H){za[0].style.display="none"}).on("focusin",function(){r.event.target.classList.add("xe-rect-on")}).on("focusout",
function(){r.event.target.classList.remove("xe-rect-on")});oa.on("click",function(H){p.ngclickfunction({barData:H})});oa.on("keydown",function(H){13==r.event.keyCode&&p.ngclickfunction({barData:H})});oa.selectAll("text").data(function(H){return Sa?x.isRtl()?H[p.valueKey].reverse():H[p.valueKey]:[H]}).enter().append("text").attr("class","xe-bar-label").attr("text-anchor","middle").attr("x",function(H){return Sa?(bb==$a&&(bb=0),x.isRtl()?($a-bb++)*ja/$a-ja/(2*$a):bb++*ja/$a+ja/(2*$a)):ja/2}).attr("y",
function(H){return Sa?isNaN(L(H))?0:L(H)-3:isNaN(L(H[p.valueKey]))?0:L(H[p.valueKey])-3}).text(function(H){return Sa?y(H):y(H[p.valueKey])})}function P(){if(null!=p.data&&0!=p.data.length){l[0].style="";ja=void 0==p.barWidth?44:+p.barWidth;V=void 0==p.gapWidth?55:+p.gapWidth;qa=void 0==p.barChartWidth?400:+p.barChartWidth;xa=void 0==p.barChartHeight?450:+p.barChartHeight;ha=void 0==p.xTitleValue?"":p.xTitleValue;Ca=void 0==p.yTitleValue?"":p.yTitleValue;na=void 0==p.yAxisFormat?"d":p.yAxisFormat;
db=+qa-Oa.right-Oa.left;Xa=+xa-Oa.top-Oa.bottom;Va=db/(ja+V);Ea=V/(ja+V);v();za=l[0].getElementsByClassName("xe-bar-tooltip");N=r.scale.ordinal();L=r.scale.linear();W=r.svg.axis().scale(N).orient("bottom").innerTickSize(0).outerTickSize(0);T=r.behavior.zoom().on("zoom",p.zoom);r.select(l[0]).selectAll("svg").remove();S=r.select(l[0]).classed("svg-container",!0).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 "+Oa.top+" "+qa+" "+xa).classed("svg-content-responsive",!0);
t()&&S.attr("width",db).attr("height",Xa);Ma.length>Va&&S.append("text").attr("text-anchor","middle").attr("class","xe-bar-title").attr("tabindex","0").attr("focusable","true").attr("transform","translate("+qa/2+","+1.5*Oa.top+")").attr("aria-label",C("xei18n")("barchart.viewmore.help.label")).text(C("xei18n")("barchart.viewmore.help.label"));""!=Ca&&(ea=S.append("text").attr("text-anchor","middle").attr("class","xe-bar-title").attr("tabindex","0").attr("focusable","true").attr("aria-label",Ca).text(Ca),
x.isRtl()?ea.attr("transform","translate("+(qa-Oa.right/4)+","+xa/2+")rotate(-90)"):ea.attr("transform","translate("+Oa.left/3+","+xa/2+")rotate(-90)"));""!=ha&&S.append("text").attr("text-anchor","middle").attr("class","xe-bar-title").attr("tabindex","0").attr("focusable","true").attr("transform","translate("+qa/2+","+(xa+Oa.bottom/3)+")").attr("aria-label",ha).text(ha);Z=S.append("g").attr("transform","translate("+Oa.left+","+Oa.bottom+")");I=r.svg.axis().scale(L).orient(x.isRtl()?"right":"left").innerTickSize(-db).tickFormat(r.format(na));
fa=Z.append("g").attr("class","y xe-bar-axis");var H=Z.append("g").attr("clip-path","url(#chartAreaClip"+p.$id+")");H.append("clipPath").attr("id","chartAreaClip"+p.$id).append("rect").attr({width:db,height:Xa+Oa.bottom});w=H.append("g").attr("class","x xe-bar-axis");ca=H.append("g").attr("class","allBars");D()}else l[0].style="display:none"}var W,I,S,N,L,Z,w,fa,ca,oa,T,ea,qa,xa,ja,V,ha,Ca,na,za,Ea,Va,db,Xa,Ma,Oa={top:20,right:50,bottom:50,left:40},Ua=r.scale.ordinal().range("#9191E1 #90C9FF #6DD6BC #BBE19B #F4DB76 #FFB581 #D389C6 #B2B3B7 #DD5C5F".split(" ")),
kb=-1,Sa=!1,$a=0,bb=0,eb;l.addClass("xe-bar-chart");t()&&(Object.getOwnPropertyDescriptor(Element.prototype,"classList")||HTMLElement&&Object.getOwnPropertyDescriptor(HTMLElement.prototype,"classList")&&Object.defineProperty(Element.prototype,"classList",Object.getOwnPropertyDescriptor(HTMLElement.prototype,"classList")));p.$watch("data",function(H,aa,pa){H!=aa&&P()},!0);p.zoom=function(){1==r.event.scale&&(S.select(".allBars").attr("transform","translate("+r.event.translate[0]+",0)"),S.select(".x.xe-bar-axis").attr("transform",
"translate("+r.event.translate[0]+","+Xa+")").call(W).selectAll(".tick text").call(m,N.rangeBand()))};P()}}}])})();
(function(){var r=!1,x;angular.module("dataTableModule",["utils"]).constant("mobileMaxWidth",768).factory("xeFocusUtility",function(){function C(){return"a:not(:disabled):not(:hidden), button:not(:disabled):not(:hidden), input:not(:disabled):not(:hidden), select:not(:disabled):not(:hidden)"}function z(p,l){var t;if(document.activeElement){var y=Array.prototype.filter.call(angular.element(C()+', [tabindex]:not(:disabled):not(:hidden):not([tabindex="-1"]):not(.tbody)'),function(m){return 0<m.offsetWidth||
0<m.offsetHeight||m===document.activeElement});l=y.indexOf(l||document.activeElement);-1<l&&(t=y[p?l+1:l-1]||y[0])}return t}return{focusableElements:function(){return C()},getNextTabbableElement:function(p){return z(!0,p)},getPreviousTabbableElement:function(p){return z(!1,p)},clearFocusRing:function(p){var l=p.closest(".table-container").find("th.focus-ring");l.length&&l.removeClass("focus-ring");p=p.closest(".table-container").find("td.focus-ring");p.length&&p.removeClass("focus-ring");return!0}}}).directive("xeTableGrid",
["$timeout","accessibility","$window","mobileMaxWidth",function(C,z,p,l){return{restrict:"E",transclude:!0,replace:!0,scope:{tableId:"@",caption:"@?",header:"=",endPoint:"=?",fetch:"&",postFetch:"&",content:"=",resultsFound:"=?",toolbar:"=",paginate:"=?",continuousScrolling:"=?",continuousScrollParent:"@?",onRowClick:"&",onRowDoubleClick:"&",noDataMsg:"@?",emptyTableMsg:"=?",searchConfig:"=",paginationConfig:"=",draggableColumnNames:"=?",mobileLayout:"=?",height:"@?",refreshContent:"=?refreshGrid",
xeSection:"@?",totalRow:"@?"},controller:["$scope","$filter","$attrs","$http","$sce","$timeout",function(t,y,m,v,D,P){function W(V){var ha;if("undefined"!==typeof xe&&xe.extensionsFound)switch(V){case "captionBar":(ha=t.xeSection+"CaptionBar")&&(V=_.find(xe.extensions.sections,function(Ca){return Ca.name==ha}))&&I(V);break;case "header":if(ha=t.xeSection)if(V=_.find(xe.extensions.sections,function(Ca){return Ca.name==ha}))t.header=S(V,t.header),t.header=N(V,t.header)}}function I(V){V.exclude?t.noCaptionBar=
!0:_.each(V.fields,function(ha){ha.exclude&&(t["no"+ha.name]=!0)})}function S(V,ha){var Ca,na;_.each(V.fields,function(za){na=_.findWhere(ha,{name:za.name});if(angular.isDefined(na)&&(Ca=za.exclude?{visible:!za.exclude,columnShowHide:!za.exclude}:{},_.extend(_.findWhere(ha,{name:za.name}).options,Ca),!za.exclude)){var Ea=na;za.attributes&&za.attributes.label&&angular.isString(za.attributes.label)&&(Ea.title=za.attributes.label);za.attributes&&za.attributes.label&&angular.isObject(za.attributes.label)&&
za.attributes.label.key&&(Ea.title=xe.i18n(za.attributes.label.key))}});return ha}function N(V,ha){_.each(V.fields,function(Ca){if(_.has(Ca,"nextSibling")){var na=_.indexOf(_.pluck(ha,"name"),Ca.name),za=_.indexOf(_.pluck(ha,"name"),Ca.nextSibling);_.isNull(Ca.nextSibling)&&0<=na?(na=_.last(ha).name,ha=L(ha,Ca.name,na)):0<=na&&0<=za&&(ha=L(ha,Ca.name,na<za&&ha[za-1]?ha[za-1].name:ha[za].name))}});return ha}function L(V,ha,Ca){ha=_.indexOf(_.pluck(V,"name"),ha);Ca=_.indexOf(_.pluck(V,"name"),Ca);if(0<=
ha&&0<=Ca){var na=V[ha];V.splice(ha,1);V.splice(Ca,0,na);_.each(V,function(za,Ea){za.position[xa]=Ea+1})}return V}function Z(V,ha){return-1!==V.indexOf(ha,V.length-ha.length)}function w(V,ha,Ca){return V=Z(V,"%")?Math.floor(ha*V.substr(0,V.indexOf("%"))/100):Z(V,"em")?Math.floor(Ca*V.substr(0,V.indexOf("em"))):Z(V,"px")?Math.floor(V.substr(0,V.indexOf("px"))):0}function fa(){m.fetch||t.emptyTableMsg?t.pagination||t.emptyTableMsg||(T.loadingDataIndicator(!0),t.fetch({query:{searchString:t.searchConfig.searchString,
sortColumnName:T.sortColumnName,ascending:T.ascending}}).then(function(V){t.postFetch({response:V,oldResult:t.content});t.content=V.result;angular.isDefined(t.content)&&angular.isDefined(t.content.totals)&&0!==Object.keys(t.content.totals).length&&(t.totalValue=t.content.totals);T.loadingDataIndicator(!1)}).catch(function(V){console.error(V);t.postFetch({response:V,oldResult:t.content});T.loadingDataIndicator(!1)})):(t.fetch=function(V){ea||(ea=t.content);t.content=ca(oa(ea,V.query.searchString,!1),
T.sortColumnName,T.ascending);t.resultsFound=t.content.length;angular.isDefined(t.content)&&angular.isDefined(t.content.totals)&&0!==Object.keys(t.content.totals).length&&(t.totalValue=t.content.totals);T.loadingDataIndicator(!1);T.addExtensionColumns(t.header,V)},!t.pagination&&!m.endPoint||t.pagination||(T.loadingDataIndicator(!0),v.get(t.endPoint+"?searchString="+t.searchConfig.searchString+"&sortColumnName="+(T.sortColumnName||"")+"&ascending="+(T.ascending||"")).then(function(V){t.postFetch({response:V,
oldResult:t.content});t.content=V.result;t.resultsFound=t.content.length;angular.isDefined(t.content)&&angular.isDefined(t.content.totals)&&0!==Object.keys(t.content.totals).length&&(t.totalValue=t.content.totals);T.loadingDataIndicator(!1);T.addExtensionColumns(t.header,V)}).catch(function(V){console.error(V);t.postFetch({response:V,oldResult:t.content});T.loadingDataIndicator(!1);T.addExtensionColumns(t.header,V)})))}var ca=y("orderBy"),oa=y("filter"),T=this,ea,qa;t.hideColumnSettingMenu=!0;t.transcludes=
{};t.headingTranscludes={};t.hideContainer=!1;t.sortArray=[];t.pagination=t.paginate;t.showPagination=!0;t.totalValue={};t.isMobileView=p.innerWidth<=l;if(t.tableId){t.pagination||(t.pagination=t.continuousScrolling);t.toolbar||t.caption||(t.noCaptionBar=!0);if(p.innerWidth>l){t.header=y("orderBy")(t.header,"position.desktop",!1);var xa="desktop"}else t.header=y("orderBy")(t.header,"position.mobile",!1),xa="mobile";W("captionBar");W("header");angular.isObject(t.searchConfig)&&angular.isUndefined(t.searchConfig.searchString)&&
(t.searchConfig.searchString="");this.emptyTableMsg=t.emptyTableMsg;this.header=t.header;this.loadingDataIndicator=function(V){t.loadingData=V;t.$emit("xeGridContentFetchInProgress",V)};this.hidePaginationIfContinuousScroll=function(){t.showPagination=!t.continuousScrolling};t.onSort=function(V){T.sortColumnName=V.heading.name;T.ascending=qa===T.sortColumnName?!T.ascending:!1;t.pagination?V.heading.options.sortable&&T.sort(T.sortColumnName,T.ascending,!(!t.pagination||t.showPagination&&!angular.element("#"+
t.tableId).find(".pagination-container").is(":hidden"))):V.heading.options.sortable&&(angular.isDefined(m.fetch)?(T.loadingDataIndicator(!0),t.fetch({query:{searchString:t.searchConfig.searchString,sortColumnName:T.sortColumnName,ascending:T.ascending}}).then(function(ha){t.postFetch({response:ha,oldResult:t.content});t.content=ha.result;T.loadingDataIndicator(!1)}).catch(function(ha){console.error(ha);t.postFetch({response:ha,oldResult:t.content});T.loadingDataIndicator(!1)})):t.content=ca(t.content,
T.sortColumnName,!T.ascending))};t.handleDrop=function(V,ha){t.header=L(t.header,V,ha)};this.addExtensionColumns=function(V,ha){ha&&0<ha.length&&ha.result&&ha.result[0].extensions&&(_.find(V,function(Ca){return-1<Ca.name.indexOf("extension.")})||angular.forEach(ha.result[0].extensions,function(Ca){var na;if("undefined"!==typeof xe&&xe.extensionsFound){var za=_.find(xe.extensions.sections,function(Va){return Va.name==t.xeSection});if(za)var Ea=_.find(za.fields,function(Va){return Va.name=="extension."+
Ca.name});Ea&&(na=Ea.exclude||"undefined"===typeof Ea.exclude?!1:!0)}na&&(na=_.max(V,function(Va){return Va.position.desktop}).position.desktop+1,za=_.max(V,function(Va){return Va.position.mobile}).position.mobile+1,V.push({position:{desktop:na,mobile:za},name:"extension."+Ca.name,title:Ca.prompt,options:{visible:!0,sortable:!1},width:"10%"}))}),t.populateHeaderWidths(angular.element("#"+t.tableId)),ha=_.reduce(_.pluck(V,"dynamicWidth"),function(Ca,na){return Ca+na},0),angular.element("#"+t.tableId).find(".thead, .tbody").width(ha));
return V};var ja={visible:!0,sortable:!1};angular.forEach(t.header,function(V,ha){angular.isUndefined(V.width)&&(V.width="");t.$watch(function(){return t.header[ha].options.visible},function(Ca,na){Ca!==na&&P(function(){t.populateHeaderWidths(angular.element("#"+t.tableId))},0)});angular.isDefined(V.options)?(angular.isDefined(V.options.ascending)?(t.sortArray[V.name]={ascending:V.options.ascending,decending:!V.options.ascending},qa=V.name,T.ascending=V.options.ascending,T.sortColumnName=V.name):
t.sortArray[V.name]={ascending:!1,decending:!1},angular.isDefined(V.options.visible)||(V.options.visible=!0),angular.isDefined(V.options.sortable)||(V.options.sortable=!1)):V.options=ja});t.populateHeaderWidths=function(V){V.find(".thead, .tbody").width("");var ha=0,Ca=0,na=V.find(".tbody thead").width(),za=parseFloat(V.find(".tbody thead").css("font-size"))||16,Ea=na,Va=0,db=V.find(".hr-scrollable-content")[0]?V.find(".hr-scrollable-content")[0].scrollWidth:0;(V.find(".tbody")[0]?V.find(".tbody").width():
0)<db&&V.find(".thead, .tbody").width(db-1);angular.forEach(t.header,function(Oa){var Ua=Oa.width;p.innerWidth<l?(Oa.dynamicWidth="",Ea=0):Oa.options.visible?((Ua=w(Ua,na,za))?(Oa.dynamicWidth=Ua,Ea-=Oa.dynamicWidth):Ca++,Z(Oa.width,"%")&&ha++):(Ua=w(Ua,na,za))&&(Va+=Ua)});if(Ca||Va){var Xa=Math.floor(Ea/Ca),Ma=Math.floor(Va/ha);angular.forEach(t.header,function(Oa){Oa.options.visible&&(Xa&&""===Oa.width.trim()?Oa.dynamicWidth=Xa:Z(Oa.width,"%")&&(Oa.dynamicWidth+=Ma))})}};fa();t.fetchSpecial=function(V){t.pagination?
T.fetchData(1):(V=t.fetch({query:{searchString:V,sortColumnName:T.sortColumnName,ascending:T.ascending}}),T.loadingDataIndicator(!0),T.addExtensionColumns(t.header,data),V&&V.then(function(ha){t.postFetch({response:ha,oldResult:t.content});t.content=ha.result;angular.isDefined(t.content)&&angular.isDefined(t.content.totals)&&0!==Object.keys(t.content.totals).length&&(t.totalValue=t.content.totals);T.loadingDataIndicator(!1)}).catch(function(ha){console.error(ha);t.postFetch({response:ha,oldResult:t.content});
T.loadingDataIndicator(!1)}))};this.registerTransclude=function(V){t.transcludes[V.id]=V};this.registerHeadingTransclude=function(V){t.headingTranscludes[V.id]=V};t.onSearchfocus=function(V){t.hideContainer=!t.hideContainer};t.onSearchBlur=function(V){t.hideContainer=!t.hideContainer;angular.element(V.target).val(t.searchConfig.searchString)};t.sortOnHeading=function(V,ha){if(V.options.sortable)if(V=V.name,qa==V)t.sortArray[V]={ascending:!t.sortArray[V].ascending,decending:!t.sortArray[V].decending};
else{qa=V;for(var Ca in t.sortArray)t.sortArray[Ca]=Ca==V?{ascending:!1,decending:!0}:{ascending:!1,decending:!1}}};document.doctype&&-1<navigator.appVersion.indexOf("MSIE 9")&&document.addEventListener("selectstart",function(V){for(var ha=V.target;ha;ha=ha.parentNode)if(ha.attributes&&ha.attributes.draggable)return V.preventDefault(),V.stopImmediatePropagation(),ha.dragDrop(),!1});t.getObjectValue=function(V,ha){var Ca;"object"===typeof V&&"string"===typeof ha&&(Ca=V[ha]);return Ca};t.getTotalValue=
function(V){if(angular.isDefined(V.totalLabel)&&p.innerWidth>l)return V.totalLabel;if("object"===typeof t.totalValue&&null!==t.totalValue)return angular.isDefined(t.totalValue["total"+V.name])?t.totalValue["total"+V.name]:""};t.isExtendedField=function(V,ha){if(-1<ha.indexOf("extension."))return t.extensionValue=t.getObjectValueForExtendedField(V,ha),t.isEditable=t.isEditableField(ha),t.isEditable&&(t.dataType=t.getDataType(V,ha)),!0};t.isEditableField=function(V){var ha;if("undefined"!==typeof xe&&
xe.extensionsFound){var Ca=_.find(xe.extensions.sections,function(na){return na.name==t.xeSection});Ca&&Ca.fields.forEach(function(na,za){na.name!==V||na.exclude||na.editable&&(ha=!0)})}return ha};t.getDataType=function(V,ha){var Ca;"undefined"!==typeof xe&&xe.extensionsFound&&V.extensions.forEach(function(na){"extension."+na.name===ha&&(Ca=na.datatype)});return Ca};t.getObjectValueForExtendedField=function(V,ha){var Ca,na=ha.split(".");(V=V.extensions)&&V.forEach(function(za){za.name===na[1]&&(Ca=
za.value,"undefined"!==typeof xe&&xe.extensionsFound&&(za=_.find(xe.extensions.sections,function(Ea){return Ea.name==t.xeSection}))&&_.find(za.fields,function(Ea){return Ea.name==ha}))});return Ca};t.refreshContent=function(V){V&&(t.pagination?T.refreshContent&&T.refreshContent(1):fa(),t.populateHeaderWidths(angular.element("#"+t.tableId)))}}else console.error("Provide a unique id for table")}],templateUrl:function(t,y){return"templates/dataTable.html"},compile:function(t,y){t.css("opacity",0);"true"===
y.paginate||"true"===y.continuousScrolling?(t=t.find("xe-pagination"),angular.isDefined(y.fetch)&&t.attr("fetch","fetch({query: query})"),angular.isDefined(y.postFetch)&&t.attr("post-fetch","postFetch({response: response, oldResult: oldResult})"),angular.isDefined(y.paginationConfig)&&t.attr("pagination-config","paginationConfig"),y.endPoint&&t.attr("end-point","endPoint"),t.attr("total-value","totalValue")):t.find("xe-pagination").remove();return function(m,v,D,P){"false"!==y.paginate&&"true"!==
y.continuousScrolling||v.find(".tfoot").remove();C(function(){v.css("opacity",1);angular.forEach(m.header,function(W){W.options.sortable||W.ariaLabel||v.find("> .hr-scrollable-content > .thead > .data-table > thead > tr > th[data-name="+W.name+"]").removeAttr("aria-describedby")});m.populateHeaderWidths(v);z.provideAccessibilityForTable(v,angular.element("#"+m.continuousScrollParent));m.nextPage=function(){m.loadingData||(m.continuousScrolling?m.pagination&&!m.showPagination&&P.next&&P.next(!0):m.pagination&&
v.find(".pagination-container").is(":hidden")&&P.next&&P.next(!0))}})}}}}]).directive("xeCellInjector",[function(){return{require:"^xeTableGrid",restrict:"A",replace:!0,scope:!0,link:function(C,z,p,l,t){l=p.name;z.attr("tabindex",0);if(l=C.transcludes[l])angular.isUndefined(C.row[p.name])?(p=l.scope.$new(),l.transclude(p,function(y,m){m.row=C.row;z.append(y)})):l.transclude(C,function(y,m){z.html(y)})}}}]).directive("xeRowInjector",[function(){var C;return{restrict:"A",replace:!0,require:"^xeTableGrid",
scope:!0,link:function(z,p,l,t,y){p.on("click",function(m){C&&C.removeClass("active-row");p.addClass("active-row");C=p})}}}]).directive("xeHeadingInjector",[function(){return{restrict:"A",replace:!0,require:"^xeTableGrid",scope:!0,link:function(C,z,p,l,t){if(C=C.headingTranscludes[p.name])p=C.scope.$new(),C.transclude(p,function(y,m){z.find(".data").length?z.find(".data").append(y):z.append(y)})}}}]).directive("xeCellMarkup",[function(){return{restrict:"EA",transclude:"element",replace:!0,scope:!0,
require:"^xeTableGrid",link:function(C,z,p,l,t){p.columnName&&l.registerTransclude?(C={id:p.columnName,transclude:t,element:z,scope:C},l.registerTransclude(C)):p.headingName&&l.registerHeadingTransclude&&(C={id:p.headingName,transclude:t,element:z,scope:C},l.registerHeadingTransclude(C))}}}]).directive("attainMobileLayout",function(){var C={1:"single-column",2:"two-columns",3:"all-columns"};return{restrict:"A",scope:!0,link:function(z,p,l){p.addClass(C[parseInt(l.attainMobileLayout)])}}}).directive("dragDrop",
function(){return{link:function(C,z,p){function l(m){m.preventDefault&&m.preventDefault();m.stopPropagation&&m.stopPropagation()}var t=null,y=z.index();-1!==C.draggableColumnNames.indexOf(C.header[y].name)&&(z.attr("draggable",!0),z.bind("dragover",function(m){l(m);m=m||window.event;var v=m.originalEvent.pageX,D=m.originalEvent.pageY-170;angular.element("#dragtable").show();angular.element("#dragtable").css({left:v,top:D});m.originalEvent.dataTransfer.dropEffect="move";m.preventDefault&&m.preventDefault();
return!1}),z.bind("drop",function(m){angular.element("#dragtable").hide();l(m);var v=m.originalEvent.dataTransfer.getData("text"),D=angular.element(m.target).closest("th").data("name"),P=p.dragDrop;C.$apply(function(){C[P](v,D)})}),z.bind("dragstart",function(m){angular.element(m.target).addClass("dragged");y=angular.element(m.target).closest("th").index()+1;z.closest(".table-container").find("td:nth-child("+y+")").addClass("dragged");var v=angular.element(m.target).data("name");m.originalEvent.dataTransfer.setData("text",
v)}),z.bind("dragend",function(m){angular.element(m.target).removeClass("dragged");y=angular.element(m.target).closest("th").index()+1;z.closest(".table-container").find("td:nth-child("+y+")").removeClass("dragged");angular.element(".drag-enter").removeClass("drag-enter");angular.element("#dragtable").hide()}),z.bind("dragenter",function(m){angular.element(m.target).closest("th").addClass("drag-enter");y=angular.element(m.target).closest("th").index()+1;z.closest(".table-container").find("td:nth-child("+
y+")").addClass("drag-enter");t=m.target;m.preventDefault()}),z.bind("dragleave",function(m){t==m.target&&(angular.element(m.target).closest("th").removeClass("drag-enter"),y=angular.element(m.target).closest("th").index()+1,z.closest(".table-container").find("td:nth-child("+y+")").removeClass("drag-enter"))}))}}}).directive("resize",["$timeout","$window","$filter","Language","mobileMaxWidth",function(C,z,p,l,t){return function(y,m,v){function D(){if(m[0].scrollHeight>m[0].clientHeight&&m[0].clientWidth!==
m[0].offsetWidth){var W=m.width()-m[0].scrollWidth+"px";y.headerPadding=l.isRtl()?{"padding-left":W}:{"padding-right":W}}else y.headerPadding={}}C(function(){y.$watch(function(){return m.closest(".table-container").width()},function(W,I){W!==I&&(z.innerWidth>t?(y.header=p("orderBy")(y.header,"position.desktop",!1),y.populateHeaderWidths(m.closest(".table-container")),D()):y.header=p("orderBy")(y.header,"position.mobile",!1))});y.$watch(function(){return m[0].scrollHeight},function(W,I){z.innerWidth>
t&&D()})});v=angular.element(z);var P=_.debounce(function(){y.$apply()},500);v.bind("resize",P)}}]).directive("xeFocus",["xeFocusUtility",function(C){return{restrict:"A",link:function(z,p){p.bind("keydown",function(l){var t=l.keyCode||l.which,y=$(p).parents(".table-container").last(),m="true"===y.attr("paginate"),v="true"===y.attr("toolbar")&&!!y.find(".toolbar .search-container input:visible").length,D=y.attr("total-row"),P=!y.hasClass("no-data");if(!r){if("undefined"!==l.target.id&&l.target.classList.contains("search")){switch(t){case 9:if(l.shiftKey)C.clearFocusRing(p);
else if(C.clearFocusRing(p),P)return P=$(p).closest(".table-container").find(".tbody tbody tr:first"),D=$(p).closest(".table-container").find(".tbody tbody tr:first td:first"),y.find("tr.active-row").removeClass("active-row"),$(P).addClass("active-row"),$(D).addClass("focus-ring"),$(D).focus(),l.preventDefault(),!1}return!0}switch(t){case 37:return $(this).is("td")&&$(this).closest("td").is(":first-child")?$(p).addClass("focus-ring"):$(this).is("th")&&$(this).closest("th").is(":first-child")?$(p).addClass("focus-ring"):
($(p).hasClass("focus-ring")&&$(p).removeClass("focus-ring"),$(p).prev().focus(),$(p).prev().addClass("focus-ring")),l.preventDefault(),!1;case 39:return $(this).is("td")&&$(this).closest("td").is(":last-child")?$(p).addClass("focus-ring"):$(this).is("th")&&$(this).closest("th").is(":last-child")?$(p).addClass("focus-ring"):($(p).hasClass("focus-ring")&&$(p).removeClass("focus-ring"),$(p).next().focus(),$(p).next().addClass("focus-ring")),l.preventDefault(),!1;case 13:l=$(p).find(C.focusableElements());
void 0!=l[0]&&"select2-choice"==l[0].classList[0]&&l.parent().find("input")[1].focus();if(0<l.length)return r=!0,y.find("tr.active-row").removeClass("active-row"),$(p).parent().addClass("active-row"),$(p).addClass("focus-ring"),$(l[0]).focus(),!1;break;case 27:return r=!1,$(p).hasClass("focus-ring")&&$(p).removeClass("focus-ring"),$(p).is(":input")||$(p).is("a")?($(p).parent().focus(),$(p).parent().addClass("focus-ring")):($(p).focus(),$(p).addClass("focus-ring")),l.preventDefault(),!1;case 9:if(l.shiftKey){if(P=
y.find('> .hr-scrollable-content > .thead:visible tr th[tabindex="0"]:first-child')[0],$(l.target).is("th")||$(l.target).is("td"))if(x=null,v)C.clearFocusRing(p),y.find("tr.active-row").removeClass("active-row"),y.find(".toolbar .search-container input:visible").select().focus();else var W=C.getPreviousTabbableElement(P)}else if(m)P=$(p).closest(".table-container").children().find("div.pagination-controls"),P=$(P).find("input, button , select").not(":disabled"),W=$(P[0]),x=l.currentTarget;else if($(l.target).is("th")||
$(l.target).is("td"))x=null,D=D?y.find('> .hr-scrollable-content > .trDesktop > table > thead > tr:last > th[tabindex="0"]').last():y.find('> .hr-scrollable-content > .tbody > table > tbody > tr[xe-row-injector]:last > td[xe-cell-injector][tabindex="0"], > .hr-scrollable-content > .tbody > table > tfoot > tr:last > td[tabindex="0"]').last(),W=D.find('[tabindex="0"]:last'),D=W.length?W[0]:D[0],$(l.target).is("th")&&(W=y.find('.thead:visible tr th[tabindex="0"]:last-child')[0],D=D||W),W=C.getNextTabbableElement(D),
D=angular.element(W).closest(".expand-view td"),D.length&&(W=D.find('> .hr-scrollable-content > .tbody > table > tbody > tr[xe-row-injector]:last > td[xe-cell-injector][tabindex="0"], > .hr-scrollable-content > .tbody > table > tfoot > tr:last > td[tabindex="0"]').last(),v=W.find('[tabindex="0"]:last'),(W=v.length?v[0]:W[0])||P||(W=D.find(".tbody[tabindex]")[0]),W=C.getNextTabbableElement(W));W&&(C.clearFocusRing(p),y.find("tr.active-row").removeClass("active-row"),W.focus());l.preventDefault();return!1;
case 33:return C.clearFocusRing(p),l=$(p).index(),P=$(p).closest(".table-container").find(".tbody tbody > tr, .tbody tfoot > tr").first(),l=$(P).children()[l],$(l).focus(),$(l).addClass("focus-ring"),!1;case 34:return C.clearFocusRing(p),D?(l=$(p).index(),y=$(p).closest(".table-container").find(".trDesktop thead tr"),l=$(y).children()[l]):(l=$(p).index(),y=$(p).closest(".table-container").find(".tbody tbody > tr, .tbody tfoot > tr").last(),l=$(y).children()[l]),$(l).focus(),$(l).addClass("focus-ring"),
!1;case 36:return C.clearFocusRing(p),l=$(p).parent().find("td:first"),0===l.length&&(l=$(p).parent().find("th:first")),$(l).focus(),$(l).addClass("focus-ring"),!1;case 35:return C.clearFocusRing(p),l=$(p).parent().find("td:last"),0===l.length&&(l=$(p).parent().find("th:last")),$(l).focus(),$(l).addClass("focus-ring"),!1;case 40:return void 0===l.target.attributes.role||"columnheader"!==l.target.attributes.role.nodeValue?(W=$(p).parent().find("td"),$(W).hasClass("focus-ring")&&$(W).removeClass("focus-ring"),
0<W.length&&(P=$(p).index(),W=$($(p).parent().nextAll("tr:visible").get().concat($(p).closest(".tbody tbody").next().find("tr:visible").get())[0]),0<W.length?(y.find("tr.active-row").removeClass("active-row"),$(W).addClass("active-row"),y=$(W).find("> td"),$(y[P]).is(":input")||p.is("a")?($(y[P]).parent().focus(),$(y[P]).parent().addClass("focus-ring")):($(y[P]).focus(),$(y[P]).addClass("focus-ring"))):D?(C.clearFocusRing(p),y.find("tr.active-row").removeClass("active-row"),$(p).removeClass("focus-ring"),
P=$(p).index(),y=$(p).closest(".table-container").find(".trDesktop thead tr:first"),D=$(y).find("th"),$(y).addClass("active-row"),$(D[P]).focus(),$(D[P]).addClass("focus-ring"),x=l.currentTarget):$(p).addClass("focus-ring")),l.preventDefault()):(W=$(p).parent().find("th"),C.clearFocusRing(p),0<W.length&&P?(y.find("tr.active-row").removeClass("active-row"),P=$(p).index(),l=$(p).closest(".table-container").find("tbody").find("tr:first td")[P],$(l).parent().addClass("active-row"),y=$(l).parent().find("td"),
$(y[P]).addClass("focus-ring"),$(l).focus()):P||y.find(".tbody[tabindex]").focus()),!1;case 38:if(0<p.closest("tr").index()||0<p.closest(".tbody tfoot").index())return y.find("tr.active-row").removeClass("active-row"),W=$(p).parent().find("td"),$(W).hasClass("focus-ring")&&$(W).removeClass("focus-ring"),0<W.length&&(P=$(p).index(),y=$($(p).parent().prevAll("tr:visible").get().concat($(p).closest(".tbody tfoot").prev().find("tr:visible").get().reverse())[0]),D=$(y).find("> td"),$(D[P]).is(":input")||
$(p).is("a")?($(D[P]).parent().focus(),$(D[P]).parent().addClass("focus-ring")):($(D[P]).focus(),$(D[P]).addClass("focus-ring")),$(y).addClass("active-row"),$(y[P]).removeClass("focus-ring")),l.preventDefault(),!1;if(0===$(p).closest("tr").index())return P=0===$(p).closest(".tbody").length&&0===$(p).closest(".thead").length,D&&P?($("td.focus-ring").removeClass("focus-ring"),y=$(p).closest("th").index(),-1!==y&&($("th.focus-ring").removeClass("focus-ring"),P=$(p).closest(".table-container").find("tbody"),
$(P[0]).find("tr:last").find("td")[y].focus(),y=$(P[0]).find("tr:last").find("td")[y],$(y).addClass("focus-ring"))):(y.find("tr.active-row").removeClass("active-row"),$("td.focus-ring").removeClass("focus-ring"),y=$(p).is("td")?$(p).closest("td").index():-1,-1!==y&&(P=$(p).closest(".table-container").find("thead"),$(P[0]).find("tr").find("th")[y].focus(),y=$(P[0]).find("tr").find("th")[y],$(y).addClass("focus-ring"))),l.preventDefault(),!1}}else if(r)switch(t){case 13:l=$(p).find(C.focusableElements());
if(0<l.length)return r=!0,$(p).addClass("focus-ring"),$(l[0]).focus(),!1;break;case 27:return r=!1,$(p).hasClass("focus-ring")&&$(p).removeClass("focus-ring"),$(p).is(":input")||$(p).is("a")?($(p).parent.focus(),$(p).parent().addClass("focus-ring")):($(p).focus(),$(p).addClass("focus-ring")),l.preventDefault(),!1;case 9:return l.shiftKey?(y=$(p).parent().find(C.focusableElements()),l=l.target,P=$.inArray(l,y),0<P?($(p).hasClass("focus-ring")&&$(p).removeClass("focus-ring"),D=y[P-1],P--,l=$(D).closest("td"),
$(l).addClass("focus-ring"),void 0!=$(D)[0]&&"select2-choice"==$(D)[0].classList[0]?$(y[P-1]).focus():D.focus()):(l=p.parent().prev(),0<l.length&&(p.hasClass("focus-ring")&&p.removeClass("focus-ring"),y=l.find(C.focusableElements()),0<y.length&&(D=y[y.length-1],l=$(D).closest("td"),$(l).addClass("focus-ring"),$(D).focus())))):(y=$(p).parent().find(C.focusableElements()),l=l.target,P=$.inArray(l,y),P<y.length-1?($(p).hasClass("focus-ring")&&$(p).removeClass("focus-ring"),D=y[P+1],l=$(D).closest("td"),
$(l).addClass("focus-ring"),void 0!=$(D)[0]&&"select2-choice"==$(D)[0].classList[0]?$(D).parent().find("input")[1].focus():$(D).focus()):(l=$(p).parent().next(),0<l.length?($(p).hasClass("focus-ring")&&$(p).removeClass("focus-ring"),y=l.find(C.focusableElements()),0<y.length&&(D=y[0],l=$(D).closest("td"),$(l).addClass("focus-ring"),$(D).focus())):($(p).hasClass("focus-ring")&&$(p).removeClass("focus-ring"),l=$(p).parent().prevAll(),0<l.length&&(l=$(l[l.length-1]).find(":input, a"),0<l.length&&$(l[0]).focus(),
l=$(l[0]).closest("td"),$(l).addClass("focus-ring"))))),!1;case 40:return!1;case 38:return!1}})}}}]).directive("xeFocusNoDataMsg",["$timeout","xeFocusUtility",function(C,z){return{restrict:"A",link:function(p,l){C(function(){var t=l.parents(".table-container").last(),y=!t.hasClass("no-data");y||l.bind("keydown",function(m){var v=m.keyCode||m.which,D="true"===t.attr("toolbar")&&!!t.find(".toolbar .search-container input:visible").length;if(9===v){if(m.shiftKey)return D?t.find(".toolbar .search-container input:visible").select().focus():
((v=t.find('> .hr-scrollable-content > .thead:visible tr th[tabindex="0"]:first-child')[0])||(v=z.getPreviousTabbableElement(l[0])),v.focus()),m.preventDefault(),!1}else 38!==v||y||(m=t.find('> .hr-scrollable-content > .thead:visible tr th[tabindex="0"]:first-child')[0],m.focus(),$(m).addClass("focus-ring"))})})}}}]).directive("xeClickGrid",["xeFocusUtility",function(C){return{restrict:"A",link:function(z,p){p.bind("click",function(l){C.clearFocusRing(p);$("tr.active-row").removeClass("active-row");
r=!1;$(p).addClass("focus-ring");$(p).parent().addClass("active-row")})}}}]).directive("xeGridPaginationControl",["xeFocusUtility",function(C){return{restrict:"A",link:function(z,p){p.bind("keydown",function(l){C.clearFocusRing(p);var t=l.keyCode||l.which,y=p.parents(".table-container").last(),m=!y.hasClass("no-data"),v=$(p).closest(".table-container").children().find("div.pagination-controls");v=$(v).find("input, button , select").not(":disabled");if(0===$.inArray(l.target,v))if(l.shiftKey)switch(t){case 9:return m?
$(x).is(":visible")&&$(p).parent(".table-container").find(x)?($(x).focus(),$(x).is("td")&&($(x).parent().addClass("active-row"),$(x).addClass("focus-ring"))):(y=$(p).parent(".table-container"),t=$(y).find("tbody tr:first"),y=$(y).find("tbody tr:first td:first"),$(t).addClass("active-row"),$(y).focus(),$(y).addClass("focus-ring")):(t=y.find('> .hr-scrollable-content > .thead:visible tr th[tabindex="0"]:first-child')[0],t.focus(),$(t).addClass("focus-ring")),l.preventDefault(),!1;case 40:return!0;case 38:return!0}else return!0})}}}])})();
(function(){angular.module("aboutModal",[]).provider("aboutService",function(){this.method="GET";this.backendUrl="";this.setMethod=function(r){r&&(this.method=r)};this.setBackendUrl=function(r){r&&(this.backendUrl=r)};this.$get=["$http","$templateCache",function(r,x){var C=this;return{aboutInfo:function(){return r({method:C.method,url:C.backendUrl,cache:x})}}}]}).directive("xeAboutModal",["aboutService",function(r){return{restrict:"EA",scope:{show:"=",api:"=",focusbackelement:"@"},replace:!0,transclude:!0,
templateUrl:"templates/dialog_default.html",controller:["$scope",function(x){x.hide=function(){x.show=!1;x.focusBackElement&&angular.element("#"+x.focusBackElement).focus()};x.focusBackElement=x.focusbackelement;r.aboutInfo().then(function(C){x.status=C.status;x.about=C.data;x.hidePlatformVersion=!1;void 0===x.about["about.banner.platform.version"]&&(x.hidePlatformVersion=!0)},function(C){500===C.status?r.aboutInfo().then(function(z){x.status=z.status;x.about=z.data},function(z){x.about=z.data||"Request failed";
x.status=z.status}):(x.about=C.data||"Request failed",x.status=C.status)})}],link:function(x,C){C.on("keydown",function(z){if(27===z.keyCode||"xe-modal-close"===document.activeElement.className&&13===z.keyCode)x.show=!1,x.$apply(),x.focusBackElement&&angular.element("#"+x.focusBackElement).focus();z.shiftKey||9!==z.keyCode||("xeModalPrivacyLink"===document.activeElement.id?(z.preventDefault(),angular.element("#xeModalClose").focus()):"xe-modal-close"===document.activeElement.className&&(z.preventDefault(),
angular.element("#xeModalPrivacyLink").focus()));z.shiftKey&&9===z.keyCode&&("xeModalPrivacyLink"===document.activeElement.id?(z.preventDefault(),angular.element("#xeModalClose").focus()):"xe-modal-close"===document.activeElement.className&&(z.preventDefault(),angular.element("#xeModalPrivacyLink").focus()))})}}}])})();
(function(){angular.module("pieChartModule",[]).factory("d3",["$window","$log",function(r,x){r.d3||x.error("D3 must be present");return r.d3}]).directive("xePieChart",["d3","$window","$log","$timeout","Language",function(r,x,C,z,p){function l(y,m,v,D,P,W,I){function S(va,sa){var Ba=sa[0],Da=sa[1],Ra=sa[2];var ya=m.select("thead.xe-pie-table-head");var ka=m.select("tbody.xe-pie-table-body");ya.append("tr").selectAll("th").data(sa).enter().append("th").text(function(ta){return ta});ka.selectAll("tr").data(va).enter().append("tr").selectAll("td").data(function(ta){return sa.map(function(ra){ta[Ba]=
ta.label;ta[Da]=ta.value;p.isRtl()||(ta[Ra]=eb||ta[Da]?(Math.round(1E3*ta[Da]/eb)/10).toFixed(2)+"%":"0.00%");p.isRtl()&&(ta[Ra]=eb||ta[Da]?"%"+(Math.round(1E3*ta[Da]/eb)/10).toFixed(2):"%0.00");return{column:ra,value:ta[ra]}})}).enter().append("td").html(function(ta){return ta.value});return m}function N(){Ua=window.navigator.userAgent;kb=Ua.indexOf("MSIE ");Sa=Ua.indexOf("Trident/");return 0<kb||0<Sa?!0:!1}function L(va){P.valueforclick=va;y&&"0"!==r.select(this).style("opacity")&&(y.select(".xe-pie-tooltip-label").html(va.data.label),
y.select(".xe-pie-tooltip-value").html(va.data.value),y.select(".xe-pie-tooltip-percent").html(va.data.percentage),y.style("display","block"))}function Z(va){y&&y.style("display","none")}function w(va){if(y){var sa=angular.element(I).find(".xe-pie-tooltip")[0];va=sa.clientWidth;sa=sa.clientHeight;p.isRtl()&&N()?y.style("top",r.event.layerY-sa-10+"px").style("left",(r.event.layerX-va+10)/2+"px"):y.style("top",r.event.layerY-sa-10+"px").style("left",r.event.layerX-va/2+"px")}}function fa(va){return va.data.label}
function ca(va){return va.startAngle+(va.endAngle-va.startAngle)/2}function oa(va){va.each(function(){for(var sa=r.select(this),Ba=0,Da=10,Ra=sa.text(),ya=Ra.substring(Ba,Da),ka=sa.attr("y"),ta=parseFloat(va.attr("dy")),ra=sa.text(null).append("tspan").attr("x",0).attr("y",ka).attr("dy",ta+"em");ya;)0===Ba?ra.text(ya.trim()):ra=sa.append("tspan").attr("x",0).attr("y",ka).attr("dy",ta+"em").text(ya.trim()),Ba+=10,Da+=10,ya=Ra.substring(Ba,Da)})}function T(){var va=!1;if(Ma&&(Ma.each(function(Ba){var Da=
this,Ra=this.getBoundingClientRect();Ma.each(function(ya){if(this!==Da){var ka=this.getBoundingClientRect();if(2*Math.abs(Ra.left-ka.left)<Ra.width+ka.width&&2*Math.abs(Ra.top-ka.top)<Ra.height+ka.height){ka=.01*(Math.max(0,Ra.bottom-ka.top)+Math.min(0,Ra.top-ka.bottom));var ta=r.transform(r.select(this).attr("transform"));var ra=r.transform(r.select(Da).attr("transform"));va=!0;ra.translate=[.65*D*(ca(Ba)<Math.PI?1:-1),ra.translate[1]+ka];ta.translate=[.65*D*(ca(ya)<Math.PI?1:-1),ta.translate[1]-
ka];r.select(this).attr("transform","translate("+ta.translate+")");r.select(Da).attr("transform","translate("+ra.translate+")")}}})}),va)){var sa=Ma[0];Oa&&Oa.attr("points",function(Ba,Da){Da=r.select(sa[Da]);var Ra=r.transform(Da.attr("transform"));Da=Ra.translate[0];Ra=Ra.translate[1];return[sb.centroid(Ba),ob.centroid(Ba),Da,Ra]});z(T)}}function ea(va,sa){r.event.preventDefault();r.event.stopPropagation();if(6===sa&&7<ha.length){if(za.style("opacity",function(Ba,Da){return 6===Da?1:.1}),Ea.style("display",
"none").attr("aria-hidden",!0),Va.style("display","none").attr("aria-hidden",!0),db||Xa||Ma||Oa)db.style("display","block").attr("aria-hidden",!1),Xa.style("display","block").attr("aria-hidden",!1),Ma.style("display","block").attr("aria-hidden",!1),Oa.style("display","block").attr("aria-hidden",!1),Ma.selectAll(".xe-pie-light-text").call(oa),T()}else{if(db||Xa||Ma||Oa)db.style("display","none").attr("aria-hidden",!0),Xa.style("display","none").attr("aria-hidden",!0),Ma.style("display","none").attr("aria-hidden",
!0),Oa.style("display","none").attr("aria-hidden",!0);za.style("opacity",1);Ea.style("display","block").attr("aria-hidden",!1);Va.style("display","block").attr("aria-hidden",!1)}}function qa(){r.select(this).classed("xe-pie-touch",!r.select(this).classed("xe-pie-touch"))}function xa(){var va=!1;if(Ea&&(Ea.selectAll("text").each(function(Ba){var Da=this,Ra=this.getBoundingClientRect();Ea.selectAll("text").each(function(ya,ka){if(this!==Da&&(ka=this.getBoundingClientRect(),2*Math.abs(Ra.left-ka.left)<
Ra.width+ka.width&&2*Math.abs(Ra.top-ka.top)<Ra.height+ka.height)){ka=.01*(Math.max(0,Ra.bottom-ka.top)+Math.min(0,Ra.top-ka.bottom));var ta=r.transform(r.select(this).attr("transform"));var ra=r.transform(r.select(Da).attr("transform"));va=!0;ra.translate=[.55*D*(ca(Ba)<Math.PI?1:-1),ra.translate[1]+ka];ta.translate=[.55*D*(ca(ya)<Math.PI?1:-1),ta.translate[1]-ka];r.select(this).attr("transform","translate("+ta.translate+")");r.select(Da).attr("transform","translate("+ra.translate+")")}})}),va)){var sa=
Ea[0];Va&&Va.attr("points",function(Ba,Da){Da=r.select(sa[Da]).select("text");var Ra=r.transform(Da.attr("transform"));Da=Ra.translate[0];Ra=Ra.translate[1];return[Qa.centroid(Ba),Wa.centroid(Ba),Da,Ra]});z(xa)}}function ja(va){za=v.select(".xe-pie-slices").selectAll("path.xe-pie-slice").data(aa(va),fa);za.enter().insert("path").style("fill",function(sa,Ba){6===Ba&&(Ca=sa.startAngle,na=sa.endAngle);return fb(Ba)}).attr("class","xe-pie-slice").on("click",ea).on("touchstart",ea).on("mouseover",L).on("touchstart",
L).on("touchstart",qa).on("mouseout",Z).on("touchend",Z).on("touchend",qa).on("mousemove",w).on("touchmove",w);za.transition().duration(1E3).attrTween("d",function(sa){this.d3current=this.d3current||sa;var Ba=r.interpolate(this.d3current,sa);this.d3current=Ba(0);return function(Da){return Ha(Ba(Da))}});za.exit().remove();Ea=v.select(".xe-pie-labels").selectAll("text").data(aa(va),fa);Ea.enter().append("a").attr({"xlink:href":function(sa,Ba){if(sa.data.label===W.pie.otherLabel)return"#other-group-"+
t},tabindex:function(sa,Ba){if(sa.data.label===W.pie.otherLabel)return 0},"aria-controls":function(sa,Ba){if(sa.data.label===W.pie.otherLabel)return"other-group-"+t},"aria-label":function(sa,Ba){if(sa.data.label===W.pie.otherLabel)return W.pie.group.otherAriaLabel}}).on("click",ea).on("touchstart",ea).append("text").attr({"class":function(sa,Ba){return sa.data.label===W.pie.otherLabel?"xe-pie-large-text xe-pie-other-text":"xe-pie-large-text"}}).on("click",ea).on("touchstart",ea).on("mouseover",L).on("touchstart",
L).on("mouseout",Z).on("touchend",Z).on("mousemove",w).on("touchmove",w);Ea.selectAll("text").append("tspan").attr("x","0").attr("dy",function(sa){return(sa.startAngle+sa.endAngle)/2>Math.PI/2&&(sa.startAngle+sa.endAngle)/2<1.5*Math.PI?"1em":"-1em"}).attr("class","xe-pie-bold-text").text(function(sa){return sa.data.percentage});Ea.on("click",function(sa){});Ea.selectAll("text").append("tspan").attr("x","0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(sa){return sa.data.label});
Ea.selectAll("text").transition().duration(1E3).attrTween("transform",function(sa){this.d3current=this.d3current||sa;var Ba=r.interpolate(this.d3current,sa);this.d3current=Ba(0);return function(Da){Da=Ba(Da);return"translate("+Wa.centroid(Da)+")"}}).attrTween("text-anchor",function(sa){this.d3current=this.d3current||sa;var Ba=r.interpolate(this.d3current,sa);this.d3current=Ba(0);return function(Da){Da=Ba(Da);if(!p.isRtl())return ca(Da)<Math.PI?"start":"end";var Ra;(Ra=N())||($a=Ua.indexOf("Edge/"),
Ra=0<$a?!0:!1);return Ra?ca(Da)<Math.PI?"start":"end":ca(Da)<Math.PI?"end":"start"}});Ea.exit().remove();Ea.selectAll(".xe-pie-light-text").call(oa);Va=v.select(".xe-pie-lines").selectAll("polyline").data(aa(va),fa);Va.enter().append("polyline").style("stroke",function(sa,Ba){return fb(Ba)});Va.transition().duration(1E3).attrTween("points",function(sa){this.d3current=this.d3current||sa;var Ba=r.interpolate(this.d3current,sa);this.d3current=Ba(0);return function(Da){Da=Ba(Da);var Ra=Wa.centroid(Da);
return[Qa.centroid(Da),Wa.centroid(Da),Ra]}});Va.exit().remove();xa()}function V(va){db=v.select(".xe-pie-bg-sub-slice").append("a").attr({"xlink:href":function(sa,Ba){return"#main-group-"+t},tabindex:function(sa,Ba){return 0},"aria-controls":function(sa,Ba){return"main-group-"+t},"aria-label":W.pie.group.mainAriaLabel}).on("click",ea).on("touchstart",ea).append("path").attr("aria-hidden",!0).style("display","none").datum({startAngle:0,endAngle:2*Math.PI}).style("fill","#e3e3e3").attr("d",rb).on("click",
ea).on("touchstart",ea);Xa=v.select(".xe-pie-sub-slices").selectAll("path.xe-pie-sub-slice").data(pa(va),fa);Xa.enter().insert("path").attr("aria-hidden",!0).style("display","none").style("fill",function(sa,Ba){return Gb(Ba)}).attr("class","xe-pie-sub-slice").on("mouseover",L).on("touchstart",L).on("mouseout",Z).on("touchend",Z).on("mousemove",w).on("touchmove",w);Xa.transition().duration(1E3).attrTween("d",function(sa){this.d3current=this.d3current||sa;var Ba=r.interpolate(this.d3current,sa);this.d3current=
Ba(0);return function(Da){return rb(Ba(Da))}});Xa.exit().remove();Ma=v.select(".xe-pie-sub-labels").selectAll("text").data(pa(va),fa);Ma.enter().append("text").attr("class",function(sa,Ba){return 7<va.length?"xe-pie-small-text":"xe-pie-large-text"}).attr("aria-hidden",!0).style("display","none").on("mouseover",L).on("touchstart",L).on("mouseout",Z).on("touchend",Z).on("mousemove",w).on("touchmove",w);Ma.append("tspan").attr("x","0").attr("dy",".35em").attr("class","xe-pie-bold-text").text(function(sa){return sa.data.percentage});
Ma.append("tspan").attr("x","0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(sa){return sa.data.label});Ma.transition().duration(1E3).attrTween("transform",function(sa){this.d3current=this.d3current||sa;var Ba=r.interpolate(this.d3current,sa);this.d3current=Ba(0);return function(Da){Da=Ba(Da);var Ra=ob.centroid(Da);Ra[0]=.65*D*(ca(Da)<Math.PI?1:-1);return"translate("+Ra+")"}}).attrTween("text-anchor",function(sa){this.d3current=this.d3current||sa;var Ba=r.interpolate(this.d3current,
sa);this.d3current=Ba(0);return function(Da){Da=Ba(Da);return p.isRtl()?ca(Da)<Math.PI?"end":"start":ca(Da)<Math.PI?"start":"end"}});Ma.exit().remove();Oa=v.select(".xe-pie-sub-lines").selectAll("polyline").data(pa(va),fa);Oa.enter().append("polyline").attr("aria-hidden",!0).style("display","none").style("stroke",function(sa,Ba){return Gb(Ba)});Oa.transition().duration(1E3).attrTween("points",function(sa){this.d3current=this.d3current||sa;var Ba=r.interpolate(this.d3current,sa);this.d3current=Ba(0);
return function(Da){Da=Ba(Da);var Ra=ob.centroid(Da);Ra[0]=.6*D*(ca(Da)<Math.PI?1:-1);return[sb.centroid(Da),ob.centroid(Da),Ra]}});Oa.exit().remove()}var ha=[],Ca,na,za,Ea,Va,db,Xa,Ma,Oa,Ua,kb,Sa,$a;m&&(m.select("thead").remove(),m.select("tbody").remove(),m.append("thead").attr("class","xe-pie-table-head"),m.append("tbody").attr("class","xe-pie-table-body"));v.selectAll("g").remove();v.append("text").attr("text-anchor","middle").attr("font-size","4em").attr("y",20).text(110);v.append("g").attr({role:"presentation",
"class":"xe-pie-slices"});v.append("g").attr({role:"listitem","class":"xe-pie-labels",id:"main-group-"+t,"aria-live":"polite","aria-relevant":"additions removals"});v.append("g").attr({role:"presentation","class":"xe-pie-lines"});7<P.data.length&&(v.append("g").attr({role:"presentation","class":"xe-pie-bg-sub-slice"}),v.append("g").attr({role:"presentation","class":"xe-pie-sub-slices"}),v.append("g").attr({role:"listitem","class":"xe-pie-sub-labels",id:"other-group-"+t,"aria-live":"polite","aria-relevant":"additions removals"}),
v.append("g").attr({role:"presentation","class":"xe-pie-sub-lines"}));var bb=0;Number.isFinite=Number.isFinite||function(va){return"number"===typeof va&&isFinite(va)};ha=angular.copy(P.data);angular.forEach(ha,function(va,sa){va.value=Number.isFinite(va.value)?Math.abs(va.value):0});ha.sort(function(va,sa){return r.descending(va.value,sa.value)});var eb=r.sum(ha,function(va){return va.value});m&&S(ha,[W.table.label,W.table.value,W.table.percentage]);angular.forEach(ha,function(va,sa){6>sa||8>ha.length?
va.origin="main":(va.origin="sub",bb+=+va.value)});7<ha.length&&ha.splice(7,0,{label:W.pie.otherLabel,value:bb,origin:"main"});ha.forEach(function(va){p.isRtl()||(va.percentage=eb||va.value?(Math.round(1E3*va.value/eb)/10).toFixed(2)+"%":"0.00%");p.isRtl()&&(va.percentage=eb||va.value?"%"+(Math.round(1E3*va.value/eb)/10).toFixed(2):"%0.00")});var H=r.nest().key(function(va){return va.origin}).entries(ha);var aa=r.layout.pie().sort(function(va,sa){return p.isRtl()?p.isRtl()?r.ascending(va.value,sa.value):
r.descending(va.value,sa.value):r.descending(va.value,sa.value)}).value(function(va){return va.value});var pa=r.layout.pie().value(function(va){return va.value}).startAngle(function(va){return Ca}).endAngle(function(va){return na});var Ha=r.svg.arc().innerRadius(.25*D).outerRadius(.5*D);var Qa=r.svg.arc().innerRadius(.5*D).outerRadius(.5*D);var Wa=r.svg.arc().innerRadius(.5*D).outerRadius(.6*D);var rb=r.svg.arc().innerRadius(.5*D).outerRadius(.6*D);var sb=r.svg.arc().innerRadius(.6*D).outerRadius(.6*
D);var ob=r.svg.arc().innerRadius(.6*D).outerRadius(.7*D);var fb=r.scale.ordinal().range("#783084 #810c33 #8073ce #c28041 #008241 #f39fba #6bafa6".split(" "));var Gb=r.scale.ordinal().range("#eef6f5 #ddedeb #bcdbd7 #9ac9c3 #67aea5 #56a59b #4d948b #45847d #3c746d #33635d #2b524d #23423e #1a312e #11201f #07100f".split(" "));7<ha.length?(ja(H[0].values),V(H[1].values)):ja(H[0].values);$(".xe-pie-slice").click(function(va){P.ngclickfunction({names:P.valueforclick})})}var t=0;return{restrict:"E",scope:{data:"=xePieData",
config:"=xePieConfig",ngclickfunction:"&"},link:function(y,m,v){t+=1;m.addClass("xe-pie-chart");var D=m[0].clientWidth,P=angular.merge({},{tooltip:!1,hiddenTable:!1,svg:{title:"",desc:""},pie:{otherLabel:"Other"},table:{ariaLabel:"",label:"label",value:"value",percentage:"percentage"}},y.config),W;P.hiddenTable&&(W=r.select(m[0]).append("table").attr({"aria-label":P.table.ariaLabel,"class":"xe-pie-table-hidden"}));var I=D-10;var S=I+I/2;var N=Math.min(I,S)/2;var L=r.select(m[0]).append("svg").attr({xmlns:"http://www.w3.org/2000/svg",
"xmlns:xlink":"http://www.w3.org/1999/xlink",version:1.1,width:I+"px",height:S+"px",viewBox:"0 0 "+Math.min(I,S)+" "+Math.min(I,S),preserveAspectRatio:"xMinYMid meet",role:"group","aria-labelledby":"title"+t+" desc"+t});L.append("title").attr("id","title"+t).text(P.svg.title);L.append("desc").attr("id","desc"+t).text(P.svg.desc);var Z=L.append("g").attr({role:"list","aria-label":P.pie.ariaLabel,"class":"xe-pie-svg",transform:"translate("+N+", "+N+")"});if(P.tooltip){var w=r.select(m[0]).append("div").attr("class",
"xe-pie-tooltip");w.append("p").attr("class","xe-pie-tooltip-label");w.append("p").attr("class","xe-pie-tooltip-value");w.append("p").attr("class","xe-pie-tooltip-percent xe-pie-bold-text")}window.onresize=function(){return y.$apply()};y.$watch(function(){return angular.element(window)[0].innerWidth},function(){D=m[0].clientWidth;I=D-10;S=I+I/2;N=Math.min(I,S)/2;L.attr({width:I+"px",height:S+"px",viewBox:"0 0 "+Math.min(I,S)+" "+Math.min(I,S)});Z.attr({transform:"translate("+N+", "+N+")"});l(w,W,
Z,N,y,P,m)});y.$watch("data",function(fa,ca,oa){fa&&l(w,W,Z,N,oa,P,m)},!0)}}}])})();
(function(){angular.module("pieChartModule",[]).factory("d3",["$window","$log",function(r,x){r.d3||x.error("D3 must be present");return r.d3}]).directive("xePieChart",["d3","$window","$log","$timeout","Language","$filter","getlocale",function(r,x,C,z,p,l,t){function y(D){return p.isRtl()?D:(+D).toLocaleString(t.getUserLocale().replace("_","-"))}function m(D,P,W,I,S,N,L){function Z(ya,ka){var ta=ka[0],ra=ka[1],Pa=ka[2];var wb=P.select("thead.xe-pie-table-head");var ab=P.select("tbody.xe-pie-table-body");
wb.append("tr").selectAll("th").data(ka).enter().append("th").text(function(nb){return nb});ab.selectAll("tr").data(ya).enter().append("tr").selectAll("td").data(function(nb){return ka.map(function(Cb){nb[ta]=nb.label;nb[ra]=nb.value;nb[Pa]=Wa||nb[ra]?(Math.round(1E3*nb[ra]/Wa)/10).toFixed(2):"0.00";return{column:Cb,value:nb[Cb]}})}).enter().append("td").html(function(nb){return nb.value});return P}function w(){bb=window.navigator.userAgent;eb=bb.indexOf("MSIE ");H=bb.indexOf("Trident/");return 0<
eb||0<H?!0:!1}function fa(ya){D&&"0"!==r.select(this).style("opacity")&&(D.select(".xe-pie-tooltip-label").html(ya.data.label),D.select(".xe-pie-tooltip-value").html(y(ya.data.value)),p.isRtl()?D.select(".xe-pie-tooltip-percent").html(l("xei18n")("default.percent")+y(ya.data.percentage)):D.select(".xe-pie-tooltip-percent").html(y(ya.data.percentage)+l("xei18n")("default.percent")),D.style("display","block"))}function ca(ya){D&&D.style("display","none")}function oa(ya){if(D){var ka=angular.element(L).find(".xe-pie-tooltip")[0];
ya=ka.clientWidth;ka=ka.clientHeight;p.isRtl()&&w()?D.style("top",r.event.layerY-ka-10+"px").style("left",(r.event.layerX-ya+10)/2+"px"):D.style("top",r.event.layerY-ka-10+"px").style("left",r.event.layerX-ya/2+"px")}}function T(ya){return ya.data.label}function ea(ya){return ya.startAngle+(ya.endAngle-ya.startAngle)/2}function qa(ya){ya.each(function(){var ka=r.select(this),ta=ka.text().split(/\s+/).reverse(),ra,Pa=[];ka.attr("y");for(var wb=parseFloat(ka.attr("dy")),ab=ka.text("").append("tspan").attr("x",
0).attr("dy",wb+"em");ra=ta.pop();)Pa.push(ra),ab.text(Pa.join(" ")),45<(0<ab.node().getComputedTextLength()?ab.node().getComputedTextLength():5*ab.text().length)&&(1<Pa.length?(Pa.pop(),ab.text(Pa.join(" ")),Pa=[ra],ab=ka.append("tspan").attr("x",0).attr("dy",wb+"em").text(ra)):(Pa=[],ab=ka.append("tspan").attr("x",0).attr("dy",wb+"em").text("")))})}function xa(){var ya=!1;if(Sa&&(Sa.each(function(ta){var ra=this,Pa=this.getBoundingClientRect();Sa.each(function(wb){if(this!==ra){var ab=this.getBoundingClientRect();
if(2*Math.abs(Pa.left-ab.left)<Pa.width+ab.width&&2*Math.abs(Pa.top-ab.top)<Pa.height+ab.height){ab=.01*(Math.max(0,Pa.bottom-ab.top)+Math.min(0,Pa.top-ab.bottom));var nb=r.transform(r.select(this).attr("transform"));var Cb=r.transform(r.select(ra).attr("transform"));ya=!0;Cb.translate=[.65*I*(ea(ta)<Math.PI?1:-1),Cb.translate[1]+ab];nb.translate=[.65*I*(ea(wb)<Math.PI?1:-1),nb.translate[1]-ab];r.select(this).attr("transform","translate("+nb.translate+")");r.select(ra).attr("transform","translate("+
Cb.translate+")")}}})}),ya)){var ka=Sa[0];$a&&$a.attr("points",function(ta,ra){ra=r.select(ka[ra]);var Pa=r.transform(ra.attr("transform"));ra=Pa.translate[0];Pa=Pa.translate[1];return[sa.centroid(ta),Ba.centroid(ta),ra,Pa]});z(xa)}}function ja(ya,ka){r.event.preventDefault();r.event.stopPropagation();if(6===ka&&7<Ea.length){if(Xa.style("opacity",function(ta,ra){return 6===ra?1:.1}),Ma.style("display","none").attr("aria-hidden",!0),Oa.style("display","none").attr("aria-hidden",!0),Ua||kb||Sa||$a)Ua.style("display",
"block").attr("aria-hidden",!1),kb.style("display","block").attr("aria-hidden",!1),Sa.style("display","block").attr("aria-hidden",!1),$a.style("display","block").attr("aria-hidden",!1),Sa.selectAll(".xe-pie-light-text").call(qa),xa()}else{if(Ua||kb||Sa||$a)Ua.style("display","none").attr("aria-hidden",!0),kb.style("display","none").attr("aria-hidden",!0),Sa.style("display","none").attr("aria-hidden",!0),$a.style("display","none").attr("aria-hidden",!0);Xa.style("opacity",1);Ma.style("display","block").attr("aria-hidden",
!1);Oa.style("display","block").attr("aria-hidden",!1)}}function V(ya,ka){S.ngclickfunction({pieSliceData:ya.data})}function ha(){r.select(this).classed("xe-pie-touch",!r.select(this).classed("xe-pie-touch"))}function Ca(){var ya=!1;if(Ma&&(Ma.selectAll("text").each(function(ta){var ra=this,Pa=this.getBoundingClientRect();Ma.selectAll("text").each(function(wb,ab){if(this!==ra&&(ab=this.getBoundingClientRect(),2*Math.abs(Pa.left-ab.left)<Pa.width+ab.width&&2*Math.abs(Pa.top-ab.top)<Pa.height+ab.height)){ab=
.01*(Math.max(0,Pa.bottom-ab.top)+Math.min(0,Pa.top-ab.bottom));var nb=r.transform(r.select(this).attr("transform"));var Cb=r.transform(r.select(ra).attr("transform"));ya=!0;Cb.translate=[.55*I*(ea(ta)<Math.PI?1:-1),Cb.translate[1]+ab];nb.translate=[.55*I*(ea(wb)<Math.PI?1:-1),nb.translate[1]-ab];r.select(this).attr("transform","translate("+nb.translate+")");r.select(ra).attr("transform","translate("+Cb.translate+")")}})}),ya)){var ka=Ma[0];Oa&&Oa.attr("points",function(ta,ra){ra=r.select(ka[ra]).select("text");
var Pa=r.transform(ra.attr("transform"));ra=Pa.translate[0];Pa=Pa.translate[1];return[fb.centroid(ta),Gb.centroid(ta),ra,Pa]});z(Ca)}}function na(ya){Xa=W.select(".xe-pie-slices").selectAll("path.xe-pie-slice").data(rb(ya),T);Xa.enter().insert("path").style("fill",function(ka,ta){6===ta&&(Va=ka.startAngle,db=ka.endAngle);return Da(ta)}).attr("class","xe-pie-slice").attr("tabindex","0").attr("aria-label",function(ka){var ta=p.isRtl()?l("xei18n")("default.percent")+y(ka.data.percentage):y(ka.data.percentage)+
l("xei18n")("default.percent");return ta+=" "+ka.data.label+" "+ka.data.value}).on("click",ja).on("click",V).on("keydown",function(ka,ta){13==r.event.keyCode&&V(ka,ta)}).on("touchstart",ja).on("mouseover",fa).on("touchstart",fa).on("touchstart",ha).on("mouseout",ca).on("touchend",ca).on("touchend",ha).on("mousemove",oa).on("touchmove",oa).on("focusin",function(){r.event.target.classList.add("xe-slice-on")}).on("focusout",function(){r.event.target.classList.remove("xe-slice-on")});Xa.transition().duration(1E3).attrTween("d",
function(ka){this.d3current=this.d3current||ka;var ta=r.interpolate(this.d3current,ka);this.d3current=ta(0);return function(ra){return ob(ta(ra))}});Xa.exit().remove();Ma=W.select(".xe-pie-labels").selectAll("text").data(rb(ya),T);Ma.enter().append("a").attr({"xlink:href":function(ka,ta){if(ka.data.label===N.pie.otherLabel)return"#other-group-"+v},tabindex:function(ka,ta){if(ka.data.label===N.pie.otherLabel)return 0},"aria-controls":function(ka,ta){if(ka.data.label===N.pie.otherLabel)return"other-group-"+
v},"aria-label":function(ka,ta){if(ka.data.label===N.pie.otherLabel)return N.pie.group.otherAriaLabel}}).on("click",ja).on("touchstart",ja).append("text").attr({"class":function(ka,ta){return ka.data.label===N.pie.otherLabel?"xe-pie-large-text xe-pie-other-text":"xe-pie-large-text"}}).on("click",ja).on("touchstart",ja).on("mouseover",fa).on("touchstart",fa).on("mouseout",ca).on("touchend",ca).on("mousemove",oa).on("touchmove",oa);Ma.selectAll("text").append("tspan").attr("x","0").attr("dy",function(ka){return(ka.startAngle+
ka.endAngle)/2>Math.PI/2&&(ka.startAngle+ka.endAngle)/2<1.5*Math.PI?"1em":"-1em"}).attr("class","xe-pie-bold-text").text(function(ka){return p.isRtl()?l("xei18n")("default.percent")+y(ka.data.percentage):y(ka.data.percentage)+l("xei18n")("default.percent")});Ma.selectAll("text").append("tspan").attr("x","0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(ka){return ka.data.label});Ma.selectAll("text").transition().duration(1E3).attrTween("transform",function(ka){this.d3current=this.d3current||
ka;var ta=r.interpolate(this.d3current,ka);this.d3current=ta(0);return function(ra){ra=ta(ra);return"translate("+Gb.centroid(ra)+")"}}).attrTween("text-anchor",function(ka){this.d3current=this.d3current||ka;var ta=r.interpolate(this.d3current,ka);this.d3current=ta(0);return function(ra){ra=ta(ra);if(!p.isRtl())return ea(ra)<Math.PI?"start":"end";var Pa;(Pa=w())||(aa=bb.indexOf("Edge/"),Pa=0<aa?!0:!1);return Pa?ea(ra)<Math.PI?"start":"end":ea(ra)<Math.PI?"end":"start"}});Ma.exit().remove();Ma.selectAll(".xe-pie-light-text").call(qa);
Oa=W.select(".xe-pie-lines").selectAll("polyline").data(rb(ya),T);Oa.enter().append("polyline").style("stroke",function(ka,ta){return Da(ta)});Oa.transition().duration(1E3).attrTween("points",function(ka){this.d3current=this.d3current||ka;var ta=r.interpolate(this.d3current,ka);this.d3current=ta(0);return function(ra){ra=ta(ra);var Pa=Gb.centroid(ra);return[fb.centroid(ra),Gb.centroid(ra),Pa]}});Oa.exit().remove();Ca()}function za(ya){Ua=W.select(".xe-pie-bg-sub-slice").append("a").attr({"xlink:href":function(ka,
ta){return"#main-group-"+v},tabindex:function(ka,ta){return 0},"aria-controls":function(ka,ta){return"main-group-"+v},"aria-label":N.pie.group.mainAriaLabel}).on("click",ja).on("touchstart",ja).append("path").attr("aria-hidden",!0).style("display","none").datum({startAngle:0,endAngle:2*Math.PI}).style("fill","#DBDBDD").attr("d",va).on("click",ja).on("touchstart",ja);kb=W.select(".xe-pie-sub-slices").selectAll("path.xe-pie-sub-slice").data(sb(ya),T);kb.enter().insert("path").attr("aria-hidden",!0).style("display",
"none").style("fill",function(ka,ta){return Ra(ta)}).attr("class","xe-pie-sub-slice").on("mouseover",fa).on("touchstart",fa).on("mouseout",ca).on("touchend",ca).on("mousemove",oa).on("touchmove",oa);kb.transition().duration(1E3).attrTween("d",function(ka){this.d3current=this.d3current||ka;var ta=r.interpolate(this.d3current,ka);this.d3current=ta(0);return function(ra){return va(ta(ra))}});kb.exit().remove();Sa=W.select(".xe-pie-sub-labels").selectAll("text").data(sb(ya),T);Sa.enter().append("text").attr("class",
function(ka,ta){return 7<ya.length?"xe-pie-small-text":"xe-pie-large-text"}).attr("aria-hidden",!0).style("display","none").on("mouseover",fa).on("touchstart",fa).on("mouseout",ca).on("touchend",ca).on("mousemove",oa).on("touchmove",oa);Sa.append("tspan").attr("x","0").attr("dy",".35em").attr("class","xe-pie-bold-text").text(function(ka){return p.isRtl()?l("xei18n")("default.percent")+y(ka.data.percentage):y(ka.data.percentage)+l("xei18n")("default.percent")});Sa.append("tspan").attr("x","0").attr("dy",
"1em").attr("class","xe-pie-light-text").text(function(ka){return ka.data.label});Sa.transition().duration(1E3).attrTween("transform",function(ka){this.d3current=this.d3current||ka;var ta=r.interpolate(this.d3current,ka);this.d3current=ta(0);return function(ra){ra=ta(ra);var Pa=Ba.centroid(ra);Pa[0]=.65*I*(ea(ra)<Math.PI?1:-1);return"translate("+Pa+")"}}).attrTween("text-anchor",function(ka){this.d3current=this.d3current||ka;var ta=r.interpolate(this.d3current,ka);this.d3current=ta(0);return function(ra){ra=
ta(ra);return p.isRtl()?ea(ra)<Math.PI?"end":"start":ea(ra)<Math.PI?"start":"end"}});Sa.exit().remove();$a=W.select(".xe-pie-sub-lines").selectAll("polyline").data(sb(ya),T);$a.enter().append("polyline").attr("aria-hidden",!0).style("display","none").style("stroke",function(ka,ta){return Ra(ta)});$a.transition().duration(1E3).attrTween("points",function(ka){this.d3current=this.d3current||ka;var ta=r.interpolate(this.d3current,ka);this.d3current=ta(0);return function(ra){ra=ta(ra);var Pa=Ba.centroid(ra);
Pa[0]=.6*I*(ea(ra)<Math.PI?1:-1);return[sa.centroid(ra),Ba.centroid(ra),Pa]}});$a.exit().remove()}var Ea=[],Va,db,Xa,Ma,Oa,Ua,kb,Sa,$a,bb,eb,H,aa;P&&(P.select("thead").remove(),P.select("tbody").remove(),P.append("thead").attr("class","xe-pie-table-head"),P.append("tbody").attr("class","xe-pie-table-body"));W.selectAll("g").remove();W.selectAll("text").remove();if(0<N.innerRadiusFactor){var pa=r.sum(S.data,function(ya){return ya.value});var Ha=W.append("text").attr("text-anchor","middle");Ha.append("tspan").attr("class",
"xe-pie-total-value").attr("y",0).attr("x",0).attr("tabindex","0").text(y(pa));Ha.append("tspan").attr("class","xe-pie-total-label").attr("y",20).attr("x",0).attr("tabindex","0").text(N.pie.totalLabel)}W.append("g").attr({role:"presentation","class":"xe-pie-slices"});W.append("g").attr({role:"listitem","class":"xe-pie-labels",id:"main-group-"+v,"aria-live":"polite","aria-relevant":"additions removals"});W.append("g").attr({role:"presentation","class":"xe-pie-lines"});7<S.data.length&&(W.append("g").attr({role:"presentation",
"class":"xe-pie-bg-sub-slice"}),W.append("g").attr({role:"presentation","class":"xe-pie-sub-slices"}),W.append("g").attr({role:"listitem","class":"xe-pie-sub-labels",id:"other-group-"+v,"aria-live":"polite","aria-relevant":"additions removals"}),W.append("g").attr({role:"presentation","class":"xe-pie-sub-lines"}));var Qa=0;Number.isFinite=Number.isFinite||function(ya){return"number"===typeof ya&&isFinite(ya)};Ea=angular.copy(S.data);angular.forEach(Ea,function(ya,ka){ya.value=Number.isFinite(ya.value)?
Math.abs(ya.value):0});Ea.sort(function(ya,ka){return r.descending(ya.value,ka.value)});var Wa=r.sum(Ea,function(ya){return ya.value});P&&Z(Ea,[N.table.label,N.table.value,N.table.percentage]);angular.forEach(Ea,function(ya,ka){6>ka||8>Ea.length?ya.origin="main":(ya.origin="sub",Qa+=+ya.value)});7<Ea.length&&Ea.splice(7,0,{label:N.pie.otherLabel,value:Qa,origin:"main"});Ea.forEach(function(ya){ya.percentage=Wa||ya.value?(Math.round(1E3*ya.value/Wa)/10).toFixed(2):"0.00"});pa=r.nest().key(function(ya){return ya.origin}).entries(Ea);
var rb=r.layout.pie().sort(function(ya,ka){return p.isRtl()?p.isRtl()?r.ascending(ya.value,ka.value):r.descending(ya.value,ka.value):r.descending(ya.value,ka.value)}).value(function(ya){return ya.value});var sb=r.layout.pie().value(function(ya){return ya.value}).startAngle(function(ya){return Va}).endAngle(function(ya){return db});var ob=r.svg.arc().innerRadius(.5*I*N.innerRadiusFactor).outerRadius(.5*I);var fb=r.svg.arc().innerRadius(.5*I).outerRadius(.5*I);var Gb=r.svg.arc().innerRadius(.5*I).outerRadius(.6*
I);var va=r.svg.arc().innerRadius(.5*I).outerRadius(.6*I);var sa=r.svg.arc().innerRadius(.6*I).outerRadius(.6*I);var Ba=r.svg.arc().innerRadius(.6*I).outerRadius(.7*I);var Da=r.scale.ordinal().range("#BA46A6 #5353d1 #51ABFF #1ABF96 #95D162 #F5DB75 #FFB581".split(" "));var Ra=r.scale.ordinal().range("#FFF4EB #FFDFC8 #FFCAA4 #FFB581 #FFA15D #FF8C3A #FF7513 #FE6A00 #EB6200 #C35100".split(" "));7<Ea.length?(na(pa[0].values),za(pa[1].values)):na(pa[0].values)}var v=0;return{restrict:"E",scope:{data:"=xePieData",
config:"=xePieConfig",ngclickfunction:"&"},link:function(D,P,W){v+=1;P.addClass("xe-pie-chart");W=P[0].clientWidth;var I=angular.merge({},{tooltip:!1,hiddenTable:!1,innerRadiusFactor:0,svg:{title:"",desc:""},pie:{otherLabel:"Other",totalLabel:"Units"},table:{ariaLabel:"",label:"label",value:"value",percentage:"percentage"}},D.config),S;I.hiddenTable&&(S=r.select(P[0]).append("table").attr({"aria-label":I.table.ariaLabel,"class":"xe-pie-table-hidden"}));W-=10;var N=Math.min(W,W)/2;W=r.select(P[0]).classed("svg-container",
!0).append("svg").attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:1.1,width:W,height:W,viewBox:"0 0 "+Math.min(W,W)+" "+Math.min(W,W),preserveAspectRatio:"xMinYMid meet",role:"group","aria-labelledby":"title"+v+" desc"+v}).classed("svg-content-responsive",!0);W.append("title").attr("id","title"+v).text(I.svg.title);W.append("desc").attr("id","desc"+v).text(I.svg.desc);var L=W.append("g").attr({role:"list","aria-label":I.pie.ariaLabel,"class":"xe-pie-svg",
transform:"translate("+N+", "+N+")"});if(I.tooltip){var Z=r.select(P[0]).append("div").attr("class","xe-pie-tooltip");Z.append("p").attr("class","xe-pie-tooltip-label");Z.append("p").attr("class","xe-pie-tooltip-value");Z.append("p").attr("class","xe-pie-tooltip-percent xe-pie-bold-text")}D.$watch("data",function(w,fa,ca){w!=fa&&m(Z,S,L,N,ca,I,P)},!0);m(Z,S,L,N,D,I,P)}}}])})();
(function(){angular.module("popupModal",["xe-ui-components"]).directive("xePopupModal",["$timeout",function(r){return{restrict:"EA",scope:{show:"=",pageheader:"@",focusbackelement:"@",showCloseButton:"=",xeId:"@?"},replace:!0,transclude:{popupContent:"?popupContent",popupButtons:"?popupButtons"},templateUrl:"templates/modal.html",controller:["$scope",function(x){x.hide=function(){x.show=!1;x.focusBackElement&&angular.element("#"+x.focusBackElement).focus()};x.popupTitle=x.pageheader;x.focusBackElement=
x.focusbackelement}],link:function(x,C,z){C.attr("id",z.id);C.attr("tabindex",0).focus();z.pageheaderXeField&&C.find(".xe-popup-header .xe-app-title").attr("xe-field",z.pageheaderXeField);z.width&&C.find(".xe-popup-container").css({"max-width":z.width,width:z.width});C.on("keydown",function(p){var l=void 0==x.showCloseButton?!0:x.showCloseButton;(27===p.keyCode||"xe-popup-close"===document.activeElement.className&&13===p.keyCode)&&1==l?(x.show=!1,x.$apply(),x.focusBackElement&&angular.element("#"+
x.focusBackElement).focus()):9===p.keyCode&&p.shiftKey&&angular.element(document.activeElement).hasClass("xe-popup-mask")&&(C.find("#buttonContainer xe-button: button:not(:disabled):not(:hidden)").focus(),p.preventDefault(),p.stopImmediatePropagation())});r(function(){C.on("focus","#tabOrdering",function(){!0===x.showCloseButton?C.find("#xePopupClose").focus():(x.focusableElements=$(C).querySelectorAll('a, button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])'),x.actualFocusableElements=
$(x.focusableElements).not("[tabindex=-1], [disabled], :hidden").not("a.select2-choice.ui-select-match"),$(x.actualFocusableElements)[0].focus())});C.on("keydown","#xePopupClose",function(p){if(9===p.keyCode&&p.shiftKey)C.find("#buttonContainer xe-button button:not(:disabled):not(:hidden)").focus();else if(9===p.keyCode)return!0;if(27===p.keyCode||13===p.keyCode)x.show=!1,x.$apply(),x.focusBackElement&&angular.element("#"+x.focusBackElement).focus();p.preventDefault();p.stopImmediatePropagation()})},
100)}}}])})();
(function(){angular.module("tabnav",[]).directive("ngRepeatComplete",["$timeout",function(r){return{restrict:"A",link:function(x,C,z){x.keyboardNav=function(){var p=angular.element(C[0].parentElement),l=parseInt(p.find("li.active a").attr("id").split("tab")[1],10),t=p[0].firstElementChild,y=p[0].lastElementChild,m=p[0].querySelector("li.active"),v,D=function(){return function(P){m===y&&P?l=x.tabnav.tabs.length:m===t&&P&&(l=1);l===x.tabnav.tabs.length&&"right"===P?(m=t,v=angular.element(m.querySelector("a")),l=
1,v.focus()):1===l&&"left"===P?(m=y,v=angular.element(m.querySelector("a")),l=x.tabnav.tabs.length,v.focus()):"right"===P?(m=m.nextElementSibling,v=angular.element(m.querySelector("a")),l=parseInt(v.attr("id").split("tab")[1],10),v.focus()):"left"===P?(m=m.previousElementSibling,v=angular.element(m.querySelector("a")),l=parseInt(v.attr("id").split("tab")[1],10),v.focus()):(x.activeElement=x.activeElement||document.activeElement.parentElement,m=x.activeElement,l=parseInt(angular.element(m).find("a").attr("id").split("tab")[1],
10),x.activeElement=null);x.$apply(function(){m.focus();x.tabnav.activate(x.tabnav.tabs[l-1])})}}();x.keydownEventHandler=function(P){P=P.keyCode||P.which||P.originalEvent.keyCode;return 39===P||40===P?(D("right"),!1):37===P||38===P?(D("left"),!1):!0};x.keyupEventHandler=function(P){if(13===(P.keyCode||P.which||P.originalEvent.keyCode))return D(),!1};p.on("keydown",x.keydownEventHandler);p.on("keyup",x.keyupEventHandler)};!0===x.$last&&r(x.keyboardNav)}}}]).directive("xeTabNav",function(){return{restrict:"EA",
scope:{xeSection:"@?"},transclude:!0,templateUrl:"templates/tabNav.html",controllerAs:"tabnav",controller:["$compile","$sce","$q","$scope","$state",function(r,x,C,z,p){var l=this;l.currentActive=null;l.tabs=[];l.extendTab=function(t,y){var m;if("undefined"!==typeof xe&&xe.extensionsFound){var v=_.find(xe.extensions.sections,function(D){return D.name==z.xeSection});v&&v.fields.forEach(function(D,P){D.name===y.xeField&&(D.label&&(t.heading=xe.i18n(D.label)),D.exclude&&(m=!0))})}m||l.tabs.push(y)};l.loadDynamicContent=
function(t,y){"[object Function]"!==Object.prototype.toString.call(t)||y.hasTranscludedContent||y.dynamicContent||t().then(function(m){y.dynamicContent=m;y.dynamic(m)},function(m){console.error(m)})};l.activate=function(t){l.currentActive.active=!1;t.active=!0;l.currentActive=t;t.state?p.go(t.state,t.stateParams):l.loadDynamicContent(t.loadDataOnClick,t)}}]}}).directive("xeTabPanel",["$compile","$state",function(r,x){return{restrict:"EA",transclude:!0,scope:{heading:"@",state:"@",loadDataOnClick:"&",
jsLazyLoad:"@",xeField:"@?",stateParams:"="},templateUrl:"templates/tabPanel.html",require:"^xeTabNav",link:function(C,z,p,l,t){function y(){p.loadDataOnClick?l.loadDynamicContent(l.currentActive.loadDataOnClick,l.currentActive):l.activate(l.currentActive)}l.extendTab(p,C);C.element=z;C.tabIndex=l.tabs.indexOf(C)+1;C.lazyLoadJs=function(m){var v=document.createElement("script");v.src=m.jsLazyLoad;document.head.appendChild(v)};t(C,function(m,v){m.text().trim().length&&(v.hasTranscludedContent=!0,v=
angular.element(z[0].querySelector("[content]")),v.append(m))});p.hasOwnProperty("active")||C.state===x.current.name?(C.active=!0,l.currentActive=C,y()):z.is(":last-child")&&!l.currentActive&&(l.tabs[0].active=!0,l.currentActive=l.tabs[0],l.currentActive.element.attr("active",""),y());C.dynamic=function(m){m=angular.element(m);m=r(m)(C);angular.element(z[0].querySelector("[content]")).append(m);C.jsLazyLoad&&C.active&&C.lazyLoadJs(C)}}}}])})();
(function(){angular.module("timePicker",["xe-ui-components","ngMessages","dateParser"]).directive("xeTimePicker",["$timeout","$filter","$window","$document","Language","keyCodes","$dateParser","dateFilter",function(r,x,C,z,p,l,t,y){return{restrict:"E",scope:{displayFormat:"@?",xeConfigstep:"@?",xeId:"@",xeName:"@",xePlaceholder:"@?",modelScope:"=?xeModel",returnFormat:"@?",returnTranslatedMeridian:"@?",xeWidth:"@?"},replace:!0,templateUrl:p.isRtl()?"templates/timePicker_rtl.html":"templates/timePicker.html",
controller:["$scope",function(m){function v(N,L){var Z=[],w=0;L=parseInt(L);12===N&&(w=1);if(L){if(60<L||0>L)L=1}else L=1;for(;w<=N;){var fa=(new Intl.NumberFormat("en-US",{minimumIntegerDigits:2})).format(w);Z.push(fa);w+=L}return Z}function D(N,L,Z,w){var fa=parseInt(N)+1;if(fa<Z.length){var ca=angular.element(L).closest("ul");angular.element(ca).find("li").each(function(oa,T){$(T).attr("tabindex",-1)});angular.element(ca).find("li").siblings().removeClass("active-timepicker");ca=angular.element(ca).find("li")[fa];
w?m.hrsFocusElem=ca:m.minFocusElem=ca;angular.element(ca).addClass("active-timepicker");angular.element(ca).attr("tabindex",0);angular.element(ca).focus()}fa=parseInt(fa)+1;w=angular.element(L).closest("div");angular.element(w).find("div.nextDiv").text("");parseInt(N)>Z.length-2||parseInt(N)===Z.length-2?angular.element(w).find("div.nextDiv").text(""):(ca=angular.element(L).closest("ul"),angular.element(w).find("div.nextDiv").text(""),angular.element(ca).find("li")&&(N=angular.element(ca).find("li")[fa].innerText,
angular.element(w).find("div.nextDiv").text(N)))}function P(N,L){N=parseInt(N);var Z=angular.element(L).closest("ul");L=angular.element(L).closest("div");void 0!==angular.element(Z).find("li")[N]?(N=angular.element(Z).find("li")[N].innerText,angular.element(L).find("div.previousDiv").text(N)):angular.element(L).find("div.previousDiv").text("")}m.timeObject={};m.toggleContainer=!1;m.hours=[];m.minutes=[];m.displayFormat?m.xeTimePlaceholder=m.xePlaceholder:(m.displayFormat=x("xei18n")("default.timepicker.time.format"),
"default.time.watermark.format"!=x("xei18n")("default.time.watermark.format")&&(m.xeTimePlaceholder=x("xei18n")("default.time.watermark.format")));if(void 0===m.modelScope||null===m.modelScope)m.modelScope="";m.displayModel=m.modelScope;m.minFocusElem="";m.hrsFocusElem="";m.showError=!1;m._12hrFormat="hh:mm a";m._24hrFormat="HH:mm";m.formatNumberTwoDecimal=function(N){""!=N&&(N=(new Intl.NumberFormat("en-US",{minimumIntegerDigits:2})).format(N));return N};m.formatTimeTo12Hours=function(N,L){if(N){var Z=
N.split(" ")[1];2<N.split(" ").length&&(Z=N.split(" ")[1]+N.split(" ")[2]);L?"PM"===Z?Z=m.meridiansList[1]:"AM"===Z&&(Z=m.meridiansList[0]):Z===m.meridiansList[1]?Z="PM":Z===m.meridiansList[0]&&(Z="AM");Z=N.split(" ")[0]+" "+Z}return Z};m.formatEnteredTime=function(N,L,Z){N=t(N,L);return y(N,Z)};var W=C.navigator.userAgent,I={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer/i};m.getBrowser=function(){for(var N in I)if(I[N].test(W))return N};if(!m.xeConfigstep){var S=(new Intl.NumberFormat("en-US",
{minimumIntegerDigits:2})).format(1);m.xeConfigstep=S}m.timeObject=new function(){m.timeObject.hours=[];m.timeObject.minutes=[];m.timeObject.configstep;m.timeObject.is24Hrformat;m.timeObject.returnFormat};m.timeObject.displayFormat=m.displayFormat;m.timeObject.returnFormat=m.returnFormat;null!=m.timeObject.displayFormat&&"undefined"!=m.timeObject.displayFormat&&(S=m.timeObject.displayFormat.split(" ").length,2===S?(m.maxHrs=12,m.minHr=1,m.timeObject.is24Hrformat=!1):(m.maxHrs=23,m.minHr=0,m.timeObject.is24Hrformat=
!0),m.maxMinutes=59,m.timeObject.configstep=m.xeConfigstep,m.timeObject.hours=v(m.maxHrs,1),m.timeObject.minutes=v(m.maxMinutes,m.timeObject.configstep));null!=m.returnFormat&&"undefined"!=m.returnFormat&&(S=m.returnFormat.split(" ").length,m.timeObject.returnFormat=2===S?12:24);null!=m.displayModel&&"undefined"!=m.displayModel?2===m.displayModel.split(" ").length?m.timeObject.format12="Y":m.timeObject.format12="N":m.timeObject.format12=null;0==m.timeObject.is24Hrformat&&"Y"==m.timeObject.format12?
m.timeObject.format12="Y":1==m.timeObject.is24Hrformat&&"N"==m.timeObject.format12&&(m.timeObject.format12="N");m.meridiansList=[x("xei18n")("default.time.am"),x("xei18n")("default.time.pm")];m.commonIncrement=function(N,L,Z){if(!Z)if(0===parseInt(N)||-1===parseInt(N))D(N,L,m.timeObject.minutes,Z),P(N,L);else if(0<parseInt(N)&&parseInt(N)<m.timeObject.minutes.length-2)D(N,L,m.timeObject.minutes,Z),P(N,L);else{if(parseInt(N)>m.timeObject.minutes.length-2||parseInt(N)===m.timeObject.minutes.length-
2)D(N,L,m.timeObject.minutes,Z),Z=parseInt(N),parseInt(N)!==m.timeObject.minutes.length-1&&(N=angular.element(L).closest("ul"),Z=angular.element(N).find("li")[Z].innerText,L=angular.element(L).closest("div"),angular.element(L).find("div.previousDiv").text(""),angular.element(L).find("div.previousDiv").text(Z))}else if(0===parseInt(N)||-1===parseInt(N))D(N,L,m.timeObject.hours,Z),P(N,L);else if(0<parseInt(N)&&parseInt(N)<m.timeObject.hours.length-2)D(N,L,m.timeObject.hours,Z),P(N,L);else if(parseInt(N)>
m.timeObject.hours.length-2||parseInt(N)===m.timeObject.hours.length-2)D(N,L,m.timeObject.hours,Z),Z=parseInt(N),parseInt(N)!==m.timeObject.hours.length-1&&(N=angular.element(L).closest("ul"),Z=angular.element(N).find("li")[Z].innerText,L=angular.element(L).closest("div"),angular.element(L).find("div.previousDiv").text(""),angular.element(L).find("div.previousDiv").text(Z))};m.commonDecrement=function(N,L,Z){var w=N-1;N=angular.element(L).closest("div");if(!(0>parseInt(w))){L=angular.element(L).closest("ul");
var fa=angular.element(L).find("li")[w];Z?m.hrsFocusElem=angular.element(L).find("li")[w]:m.minFocusElem=angular.element(L).find("li")[w];angular.element(L).find("li").each(function(ca,oa){$(oa).attr("tabindex",-1)});angular.element(L).find("li").siblings().removeClass("active-timepicker");angular.element(fa).addClass("active-timepicker");angular.element(fa).attr("tabindex",0);angular.element(fa).focus();angular.element(N).find("div.nextDiv").text("");L=Z?m.timeObject.hours[w+1]:m.timeObject.minutes[w+
1];angular.element(N).find("div.nextDiv").text(L);1>w||0===w?angular.element(N).find("div.previousDiv").text(""):(angular.element(N).find("div.previousDiv").text(""),Z=Z?m.timeObject.hours[w-1]:m.timeObject.minutes[w-1],angular.element(N).find("div.previousDiv").text(Z))}};m.disableInput=function(N){N.find("input.input-field").attr("disabled","disabled");N.find("input.input-field").attr("readonly","readonly");N.find("input.input-field").attr("tabindex",-1)};m.enableInput=function(N){N.find("input.input-field").removeAttr("readonly");
N.find("input.input-field").removeAttr("disabled");N.find("input.input-field").attr("tabindex",0)}}],link:function(m,v){z.bind("click",function(D){0<v.find(D.target).length||(m.toggleContainer=!1,v.removeClass("time-picker-position"),m.enableInput(v),m.$digest())});r(function(){function D(H){H.preventDefault();H.stopPropagation();H.cancelBubble=!0}function P(H,aa,pa){if(m.timeObject.is24Hrformat){var Ha=m.timeObject.hours[parseInt(H)];var Qa;m.timeObject.minutes.map(function(ob,fb){ob==aa&&(Qa=fb)});
aa=Qa;var Wa=m.timeObject.minutes[parseInt(aa)]}else Ha=m.timeObject.hours[parseInt(H)-1],m.timeObject.minutes.map(function(ob,fb){ob==aa&&(Qa=fb)}),aa=Qa,Wa=m.timeObject.minutes[parseInt(aa)-1];var rb=pa.find("ul:last li")[parseInt(aa)],sb=pa.find("ul:first li")[parseInt(H)];Wa&&Ha?(pa.find("ul:last li")[parseInt(aa)].focus(),m.commonIncrement(parseInt(aa)-1,rb,!1),m.commonIncrement(parseInt(H)-1,sb,!0),pa.find("ul:first li")[parseInt(H)].focus()):0===H&&void 0===Ha&&void 0!==Wa?(pa.find("ul:last li")[parseInt(aa)].focus(),
m.commonIncrement(parseInt(aa)-1,rb,!1),m.commonIncrement(-1,sb,!0)):void 0===Wa&&void 0!==Ha?(rb=pa.find("ul:last li")[0],m.commonIncrement(-1,rb,!1),m.commonIncrement(parseInt(H-1),sb,!0)):(rb=pa.find("ul:last li")[0],sb=pa.find("ul:first li")[0],m.commonIncrement(-1,rb,!1),m.commonIncrement(-1,sb,!0))}function W(H){var aa=m.showError=!1;null!=H&&""!=H&&(aa=!1,I(H)||(aa=!0));aa&&(m.showError=!0,m.$emit("time-picker-error",x("xei18n")("timepicker.error.format.validation"),m.xeId))}function I(H){if(m.timeObject.is24Hrformat){var aa=
H.split(":");H=m.formatNumberTwoDecimal(aa[0]);aa=m.formatNumberTwoDecimal(aa[1]);aa=m.formatEnteredTime(H+":"+aa,m._24hrFormat,m.timeObject.displayFormat)}else H&&(H=m.formatTimeTo12Hours(H,!1),aa=m.formatEnteredTime(H,m._12hrFormat,m._12hrFormat));return aa}function S(){var H=angular.element("#"+m.xeId).closest("div").next();m.toggleContainer=!1;v.removeClass("time-picker-position");var aa=angular.element(H).find("ul:first li.active-timepicker").text(),pa=angular.element(H).find("ul:last li.active-timepicker").text();
H=angular.element(H).find("div.pushmeBorder").text();aa=aa+":"+pa;aa=m.timeObject.is24Hrformat?aa:aa+" "+H;L(aa);m.enableInput(v);v.find("input.input-field").focus();m.displayModel=aa;angular.element(v.find("input.input-field")).controller("ngModel").$setDirty();m.$apply()}function N(H){var aa=m.formatEnteredTime(H,m.returnFormat,m.returnFormat);H=m.formatEnteredTime(H,m.returnFormat,m.displayFormat);12!=m.timeObject.returnFormat||m.timeObject.is24Hrformat||(aa=m.formatTimeTo12Hours(H,!1),aa=m.formatEnteredTime(aa,
m._12hrFormat,m.returnFormat));m.timeObject.is24Hrformat||(H=m.formatTimeTo12Hours(H,!0));m.displayModel=H;m.modelScope=aa}function L(H){if("Y"===m.timeObject.format12||"N"===m.timeObject.format12)if(m.timeObject.is24Hrformat)var aa=m.formatEnteredTime(H,m.displayFormat,m.returnFormat);else aa=m.formatTimeTo12Hours(H,!1),aa=m.formatEnteredTime(aa,m.displayFormat,m.returnFormat);if("Y"===m.timeObject.format12||"N"===m.timeObject.format12)if(m.timeObject.is24Hrformat)var pa=m.formatEnteredTime(H,m.displayFormat,
m.displayFormat);else H=m.formatTimeTo12Hours(H,!1),pa=m.formatEnteredTime(H,m.displayFormat,m.displayFormat),pa=m.formatTimeTo12Hours(pa,!0);m.displayModel=pa;m.modelScope=aa}function Z(H){var aa=x("xei18n")("default.time.am"),pa=x("xei18n")("default.time.pm");$(H).text(function(Ha,Qa){return Qa===aa?pa:aa});$(H).next().text(function(Ha,Qa){return Qa===aa?pa:aa})}function w(H,aa,pa,Ha){H=Math.max(-1,Math.min(1,H.wheelDelta||-H.detail));if(0>H)return m.commonIncrement(aa,pa,Ha),!1;0<H&&m.commonDecrement(aa,
pa,Ha)}function fa(H){angular.element(H).addClass("active-timepickerFocus")}function ca(){angular.element(m.hrsFocusElem).parent().removeAttr("aria-label");angular.element(m.minFocusElem).parent().removeAttr("aria-label")}function oa(){var H=v.find(".minFocus"),aa=v.find(".hrsFocus"),pa=v.find(".meridianFocus"),Ha=v.find(".footercancelButton");angular.element(pa).removeClass("active-timepickerFocus");angular.element(H).removeClass("active-timepickerFocus");angular.element(aa).removeClass("active-timepickerFocus");
angular.element(Ha).removeClass("active-timepickerFocus")}function T(){angular.element(m.hrsFocusElem).parent().attr("aria-label",x("xei18n")("timepicker.hour.aria.label")+" "+x("xei18n")("timepicker.shortcuts.aria.label"))}function ea(){m.timeObject.is24Hrformat?angular.element(m.minFocusElem).parent().attr("aria-label",x("xei18n")("timepicker.min.aria.24hrs.label")+" "+x("xei18n")("timepicker.shortcuts.aria.label")):angular.element(m.minFocusElem).parent().attr("aria-label",x("xei18n")("timepicker.min.aria.label")+
" "+x("xei18n")("timepicker.shortcuts.aria.label"))}function qa(H){if(Ua){var aa=H.originalEvent.touches?H.originalEvent.touches[0]:H;kb={time:(new Date).getTime(),coords:[aa.pageX,aa.pageY]};10<Math.abs(Ua.coords[1]-kb.coords[1])&&D(H)}}function xa(H,aa){oa();aa=v.find("."+aa);angular.element(aa).addClass("active-timepickerFocus");aa=H.originalEvent.touches?H.originalEvent.touches[0]:H;Ua={time:(new Date).getTime(),coords:[aa.pageX,aa.pageY],origin:$(H.target)}}function ja(H,aa,pa,Ha){if(Ua&&kb&&
1E3>kb.time-Ua.time&&30<Math.abs(Ua.coords[1]-kb.coords[1])&&75>Math.abs(Ua.coords[0]-kb.coords[0]))return Ua.coords[1]>kb.coords[1]?m.commonIncrement(parseInt(H),aa,pa):m.commonDecrement(parseInt(H),aa,pa),Ua=kb=void 0,D(Ha),!1}v.find(".input-outerContainer").css("width",m.xeWidth);angular.element(v.find("div.timepickerContainer")).on("keydown",function(H){H.keyCode===l.F9&&(m.toggleContainer=!1,v.removeClass("time-picker-position"),m.$digest(),m.enableInput(v),v.find("div.input-container input.input-field").focus(),
ca())});m.displayModel&&N(m.displayModel);var V=m.getBrowser();V="chrome"==V?"wheel":"firefox"==V?"DOMMouseScroll":"mousewheel";v.find("div.extraDiv").on("focus",function(){angular.element(m.hrsFocusElem).focus();m.focusPrevElement=v.find(".hrsFocus");angular.element(m.focusPrevElement).addClass("active-timepickerFocus")});var ha=v.find("div.input-container .inputicon");angular.element(ha).on("click",function(H){oa();m.focusHrsElement=v.find(".hrsFocus");angular.element(m.focusHrsElement).addClass("active-timepickerFocus");
m.showError=!1;m.toggleContainer=m.toggleContainer?!1:!0;m.toggleContainer?(v.addClass("time-picker-position"),m.disableInput(v)):(v.removeClass("time-picker-position"),m.enableInput(v));var aa=v.find("input.input-field").val();W(aa);m.$digest();if(m.showError){var pa=v.find("ul:last li")[0],Ha=v.find("ul:first li")[0];m.commonDecrement(1,pa,!1);m.commonDecrement(1,Ha,!0);v.find("ul:first li")[0].focus();angular.element(v).find("input.input-field").val("");m.displayModel="";m.modelScope="";m.$apply()}else if(m.timeObject.is24Hrformat){var Qa=
aa.split(":")[0];aa=aa.split(":")[1];Qa=parseInt(Qa);aa=parseInt(aa);P(Qa,aa,v)}else if(Qa=aa.split(":")[0],Qa=parseInt(Qa)-1,aa=aa.split(":")[1],void 0!==aa){var Wa=aa.split(" ")[0];P(Qa,Wa,v);Qa=aa.split(" ")[1];Qa.toLocaleLowerCase()===x("xei18n")("default.time.am").toLocaleLowerCase()?(pa=m.meridiansList[0],Ha=m.meridiansList[1]):Qa.toLocaleLowerCase()===x("xei18n")("default.time.pm").toLocaleLowerCase()&&(pa=m.meridiansList[1],Ha=m.meridiansList[0]);v.find("div.pushmeBorder").text(pa);v.find("div.meridianPm").text(Ha)}else P(Qa,
0,v,1);D(H)});ha=v.find("div.timepickerContainer");angular.element(ha).on("keydown",function(H){H.keyCode===l.ESC&&(oa(),m.enableInput(v),m.showError=!1,m.toggleContainer=!1,v.removeClass("time-picker-position"),m.$digest(),v.find("div.input-container input.input-field").focus(),D(H))});ha=v.find("div.input-container input.input-field");angular.element(ha).on("focusout",function(H){var aa=v.find("input.input-field").val();m.enableInput(v);W(aa);D(H);m.showError?(v.find("input.input-field").val(""),
m.displayModel="",m.modelScope=""):(aa=I(aa),L(aa));m.$apply()});angular.element(ha).on("keydown",function(H){if(H.keyCode===l.F9){oa();var aa=v.find(".hrsFocus");angular.element(aa).addClass("active-timepickerFocus");m.showError=!1;var pa=angular.element(v).find("input.input-field").val();m.toggleContainer=!0;v.addClass("time-picker-position");W(pa);m.$digest();m.disableInput(v);ca();T();if(m.showError){var Ha=v.find("ul:last li")[0];aa=v.find("ul:first li")[0];m.commonDecrement(1,Ha,!1);m.commonDecrement(1,
aa,!0);v.find("ul:first li")[0].focus();angular.element(v).find("input.input-field").val("")}else if(m.timeObject.is24Hrformat){aa=pa.split(":")[0];var Qa=pa.split(":")[1];aa=parseInt(aa);Qa=parseInt(Qa);P(aa,Qa,v,1)}else if(aa=pa.split(":")[0],aa=parseInt(aa)-1,Qa=pa.split(":")[1],void 0!==Qa){var Wa=Qa.split(" ")[0];pa=m.meridiansList[1];P(aa,Wa,v,0);aa=Qa.split(" ")[1];void 0!==aa&&(aa.toLocaleLowerCase()===x("xei18n")("default.time.am").toLocaleLowerCase()?(Ha=m.meridiansList[0],pa=m.meridiansList[1]):
aa.toLocaleLowerCase()===x("xei18n")("default.time.pm").toLocaleLowerCase()&&(Ha=m.meridiansList[1],pa=m.meridiansList[0]),v.find("div.pushmeBorder").text(Ha),v.find("div.meridianPm").text(pa))}else P(aa,0,v,1);D(H)}if(H.keyCode===l.TAB)return W(this.value),pa=I(this.value),L(pa),m.$apply(),!0});v.find("footer.timerFooter .footercancelButton");v.find("footer.timerFooter .footercancelButton").on("click",function(H){oa();m.showError=!1;m.enableInput(v);m.toggleContainer=!1;v.removeClass("time-picker-position");
m.$digest();v.find("div.input-container input.input-field").focus();D(H)});v.find("footer.timerFooter .footercancelButton").on("keydown",function(H){H.shiftKey&&H.keyCode===l.TAB&&(ca(),m.timeObject.is24Hrformat?(ea(),oa(),H=v.find("ul.minFocus"),fa(H)):(oa(),H=v.find("div.meridianFocus"),fa(H)));return!0});v.find("footer.timerFooter xe-button button.primary").on("keydown, click",function(H){S();D(H)});v.find("footer.timerFooter xe-button button.primary").on("keydown",function(H){H.shiftKey||H.keyCode!==
l.TAB||(ca(),T())});if(!m.timeObject.is24Hrformat){ha=v.find("div.timepickerContainer .mainContainer .tickerContainer")[0].classList[1];var Ca=v.find("div.timepickerContainer .mainContainer .pushmeBorder")[0],na=v.find(".meridianFocus");$("."+ha).on(V,function(H){oa();fa(na);Z(Ca)});$("."+ha).on("click",function(H){oa();fa(na)});$("."+ha).on("keydown",function(H){H.keyCode!==l.UP&&H.keyCode!==l.DOWN||Z(Ca);H.shiftKey&&H.keyCode===l.TAB&&(ca(),ea());H.shiftKey||H.keyCode!==l.TAB||ca()});$("."+ha).on("touchend",
function(H){oa();fa(na);Z(Ca)})}m.hrsFocusElem=v.find("ul:first li")[0];m.minFocusElem=v.find("ul:last li")[0];var za=v.find("ul:first li"),Ea=za[0];ha=angular.element(Ea).closest("div");var Va=angular.element(Ea).closest("ul"),db=angular.element(Va).find("li")[1].innerText;angular.element(ha).find("div.nextDiv").text(db);angular.element(Ea).attr("tabindex",0);$(Va).on("click",function(){oa();fa(Va)});angular.element(ha).find("div.nextDiv").on(V,function(H){var aa=H.originalEvent,pa=$(this.parentElement).find("ul li.active-timepicker");
oa();var Ha=v.find(".hrsFocus");fa(Ha);Ha=parseInt(pa[0].classList[0].split("_")[1]);w(aa,Ha,pa,!0);D(H);return!1});angular.element(ha).find("div.previousDiv").on(V,function(H){var aa=H.originalEvent,pa=$(this.parentElement).find("ul li.active-timepicker");oa();var Ha=v.find(".hrsFocus");fa(Ha);Ha=parseInt(pa[0].classList[0].split("_")[1]);w(aa,Ha,pa,!0);D(H);return!1});za.on("keydown",function(H){var aa=parseInt(this.classList[0].split("_")[1]);m.focusPrevElement=v.find(".minFocus");m.focusCurrentElement=
v.find(".hrsFocus");za.each(function(pa,Ha){$(Ha).attr("tabindex",-1)});angular.element("."+this.classList[0]).attr("tabindex",0);return H.keyCode===l.DOWN?(m.commonIncrement(aa,this,!0),ca(),D(H),!1):H.keyCode===l.UP?(m.commonDecrement(aa,this,!0),ca(),D(H),!1):H.keyCode===l.RIGHT?(angular.element(m.minFocusElem).focus(),oa(),fa(m.focusPrevElement),ca(),ea(),angular.element(m.minFocusElem).focus(),D(H),!1):H.keyCode===l.ENTER?(ca(),S(),D(H),!1):H.shiftKey||H.keyCode!==l.TAB?H.shiftKey&&H.keyCode===
l.TAB?(aa=v.find("footer.timerFooter xe-button button.primary"),angular.element(aa).focus(),oa(),fa(aa),ca(),D(H),!1):!0:(angular.element(m.minFocusElem).focus(),oa(),fa(m.focusPrevElement),ca(),ea(),angular.element(m.minFocusElem).focus(),D(H),!1)});za.on(V,function(H){var aa=H.originalEvent,pa=$(this).closest("ul");pa=$(pa).find("li.active-timepicker");var Ha=parseInt(pa[0].classList[0].split("_")[1]);oa();var Qa=v.find(".hrsFocus");fa(Qa);w(aa,Ha,pa,!0);D(H);return!1});var Xa=v.find("ul:last li");
Ea=Xa[0];var Ma=angular.element(Ea).closest("div"),Oa=angular.element(Ea).closest("ul");db=angular.element(Oa).find("li")[1].innerText;angular.element(Ea).attr("tabindex",0);angular.element(Ma).find("div.nextDiv").text(db);$(Oa).on("click",function(){oa();fa(Oa)});angular.element(Ma).find("div.nextDiv").on(V,function(H){var aa=H.originalEvent,pa=$(this.parentElement).find("ul li.active-timepicker");oa();var Ha=v.find(".minFocus");fa(Ha);Ha=parseInt(pa[0].classList[0].split("_")[1]);w(aa,Ha,pa,!1);
D(H);return!1});angular.element(Ma).find("div.previousDiv").on(V,function(H){var aa=H.originalEvent,pa=$(this.parentElement).find("ul li.active-timepicker");oa();var Ha=v.find(".minFocus");fa(Ha);Ha=parseInt(pa[0].classList[0].split("_")[1]);w(aa,Ha,pa,!1);D(H);return!1});T();Xa.on("keydown",function(H){var aa=parseInt(this.classList[0].split("_")[1]);m.focusPrevElement=v.find(".hrsFocus");m.focusNextElement=v.find(".meridianFocus");m.focusCurrentElement=v.find(".minFocus");Xa.each(function(Qa,Wa){$(Wa).attr("tabindex",
-1)});angular.element("."+this.classList[0]).attr("tabindex",0);if(H.keyCode===l.DOWN)return ca(),m.commonIncrement(aa,this,!1),D(H),!1;if(H.keyCode===l.UP)return ca(),m.commonDecrement(aa,this,!1),D(H),!1;if(H.keyCode===l.LEFT)return ca(),T(),angular.element(m.hrsFocusElem).attr("tabindex",0),angular.element(m.hrsFocusElem).focus(),oa(),fa(m.focusPrevElement),D(H),!1;if(H.keyCode===l.RIGHT)return ca(),m.ampmEle=v.find("div.pushmeBorder"),angular.element(m.ampmEle).attr("tabindex",0),angular.element(m.ampmEle).focus(),
m.timeObject.is24Hrformat||(aa=v.find("div.meridianFocus"),v.find(".minFocus"),oa(),fa(aa)),D(H),!1;if(H.keyCode===l.ENTER)return ca(),S(),D(H),!1;if(!H.shiftKey&&H.keyCode===l.TAB){var pa=v.find(".footercancelButton"),Ha=v.find(".minFocus");aa=v.find(".meridianFocus");p.isRtl()?(angular.element(pa).addClass("active-timepickerFocus"),angular.element(Ha).removeClass("active-timepickerFocus")):m.timeObject.is24Hrformat?oa():(oa(),fa(aa));angular.element(pa).removeClass("active-timepickerFocus");ca()}return H.shiftKey&&
H.keyCode===l.TAB?(angular.element(m.hrsFocusElem).attr("tabindex",0),angular.element(m.hrsFocusElem).focus(),oa(),fa(m.focusPrevElement),ca(),T(),angular.element(m.hrsFocusElem).focus(),D(H),!1):!0});v.find("div.mainContainer .pushmeBorder").on("keydown",function(H){m.focusCurrentElement=v.find(".meridianFocus");m.focusPrevElement=v.find(".minFocus");if(H.keyCode===l.LEFT)return angular.element(m.minFocusElem).focus(),oa(),fa(m.focusPrevElement),ca(),ea(),angular.element(m.minFocusElem).focus(),
D(H),!1;if(H.keyCode===l.RIGHT)return!1;if(H.keyCode===l.ENTER)return ca(),S(),D(H),!1;H.shiftKey||H.keyCode!==l.TAB||oa();H.shiftKey&&H.keyCode===l.TAB&&(oa(),fa(m.focusPrevElement),$(".meridianFocus").removeClass("active-timepickerFocus"))});Xa.on(V,function(H){var aa=H.originalEvent,pa=$(this).closest("ul");pa=$(pa).find("li.active-timepicker");var Ha=parseInt(pa[0].classList[0].split("_")[1]);oa();var Qa=v.find(".minFocus");fa(Qa);w(aa,Ha,pa,!1);D(H);return!1});var Ua={},kb={},Sa,$a;angular.element(ha).on("mousedown",
function(H){Sa=H.pageY}).on("mouseup",function(H){oa();var aa=v.find(".hrsFocus");angular.element(aa).addClass("active-timepickerFocus");aa=$(this.parentElement).find(".hrsContainer  ul li.active-timepicker");var pa=parseInt(aa[0].classList[0].split("_")[1]);$a=H.pageY;Sa<$a?m.commonDecrement(pa,aa,!0):Sa>$a&&m.commonIncrement(pa,aa,!0);D(H);return!1});var bb,eb;angular.element(Ma).on("mousedown",function(H){bb=H.pageY}).on("mouseup",function(H){oa();var aa=v.find(".minFocus");angular.element(aa).addClass("active-timepickerFocus");
aa=$(this.parentElement).find(".minContainer  ul li.active-timepicker");var pa=parseInt(aa[0].classList[0].split("_")[1]);eb=H.pageY;bb<eb?m.commonDecrement(pa,aa,!1):bb>eb&&m.commonIncrement(pa,aa,!1);D(H);return!1});$(ha).find("div.nextDiv").on({touchstart:function(H){xa(H,"hrsFocus");$(this).on("touchmove",qa);H.preventDefault()},touchend:function(H){$(this).off("touchmove");var aa=this.closest("div");aa=$(aa).prev();var pa=$(aa).find("li.active-timepicker").val();ja(pa,aa,!0,H)}});$(ha).find("div.previousDiv").on({touchstart:function(H){xa(H,
"hrsFocus");$(this).on("touchmove",qa);H.preventDefault()},touchend:function(H){$(this).off("touchmove");var aa=this.closest("div");aa=$(aa).next();var pa=$(aa).find("li.active-timepicker").val();ja(pa,aa,!0,H)}});$(za).on({touchstart:function(H){xa(H,"hrsFocus");$(this).on("touchmove",qa);H.preventDefault()},touchend:function(H){$(this).off("touchmove");var aa=this.classList[0].split("_")[1];ja(aa,this,!0,H)}});$(Xa).on({touchstart:function(H){xa(H,"minFocus");$(this).on("touchmove",qa);D(H)},touchend:function(H){$(this).off("touchmove");
var aa=this.classList[0].split("_")[1];ja(aa,this,!1,H)}});$(Ma).find("div.previousDiv").on({touchstart:function(H){xa(H,"minFocus");$(this).on("touchmove",qa);H.preventDefault()},touchend:function(H){$(this).off("touchmove");this.closest("div");var aa=$(this.closest("div")).next(),pa=$(aa).find("li.active-timepicker")[0].classList[0].split("_")[1];ja(pa,aa,!1,H)}});$(Ma).find("div.nextDiv").on({touchstart:function(H){xa(H,"minFocus");$(this).on("touchmove",qa);H.preventDefault()},touchend:function(H){$(this).off("touchmove");
this.closest("div");var aa=$(this.closest("div")).prev(),pa=$(aa).find("li.active-timepicker")[0].classList[0].split("_")[1];ja(pa,aa,!1,H)}})},10)}}}])})();process=process||{env:{NODE_ENV:"development"}};(function(){angular.module("common",[]).config(["$locationProvider",function(r){r.html5Mode(!1)}])})();process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("common").filter("htmlDecode",function(){return function(r){if(r)return r=r.replace(/&lt;/g,"<"),r=r.replace(/&gt;/g,">"),r=r.replace(/&quot;/g,'"'),r=r.replace(/&apos;/g,"'"),r=r.replace(/&amp;/g,"&"),r=r.replace(/&rsquo;/g,"\u2019"),r=r.replace(/&#39;/g,"'")}})})();process=process||{env:{NODE_ENV:"development"}};(function(){angular.module("common",[]).filter("isoDateConvertor",function(){return function(r){return r&&(new Date(r)).toLocaleDateString(navigator.language)}})})();
process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("common").service("BreadcrumbService",["$filter","$window",function(r,x){this.draw=function(C,z){if(C&&C.breadcrumb){var p={};x.document.title="";C.pageTitle&&(p.pageTitle=r("i18n")(C.pageTitle),x.document.title=p.pageTitle);C=C.breadcrumb;p.breadcrumb="";for(var l={},t=0;t<C.length;t++){var y=C[t];if(y.label){if(y.url){var m=y.url;var v=z,D="";m&&(D=void 0!==v&&""!==v.trim()?"/"+v+"#"+m:m);m=D}else m="";l[r("i18n")(y.label)]=m}}p.breadcrumb=l;BreadCrumbAndPageTitle.draw(p)}}}])})();
process=process||{env:{NODE_ENV:"development"}};(function(){angular.module("common").factory("Config",function(){var r={};return{put:function(x,C){r[x]=C},get:function(x){return r[x]}}})})();process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("common").constant("MSG_TYPE",{SUCCESS:"success",INFO:"info",ERROR:"error",WARNING:"warning"}).factory("NotificationCenterService",["MSG_TYPE",function(r){function x(z,p){var l={};z.message&&(l.message=z.message);z.component&&(l.component=z.component);z.flash&&(l.flash=z.flash);l.type=p;p=new Notification(l);if(z.prompts)for(l=0;l<z.prompts.length;l++){var t=C(z.prompts[l].action,p);p.addPromptAction(z.prompts[l].label,t)}notifications.addNotification(p);return p}function C(z,
p){return function(){z();notifications.remove(p)}}return{showError:function(z){return x(z,r.ERROR)},showSuccess:function(z){z.flash=!0;return x(z,r.SUCCESS)},showWarning:function(z){return x(z,r.WARNING)},clearNotifications:function(){notifications.clearNotifications()},clearNotification:function(z){notifications.clearNotifications(z)}}}])})();process=process||{env:{NODE_ENV:"development"}};
angular.module("common").service("notificationCenterService",["$filter","$rootScope",function(r,x){this.clearNotifications=function(){notifications.clearNotifications()};this.removeNotification=function(C){notifications.remove(C)};this.displayNotifications=function(C,z,p,l){var t=angular.element("#notification-center").find(".error-container");t.attr("aria-live")||"error"!==z||t.attr({role:"alert","aria-live":"assertive"});C=new Notification({message:C,type:z,flash:p,component:l});notifications.addNotification(C);
notificationCenter.addNotification(C);return C};this.displayNavigationWarningNotification=function(C,z,p,l){var t=new Notification({message:r("i18n")("facultyFeedback.message.saveChanges"),type:"warning",flash:!1});t.addPromptAction($.i18n.prop("notification.cancel"),function(){notifications.remove(t);angular.isDefined(p)&&p()});t.addPromptAction($.i18n.prop("notification.no"),function(){notifications.clearNotifications();z(l)});x.isCourseOrOverrideChanged&&t.addPromptAction($.i18n.prop("notification.yes"),
function(){notifications.remove(t);C(l)});notifications.addNotification(t);notificationCenter.addNotification(t)}}]);process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("common").factory("utility",["$location","$filter","notificationCenterService","$q","$timeout","$state","$window",function(r,x,C,z,p,l){function t(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}return{showPageLoading:function(){$("#content").attr("aria-busy",!0);$("body").addClass("loading")},hidePageLoading:function(){$("#content").attr("aria-busy",!1);$("body").removeClass("loading")},getViewportWidth:t,getDeviceType:function(){var y=
t();return 768>=y?"MOBILE":1024<=y?"DESKTOP":"TAB"},getFormattedDate:function(y){var m=$.i18n.prop("js.datepicker.dateFormat");var v="";0<=m.indexOf("-")?v="-":0<=m.indexOf("/")?v="/":0<=m.indexOf(".")&&(v=".");if(0<=y.indexOf(v)){y=y.split(v);m=m.split(v);for(var D=0;D<m.length;D++)if(-1!==m[D].toLowerCase().indexOf("m")||-1!==m[D].toLowerCase().indexOf("d")){var P=D,W=y[D];W&&1===W.length&&(W="0"+W);y[P]=W}y=y.join(v)}return y},getApplicationHost:function(){var y=r.protocol(),m=r.host(),v=r.port(),
D="";null!=v&&"undefined"!=v&&(D=":"+v);return y+"://"+m+D},isNull:function(y){return null===y},isUndefined:function(y){return void 0===y},isEmpty:function(y){return _.isEmpty(y)},isUndefinedOrNull:function(y){return this.isUndefined(y)||this.isNull(y)},getParameterByName:function(y,m){m||(m=window.location.href);y=y.replace(/[\[\]]/g,"\\$&");return(y=(new RegExp("[?&]"+y+"(=([^&#]*)|&|#|$)","i")).exec(m))?y[2]?decodeURIComponent(y[2].replace(/\+/g," ")):"":null},removeSearchString:function(){"final.details"===
p.current.name?(angular.element(angular.element(document).find("input.simple-input-field")[1]).val(""),angular.element(angular.element(document).find("input.simple-input-field")[2]).val("")):angular.element(angular.element(document).find("input.simple-input-field")[1]).val("")},ajaxErrorHandler:function(y,m,v){m="";switch(y.status){case 302:window.location=y.getResponseHeader("Location");break;case 500:var D=new Notification({message:$filter("i18n")("js.net.hedtech.banner.ajax.error.message",[y.statusText]),
type:"error"});D.addPromptAction($filter("i18n")("js.net.hedtech.banner.ajax.reload.button"),function(){window.location.reload()});notifications.addNotification(D);break;case 403:D=new Notification({message:$filter("i18n")("js.net.hedtech.banner.ajax.error.message",[y.statusText]),type:"error"});D.addPromptAction($filter("i18n")("js.net.hedtech.banner.ajax.reload.button"),function(){window.location.reload()});D.addPromptAction($filter("i18n")("js.net.hedtech.banner.ajax.continue.button"),function(){notifications.remove(D)});
notifications.addNotification(D);break;default:try{m=y.data.message?y.data.message:$filter("i18n")("ajax.unexpected.response.error.message")}catch(P){m=$filter("i18n")("ajax.unexpected.response.error.message")}x.clearNotifications();x.displayNotifications(m,"error",!1)}},breadcrumb:function(y,m){if(m&&m.data&&m.data.breadcrumb){var v={};m.data.pageTitle&&(v.pageTitle=$filter("i18n")(m.data.pageTitle));if(m.data.breadcrumb){v.breadcrumb=m.data.breadcrumb;y={};for(var D=0;D<m.data.breadcrumb.length;D++){var P=
m.data.breadcrumb[D];if(P.label){var W=P.url||"";y[$filter("i18n")(P.label)]=W}}v.breadcrumb=y;z(function(){BreadCrumbAndPageTitle.draw(v)},0)}}},highlightRow:function(y,m){angular.forEach(y,function(v){v.selected&&(v.selected=!1)});y.length&&($filter("filter")(y,{id:m.id})[0].selected=!0)},redirectAdvisingProfile:function(y){var m=bootstraps.configs.mepCode?bootstraps.configs.mepCode:"all";l.open(encodeURI(bootstraps.configs.studentProfileUrl+"?term="+y.termCode+"&studentId="+y.bannerId+("all"===
m?"":"&mepCode="+m)),"_blank")},courseHeaders:function(y){var m=[{position:{mobile:9,desktop:1},name:"gradedStatus",title:$filter("i18n")("courseDetail.header.status"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},{position:{mobile:8,desktop:2},name:"rolledStatus",title:$filter("i18n")("courseDetail.header.rolled"),width:"15%",options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,
tab:!0,desktop:!0},tab:["final"]},{position:{mobile:4,desktop:3},name:"subject",title:$filter("i18n")("courseDetail.header.subject"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},{position:{mobile:6,desktop:4},name:"courseNumber",title:$filter("i18n")("courseDetail.header.course"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},
{position:{mobile:5,desktop:5},name:"sequenceNumber",title:$filter("i18n")("courseDetail.header.section"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},{position:{mobile:1,desktop:6},name:"courseTitle",title:$filter("i18n")("courseDetail.header.title"),width:"20%",options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},{position:{mobile:3,
desktop:8},name:"term",title:$filter("i18n")("courseDetail.header.term"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},{position:{mobile:7,desktop:9},name:"courseReferenceNumber",title:$filter("i18n")("courseDetail.header.crn"),width:"10%",options:{visible:!0,sortable:!0,ascending:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","gradebook"]},{position:{mobile:2,
desktop:10},name:"ellipsis",title:"",options:{visible:!0,sortable:!1,actionOrStatus:!0,columnShowHide:!1},display:{mobile:!0,tab:!0,desktop:!1},tab:["midterm","final","gradebook"]},{position:{mobile:9,desktop:8},name:"button",title:"",options:{visible:!0,sortable:!0,actionOrStatus:!0,columnShowHide:!1},display:{mobile:!0,tab:!1,desktop:!1},tab:["midterm","final","gradebook"]}];return $filter("filter")(m,{tab:y})},studentRosterHeaders:function(y){var m=!1;"Y"===bootstraps.configs.displayLastAttendedHours&&
(m=!0);m=[{position:{mobile:1,desktop:1},name:"personFullName",title:$filter("i18n")("courseRosterView.grid.header.FullName"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","incomplete"]},{position:{mobile:3,desktop:2},name:"bannerId",title:$filter("i18n")("courseRosterView.grid.header.Id"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final","incomplete"]},
{position:{mobile:4,desktop:2},name:"gradeMidTerm",title:$filter("i18n")("courseRosterView.grid.header.MidtermGrade"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final"]},{position:{mobile:5,desktop:3},name:"grade",title:$filter("i18n")("courseRosterView.grid.header.FinalGrade"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["final"]},{position:{mobile:5,desktop:3},name:"grade",
title:$filter("i18n")("courseRosterView.grid.header.Grade"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["incomplete"]},{position:{mobile:5,desktop:3},name:"gradeIncompleteFinal",title:$filter("i18n")("courseRosterView.grid.header.IncompleteFinalGrade"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["incomplete"]},{position:{mobile:6,desktop:4},name:"rolled",title:$filter("i18n")("courseRosterView.grid.header.Rolled"),
options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!1},display:{mobile:!0,tab:!0,desktop:!0},tab:["final","incomplete"]},{position:{mobile:7,desktop:5},name:"incompleteExtDate",title:$filter("i18n")("courseRosterView.grid.header.ExtensionDate"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["incomplete"]},{position:{mobile:8,desktop:6},name:"incompleteDataOverType",title:$filter("i18n")("courseRosterView.grid.header.ExtensionDateConstraints"),
options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!1},display:{mobile:!0,tab:!0,desktop:!0},tab:["incomplete"]},{position:{mobile:7,desktop:5},name:"lastAttendance",title:$filter("i18n")("courseRosterView.grid.header.LastAttendDate"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0},tab:["midterm","final"]},{position:{mobile:8,desktop:6},name:"attendanceHour",title:$filter("i18n")("courseRosterView.grid.header.AttendedHours"),options:{visible:!0,
sortable:!0,columnShowHide:!0,disable:!1},display:{mobile:m,tab:m,desktop:m},tab:["midterm","final"]},{position:{mobile:2,desktop:7},name:"ellipsis",title:"",options:{visible:!0,sortable:!1,actionOrStatus:!0,columnShowHide:!1},display:{mobile:!0,tab:!0,desktop:!1},tab:["midterm","final","incomplete"]}];return $filter("filter")(m,{tab:y})},searchConfig:function(){return{label:$filter("i18n")("courseDetail.search.placeholder"),startCount:2,noDataMsg:$filter("i18n")("courseDetails.search.noResult")}},
decodeHTML:function(y){if(this.isUndefinedOrNull(y))return y;var m=document.createElement("div");m.innerHTML=y;return 0===m.childNodes.length?"":m.childNodes[0].nodeValue},paginationConfig:function(){return{pageLengths:[5,10,25,50,100],paginate:!0,offset:parseInt(bootstraps.configs.recPerMasterGrid,10),continuousScrolling:!1,perPageLabel:$filter("i18n")("pagination.perPage"),pageLabel:$filter("i18n")("pagination.page"),ofLabel:$filter("i18n")("pagination.of"),recordsFoundLabel:$filter("i18n")("pagination.recordsFound")}},
paginationConfigForStudentRoster:function(){return{pageLengths:[5,10,25,50,100],paginate:!0,offset:parseInt(bootstraps.configs.recPerChildGrid,10),continuousScrolling:!1,perPageLabel:$filter("i18n")("pagination.perPage"),pageLabel:$filter("i18n")("pagination.page"),ofLabel:$filter("i18n")("pagination.of"),recordsFoundLabel:$filter("i18n")("pagination.recordsFound")}},studentCardConfig:function(){return{isStudentCardEnabled:!1,isAnonymous:!1,isDeviceTypeDesktop:"DESKTOP"===this.getDeviceType()?!0:
!1,isDisplayProfileProcActive:bootstraps.configs.isDisplayProfileProcActive}},componentHeader:function(){return[{position:{mobile:1,desktop:1},name:"name",title:$filter("i18n")("gradeComponentView.grid.text.name"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:3,desktop:2},name:"description",title:$filter("i18n")("gradeComponentView.grid.text.description"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,
tab:!0,desktop:!0}},{position:{mobile:4,desktop:3},name:"weight",title:$filter("i18n")("gradeComponentView.grid.text.weight"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:5,desktop:4},name:"gradeScale",title:$filter("i18n")("gradeComponentView.grid.text.gradeScale"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:6,desktop:5},name:"mustPass",title:$filter("i18n")("gradeComponentView.grid.text.mustPass"),
options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:7,desktop:6},name:"inclusionIndicator",title:$filter("i18n")("gradeComponentView.grid.text.includedIn"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:8,desktop:7},name:"gradesRemaining",title:$filter("i18n")("gradeComponentView.grid.text.gradesRemaining"),options:{visible:!0,sortable:!1,columnShowHide:!0,disable:!0},
display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:9,desktop:8},name:"dueDate",title:$filter("i18n")("gradeComponentView.grid.text.dueDate"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:10,desktop:9},name:"button",title:"",options:{visible:!0,sortable:!0,actionOrStatus:!0,columnShowHide:!1},display:{mobile:!0,tab:!1,desktop:!1}},{position:{mobile:2,desktop:10},name:"ellipsis",title:"",options:{visible:!0,sortable:!1,actionOrStatus:!0,
columnShowHide:!1},display:{mobile:!0,tab:!0,desktop:!1}}]},componentsMobileConfig:function(){return{gradedStatus:3,subject:3,courseNumber:2,sequenceNumber:2,courseTitle:3,term:3,courseReferenceNumber:2,ellipsis:1,button:4}},componentStudentRoster:function(){return[{position:{mobile:1,desktop:1},name:"studentFullName",title:$filter("i18n")("compositeGradeView.grid.text.studentName"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:3,
desktop:2},name:"bannerId",title:$filter("i18n")("componentGradeRosterView.grid.text.id"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:4,desktop:3},name:"score",title:$filter("i18n")("componentGradeRosterView.grid.text.marks"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:5,desktop:4},name:"totalScore",title:$filter("i18n")("componentGradeRosterView.grid.text.outOf"),
options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!1},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:6,desktop:5},name:"percentage",title:$filter("i18n")("componentGradeRosterView.grid.text.percent"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!1},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:7,desktop:6},name:"grade",title:$filter("i18n")("componentGradeRosterView.grid.text.grade"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,
tab:!0,desktop:!0}},{position:{mobile:8,desktop:7},name:"rolled",title:$filter("i18n")("componentGradeRosterView.grid.text.rolled"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!1},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:9,desktop:8},name:"completedDate",title:$filter("i18n")("componentGradeRosterView.grid.text.submissionDate"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:10,desktop:9},name:"extensionDate",
title:$filter("i18n")("componentGradeRosterView.grid.text.extensionDate"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:11,desktop:10},name:"currentReason",title:$filter("i18n")("componentGradeRosterView.grid.text.reason"),options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:12,desktop:11},name:"comment",title:$filter("i18n")("componentGradeRosterView.grid.text.comment"),
options:{visible:!0,sortable:!0,columnShowHide:!0,disable:!0},display:{mobile:!0,tab:!0,desktop:!0}},{position:{mobile:13,desktop:12},name:"updateComposite",title:"gradebook.components"===p.current.name?$filter("i18n")("wizard.export.component.title.updateComposite"):$filter("i18n")("wizard.export.subComponent.title.updateComponent"),display:{mobile:!0,tab:!0,desktop:!0},options:{visible:!1,sortable:!0,columnShowHide:!0,disable:!0}},{position:{mobile:2,desktop:12},name:"ellipsis",title:"",options:{visible:!0,
sortable:!1,actionOrStatus:!0,columnShowHide:!1},display:{mobile:!0,tab:!0,desktop:!1}}]},uniqueArrayList:function(y,m){var v=[],D=[];angular.forEach(y,function(P){var W=P[m];-1===D.indexOf(W)&&(D.push(W),v.push(P))});return v},isBrowserSafari:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?!0:!1},isBrowserInternetExplorer:function(){return-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")?!0:!1}}}]);angular.module("common").factory("$debounce",
["$rootScope","$browser","$q","$exceptionHandler",function(r,x,C,z){function p(m,v,D){var P=C.defer(),W=P.promise,I=angular.isDefined(D)&&!D,S=!1;angular.forEach(t,function(L,Z){angular.equals(t[Z].fn,m)&&(S=!0,N=Z)});if(S)l[t[N].timeoutId].reject("bounced"),x.defer.cancel(t[N].timeoutId);else{var N=y++;t[N]={fn:m}}v=x.defer(function(){delete t[N];try{P.resolve(m())}catch(L){P.reject(L),z(L)}I||r.$apply()},v);t[N].timeoutId=v;D=function(L){delete l[W.$$timeoutId]};W.$$timeoutId=v;l[v]=P;W.then(D,
D);return W}var l={},t={},y=0;p.cancel=function(m){return m&&m.$$timeoutId in l?(l[m.$$timeoutId].reject("canceled"),x.defer.cancel(m.$$timeoutId)):!1};return p}])})();process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("common").factory("PageLoadingForAjaxInterceptor",["$q","$rootScope","utility","Config",function(r,x,C,z){function p(l,t){var y=z.get("AJAX_LOADING_IMAGE_IGNORE_LIST");l=l.url;y&&(/.html|.htm/.test(l)||(new RegExp(y.join("|"))).test(l))||("request"===t&&(x.ActiveAjaxConections+=1,1===x.ActiveAjaxConections&&C.showPageLoading()),"response"===t&&--x.ActiveAjaxConections,0>=x.ActiveAjaxConections&&(x.ActiveAjaxConections=0,C.hidePageLoading()))}x.ActiveAjaxConections=0;return{request:function(l){p(l,
"request");return l},requestError:function(l){p(l.config,"request");return r.reject(l)},response:function(l){p(l.config,"response");return l},responseError:function(l){p(l.config,"response");403===l.status&&(window.location.href="/login/denied");return r.reject(l)}}}])})();process=process||{env:{NODE_ENV:"development"}};
angular.module("common").service("navigationmanagerService",["$filter","$rootScope",function(r,x){this.displayNavWarningNotification=function(C,z,p,l,t){var y=new Notification({message:r("i18n")("notification.common.unsaved_changes"),type:"warning",flash:!1});y.addPromptAction($.i18n.prop("notification.cancel"),function(){notifications.remove(y);angular.isDefined(p)&&p()});y.addPromptAction($.i18n.prop("notification.no"),function(){notifications.clearNotifications();z(l)});t&&y.addPromptAction($.i18n.prop("notification.yes"),
function(){notifications.remove(y);C(l)});notifications.addNotification(y);notificationCenter.addNotification(y)}}]);process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("common").controller("paymentAddressController",["$rootScope","$scope","$state","$filter","$sessionStorage","$timeout","paymentService","paymentEPSService",function(r,x,C,z,p,l,t,y){x.isObjectNullOrEmpty=function(m){return!m||0===Object.keys(m).length};x.backButton=function(){r.disableSubmitButton=!1;C.go("^",{},{reload:!0})};x.continueButton=function(){notifications.clearNotifications();x.paymentAddressFormData=p.requestDataForPaymentAddress;x.paymentAddressFormData.house_no_fetch=
x.houseNumber;x.paymentAddressFormData.address1_in=x.streetAddress;x.paymentAddressFormData.city_in=x.city;x.paymentAddressFormData.zip_in=x.zip;x.paymentAddressFormData.state_in=x.stateList.selected?x.stateList.selected.code:"";x.paymentAddressFormData.natn_in=x.nationList.selected?x.nationList.selected.code:"";var m=$.i18n.prop("studentPages.common.process_payment.street_address_city.error_message");x.paymentAddressFormData.address1_in&&x.paymentAddressFormData.city_in||(notifications.addNotification(new Notification({message:m,
type:"error",component:$("#streetAddressId")})),$(".notification-center-count").find("span").attr("aria-hidden","true"));notifications.hasErrors()||t.fetchPaymentUrl(x.paymentAddressFormData).then(function(v){if(v.data.failure)v=new Notification({message:v.data.message,type:"error",flash:!0}),notifications.addNotification(v);else{notifications.clearNotifications();var D=v.data.url;if(null!=D){var P=D.indexOf("TransactionId=")+14,W=D.indexOf("&TransactionAmount=");D=D.substring(P,W);p.transaction_id=
decodeURIComponent(D)}v.data.pciEnabled?window.location.href=v.data.url:v.data.epsEnabled?y.sendEPSForm(v.data,{termCode:p.requestDataForPaymentAddress.term,amount:p.requestDataForPaymentAddress.amount}):window.open(v.data.url,"_blank");r.isDirty=!1}})};l(function(){angular.element("#houseNumberAddress").find("input").focus()},100);x.stateSelectionDropdown=function(){l(function(){angular.element("#stateDropdown").find("input")[1].focus()},100)};x.nationSelectionDropdown=function(){l(function(){angular.element("#nationDropdown").find("input")[1].focus()},
100)};(function(){var m={};m.select=z("i18n")("studentPages.common.text.select");m.house_number_label=z("i18n")("studentPages.common.process_payment.house_number.label");m.street_address_label=z("i18n")("studentPages.common.process_payment.street_Address.label");m.city_label=z("i18n")("studentPages.common.process_payment.city.label");m.state_or_province_label=z("i18n")("studentPages.common.process_payment.state.label");m.zip_or_postal_code_label=z("i18n")("studentPages.common.process_payment.zip.label");
m.nation_label=z("i18n")("studentPages.common.process_payment.nation.label");x.texts=m;x.paymentAddressMap=p.paymentAddressMap;x.stateList=x.paymentAddressMap.stateList;x.stateList.selected={code:"",description:""};x.nationList=x.paymentAddressMap.nationList;x.nationList.selected={code:"",description:""}})()}])})();process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("common").service("paymentService",["$http",function(r){this.fetchPaymentAddress=function(){return r.get("../ssb/studentPagesCreditCardPayment/paymentAddress")};this.fetchPaymentUrl=function(x){return r.get("../ssb/studentPagesCreditCardPayment/paymentURL",{params:x})}}])})();process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("common").service("signatureService",["$http","$location",function(r,x){this.fetchSignatureInfo=function(C){return r.get("../ssb/requestPrintedTranscript/signatureInformation",{params:C})};this.signaturePage=function(C){return r.get("../ssb/graduationApplication/signaturePage",{params:{transaction_id:C.transaction_id}})};this.enrollmentSignaturePage=function(C){return r.get("../ssb/enrollmentVerificationRequest/signaturePage",{params:{transaction_id:C.transaction_id}})}}])})();
process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("common").service("paymentEPSService",["$http","$resource",function(r,x){this.getEpsConfiguration=function(){return x("eps/getEpsConfiguration",{},{query:{method:"GET"}}).query()};this.setPaymentTransaction=function(p){return x("eps/setPaymentTransaction",{},{save:{method:"POST",params:p}}).save()};this.sendEPSForm=function(p,l){var t=C(p),y="",m=z("originalAmt"),v=z("transactionId"),D=z("createdBy"),P=z("studentFirstName"),W=z("studentLastName"),I=z("studentID"),S=z("studentEmail"),
N=z("transactionTerm"),L=z("studentGUID"),Z=z("callbackUrl");t.appendChild(m);t.appendChild(v);t.appendChild(D);t.appendChild(P);t.appendChild(W);t.appendChild(I);t.appendChild(S);t.appendChild(N);t.appendChild(L);t.appendChild(Z);!l&&(null==p?0:p.epsAccountType)&&(l={amount:null,termCode:null});l.accountType=null==p?void 0:p.epsAccountType;l.moduleCode=(null==p?0:p.epsModuleCode)?null==p?void 0:p.epsModuleCode:"";this.setPaymentTransaction(l).$promise.then(function(w){if(w.failure)return w=new Notification({message:w.message,
type:"error",flash:!0}),notifications.addNotification(w),!1;m.setAttribute("value",w.transactionOriginalAmount);v.setAttribute("value",w.transactionIdentifier);D.setAttribute("value",w.transactionCreatedBy);P.setAttribute("value",w.transactionFN);W.setAttribute("value",w.transactionLN);I.setAttribute("value",w.transactionID);S.setAttribute("value",w.transactionMail);N.setAttribute("value",w.transactionTerm);L.setAttribute("value",w.transactionGUID);Z.setAttribute("value",window.location.href);var fa=
new URL(window.location.href);fa=fa.pathname+fa.search+fa.hash;CommonContext.integratedWithExperience?(y=(null==p?0:p.epsAccountType)?"AR":"Non-AR",Messenger.send(BannerExperienceIntegration.utf8Encode(JSON.stringify(customMessage("navigateToExtension",{paymentType:y,data:{clientId:p.epsClientId,client:p.epsClient,originalAmt:w.transactionOriginalAmount.toString(),transactionId:w.transactionIdentifier,createdBy:w.transactionCreatedBy,studentFirstName:w.transactionFN,studentLastName:w.transactionLN,
studentID:w.transactionID,studentEmail:w.transactionMail?w.transactionMail:"",transactionTerm:w.transactionTerm?w.transactionTerm:"",studentGUID:w.transactionGUID,callbackUrl:fa},operation:"payment",extension:{publisher:"Ellucian",type:"EPSPaymentInitiatorCard",extensionName:"EPS Payment Initiator"}}))))):(document.body.appendChild(t),document.forms["eps-form"].submit())})};var C=function(p){var l=document.createElement("form");l.setAttribute("id","eps-form");l.setAttribute("method","post");l.setAttribute("action",
p.epsURL+"?type="+p.epsURLParamType+"&tenantId="+p.epsEthosTenantId);l.setAttribute("name","eps");l.setAttribute("style","display:none");var t=document.createElement("input");t.setAttribute("type","hidden");t.setAttribute("name","clientId");t.setAttribute("value",p.epsClientId);var y=document.createElement("input");y.setAttribute("type","hidden");y.setAttribute("name","client");y.setAttribute("value",p.epsClient);var m=document.createElement("input");m.setAttribute("type","hidden");m.setAttribute("name",
"transactionType");m.setAttribute("value",p.epsAccountType);l.appendChild(t);l.appendChild(y);l.appendChild(m);return l},z=function(p){var l=document.createElement("input");l.setAttribute("type","hidden");l.setAttribute("name",p);return l}}])})();process=process=process=process||{env:{NODE_ENV:"development"}};
(function(){var r=angular.module("studentCommon",[]);r.directive("xeTable",function(){return{restrict:"A",compile:function(x,C){x.addClass("xe-table");angular.isDefined(C.type)&&x.addClass("xe-table-type-"+C.type);$(x).attr("role","table");angular.isDefined(C.xeTable)&&"responsive"===C.xeTable&&x.addClass("xe-table-xs")}}});r.directive("xeCheckbox",function(){return{restrict:"E",compile:function(x,C){C.hasOwnProperty("xeLabelHidden")&&x.find("label").css({border:"0",clip:"rect(0 0 0 0)",height:"1px",
margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"})}}});r.directive("xeColXs",["$compile","$timeout",function(x,C){return{restrict:"A",compile:function(){return{post:function(z,p,l){var t=p.closest(".xe-table.xe-table-xs"),y;"responsive"===t.attr("xe-table")&&C(function(){if(angular.isDefined(l.colText))y=l.colText;else if(t.length){var m=angular.isDefined(l.colIndex)||p.parent().children().index(p);y=t.find("thead tr th:nth-child("+(m+1)+")").html()}y&&(m='<div class="xe-col-xs clearfix visible-xs">'+
y+"</div>",p.prepend(m),x(m)(z))})}}}}}]);r.directive("xeColXsDegreeEvaluation",["$compile","$timeout",function(x,C){return{restrict:"A",compile:function(){return{post:function(z,p,l){var t=p.closest(".xe-table.xe-table-xs"),y;"responsive"===t.attr("xe-table")&&C(function(){if(t.length){var m=angular.isDefined(l.colIndex)||p.parent().children().index(p);y=(y=t.find("thead tr th:nth-child("+(m+1)+")").html())?y:t.find("tr th:nth-child("+(m+1)+")").html()}y&&($(p).is("th")||$(p).hasClass("dddead")?
$(p).hasClass("ddlabel")||$(p).hasClass("ddheader")||$(p).hasClass("dddead"):(m='<div class="xe-col-xs clearfix visible-xs">'+y+"</div>",p.prepend(m),x(m)(z)))})}}}}}]);r.directive("handleEmpty",["$timeout","$filter",function(x,C){return{restrict:"A",link:function(z,p,l){p.css("min-height","22px");x(function(){p.clone().children(":not(font)").remove().end().text().trim()||p.append('<span class="empty" aria-label="'+C("i18n")("studentPages.degree_evaluation.view_evaluations.grid_cell.empty.data_arialabel")+
'">'+C("i18n")("studentPages.degree_evaluation.view_evaluations.grid_cell.empty.data")+"</span>")},50)}}}]);r.directive("xeExpandCollpaseComments",function(){return{restrict:"E",scope:{listOfComments:"=",showMoreText:"=",showLessText:"="},template:'<div id="comment-wrapper" ng-init="toggle=false">\n        <div class="comment" aria-label="{{comment}}" ng-show="toggle || ($index === 0)" ng-repeat="comment in listOfComments track by $index" ng-bind="comment"></div>\n        <a class="more-text" ng-show="listOfComments.length>1" href="javascript:void(0);" ng-click="toggle=!toggle" role="link" ng-bind="!toggle ? showMoreText : showLessText "></a>\n    </div>'}});
r.directive("xeSmartNavigation",["$compile","$timeout",function(x,C){return{restrict:"E",scope:{navigationList:"="},controller:["$scope",function(z){z.scrollToSection=function(p,l){p=l?p:p.code;document.getElementById(p).scrollIntoView(!0);$("#content").position();$("#"+p).position()}}],template:'<section class="smartNavigationSection">\n        <div class="sticky">\n            <ul id="smartNavigation" class="nav" role="tablist">\n                <li tabindex="0" class="{{navItem.code}}" role="tab" href="javascript:void(0);" ng-repeat="navItem in navigationList" ng-bind="navItem.description" data-attributes="{{navItem.code}}" ng-click="scrollToSection(navItem, false)" ></li>\n            </ul>\n        </div>\n    </section>',
compile:function(){return{post:function(z,p,l){function t(){var y=$("div#mainSectionScroll").find("section.smart-nav-tab"),m=[];$("ul#smartNavigation li").removeClass("active-smart-nav");y.each(function(D,P){m.push($(P).offset().top)});var v=m.reduce(function(D,P,W){return Math.abs(P-0)<Math.abs(D-0)?P:D});v=m.indexOf(v);y=$(y[v]).attr("id");$("ul#smartNavigation li."+y).addClass("active-smart-nav");$("ul#smartNavigation li").removeAttr("aria-selected").attr("aria-selected",!1);$("ul#smartNavigation li.active-smart-nav").removeAttr("aria-selected").attr("aria-selected",
!0)}C(function(){var y=$("div.sticky").offset().top,m="";$("#content").scroll(function(){var v=$("div.sticky");$("#content").scrollTop()+100>=y?(v.addClass("smart-navigation-fixed"),v=parseInt($("#content").offset().top)+"px",$("div.sticky").css("top",v)):($("div.sticky").css("top",null),v.removeClass("smart-navigation-fixed"));m!==angular.element("ul#smartNavigation li:last").attr("data-attributes")&&t();m=""});angular.element("ul#smartNavigation li:first").addClass("active-smart-nav");angular.element("ul#smartNavigation li:first").attr("aria-describedby",
"student_info");angular.element("ul#smartNavigation li").removeAttr("aria-selected").attr("aria-selected",!1);angular.element("ul#smartNavigation li.active-smart-nav").removeAttr("aria-selected").attr("aria-selected",!0);angular.element(p).find("ul#smartNavigation li").bind("keydown",function(v){var D=$(v.target).attr("data-attributes");if(13===v.keyCode||32===v.keyCode){z.scrollToSection(D,!0);$("ul#smartNavigation li").removeClass("active-smart-nav");$("ul#smartNavigation li").removeAttr("aria-describedby");
var P=$("."+D);P.addClass("active-smart-nav");P.focus();$(v.target).attr("aria-describedby",D);m=D;v.preventDefault();v.stopPropagation()}})},300)}}}}}]);r.directive("studentNumberOnly",["$timeout",function(x){return{restrict:"A",link:function(C,z,p){x(function(){var l="input#"+p.id;l=$(z[0]).find(l);l.attr("min",1);l.attr("max",99)},10)}}}]);r.directive("filterAllOtherCharacters",["$timeout",function(x){return{restrict:"A",link:function(C,z,p){x(function(){var l=$(z).find("input:first"),t,y;p.xeValidate=
function(m,v,D){m&&1<m.split(".").length?(t=m.split(".")[0],y=m.split(".")[1],v=v.replace(/[^\d,]/g,""),C[t][y]=v):(v=v.replace(/[^\d,]/g,""),C[m]=v);D&&$("#"+D).val(v)};$(l).on("keyup change focusout focus",function(m){m=p.xeName;var v=$(p.$$element).find("input:first");v=$(v).val();p.xeValidate(m,v,p.xeId)})},10)}}}]);r.directive("disableAutoComplete",["$timeout",function(x){return{restrict:"A",link:function(C,z,p){x(function(){var l=$(z).find("input:first");l.attr("autocomplete","new-password");
p&&p.xeMaxlength&&l.attr("maxlength",p.xeMaxlength)},10)}}}]);r.directive("setMaxCharacterLimit",["$timeout",function(x){return{restrict:"A",link:function(C,z,p){x(function(){var l=$(z).find("input:first");$(l).on("keyup change focusout focus paste",function(t){t=$(l).val();if(0<t.length){var y=parseInt(p.xeMaxLength);t=t.substring(0,y);p.ngModel?p.ngModel=t:$(l).val(t)}})},10)}}}]);r.directive("toggleAccordion",["$timeout","$sessionStorage",function(x,C){return{restrict:"A",link:function(z,p){x(function(){z.curriculumInformation=
C.studentGraduateAppData.curriculumInformation;$(p).find("header.section-header").bind("click keydown",function(l){if(13===l.which||"click"===l.type)$(l.currentTarget).hasClass("accordion-hide")?$(l.currentTarget).removeClass("accordion-hide").parent().find(".section-content").slideUp():$(l.currentTarget).addClass("accordion-hide").parent().find(".section-content").slideDown(),$(l.currentTarget).focus(),l.preventDefault(),l.stopPropagation()})},10);$(p).find("header.section-header").parent().find(".section-content").hide()}}}]);
r.directive("toggleAccordionCommon",["$timeout",function(x){return{restrict:"A",link:function(C,z){x(function(){$(z).find("header.section-header").bind("click keydown",function(p){if(13===p.which||"click"===p.type)return $(p.currentTarget).hasClass("accordion-hide")?$(p.currentTarget).removeClass("accordion-hide").parent().find(".section-content").show(500):$(p.currentTarget).addClass("accordion-hide").parent().find(".section-content").hide(500),$(p.currentTarget).focus(),p.preventDefault(),p.stopPropagation(),
!1})},10)}}}]);r.directive("xeSort",["$timeout",function(x){return{restrict:"A",compile:function(C){C.find("[xe-sort-data]").attr("tabindex","0");C.find("[xe-sort-data]").addClass("xe-sort-data");C.find("[xe-sort-data]").attr("aria-sort","none");return{post:function(z,p){z.propertyName=null;z.reverse=!1;x(function(){p.find("th.xe-sort-data").append('<div class="arrow-up-down"></div>')});p.on("click",".xe-sort-data",function(l){l=angular.element(l.currentTarget);z.propertyName=l.attr("xe-sort-data");
p.find(".xe-sort-data").not(l).removeClass("sort-down");p.find(".xe-sort-data").not(l).removeClass("sort-up");p.find(".xe-sort-data").not(l).attr("aria-sort","none");l.hasClass("sort-down")?(l.removeClass("sort-down"),l.addClass("sort-up"),l.attr("aria-sort","ascending"),z.reverse=!1,z.$emit("xeSort",{ascending:!0})):l.hasClass("sort-up")?(l.removeClass("sort-up"),l.addClass("sort-down"),l.attr("aria-sort","descending"),z.reverse=!0,z.$emit("xeSort",{ascending:!1})):(l.addClass("sort-up"),l.attr("aria-sort",
"ascending"),z.reverse=!1,z.$emit("xeSort",{ascending:!0}));z.$apply()});p.on("keydown",".xe-sort-data",function(l){var t=angular.element(l.currentTarget);13===l.which?(t.click(),l.preventDefault(),l.stopPropagation()):37===l.which?t.prev().hasClass("xe-sort-data")?t.prev().focus():t.siblings(".xe-sort-data").last().focus():39===l.which&&(t.next().hasClass("xe-sort-data")?t.next().focus():t.siblings(".xe-sort-data").first().focus())})}}}}}]);r.directive("loadOnScroll",["$parse",function(x){return function(C,
z,p){var l;z="tbody"===p.loadOnScroll?z.find("tbody"):p.loadOnScroll?angular.element("#"+p.loadOnScroll):z;var t=z[0];p.limitTo?C[p.limit||"limit"]=parseInt(p.limitTo):l=x(p.loadMore);z.bind("scroll",_.throttle(function(){0<t.scrollTop&&t.scrollTop+t.offsetHeight>=t.scrollHeight-200&&(p.limitTo&&(C[p.limit||"limit"]+=parseInt(p.limitTo)),p.loadMore&&l(C),C.$apply())},300))}}]);r.directive("xeFixedHeaderTable",["$timeout","$window","$filter",function(x,C,z){return{restrict:"A",compile:function(p){if(p.is("table"))return p.css({"border-collapse":"collapse",
"overflow-x":"auto","overflow-y":"hidden",display:"block"}),p.find("thead, tbody, tfoot").css({display:"block"}),p.find("tbody").css({"overflow-x":"hidden","overflow-y":"auto","max-height":"calc(100vh - 100px)"}),{post:function(l,t,y){function m(ca,oa){return void 0===oa?ca.scrollLeft():ca.scrollLeft(oa)}function v(ca,oa){return void 0===oa?ca[0].scrollWidth-(ca.scrollLeft()+ca.innerWidth()):ca.scrollLeft(ca[0].scrollWidth-ca.innerWidth()-oa)}function D(){if(!(767>=C.innerWidth)){t.find("tr[xe-sort]").length&&
t.find("thead th, tbody td, tfoot td").attr("style",L?"padding-right: 1.5em":"padding-left: 1.5em");var ca=0,oa=l.$eval(y.xeFixedHeaderTable),T=t.find("thead th"),ea=t.innerWidth(),qa=t.find("tfoot td[colspan]"),xa,ja,V,ha,Ca;angular.isArray(oa)?oa=oa.map(function(na){return ea*na/100}):angular.isNumber(oa)&&(oa=Array(T.length).map(function(){return ea*oa/100}));angular.forEach(T,function(na,za){na=angular.element(na);xa=0;ja=t.find('tbody td[data="'+na.attr("data")+'"], tfoot td[data="'+na.attr("data")+
'"]');oa&&angular.isNumber(oa[za])?xa=oa[za]-(na.innerWidth()-na.width()):(V=na.width(),ha=P(ja),xa=V>ha?V:ha);za+1===T.length&&ca+xa<ea&&(xa=ea-ca-(na.innerWidth()-na.width()));ja.css({"min-width":xa+"px","max-width":xa+"px"});na.css({"min-width":xa+"px","max-width":xa+"px"});ca+=na.innerWidth()});angular.forEach(qa,function(na){na=angular.element(na);xa=0;Ca=na.attr("data").split("-");angular.forEach(Ca,function(za){ja=t.find('tbody td[data="'+za+'"]');xa+=P(ja,!0)});xa-=na.innerWidth()-na.width();
na.css({"min-width":xa+"px","max-width":xa+"px"})})}}function P(ca,oa){return Math.max.apply(Math,ca.map(function(){return oa?angular.element(this).innerWidth():angular.element(this).width()}).get())}function W(){if(!(767>=C.innerWidth)){t.find("tr[xe-sort]").length&&t.find("tbody td").attr("style",L?"padding-right: 1.5em":"padding-left: 1.5em");var ca,oa;angular.forEach(t.find("thead th"),function(T){T=angular.element(T);ca=T.width();oa=t.find('tbody td[data="'+T.attr("data")+'"], tfoot td[data="'+
T.attr("data")+'"]');oa.css({"min-width":ca+"px","max-width":ca+"px"})})}}function I(){N!==C.innerWidth&&(N=C.innerWidth,767>=N?S():767<N&&(S(),D()),l.$digest())}function S(){var ca={"min-width":"","max-width":""};ca[L?"padding-right":"padding-left"]="";t.find("thead th, tbody td, tfoot td").css(ca);t.find("> *").css({width:""})}var N,L="ltr"===z("i18n")("default.language.direction"),Z=0,w,fa=0;t.css({opacity:0});y.xeFixedHeaderTable&&t.find("tbody").children().length?(D(),t.css({opacity:""})):x(function(){D();
t.css({opacity:""})});l.$on("onFinishRender",function(){y.hasOwnProperty("xeVariableWidthCols")?x(function(){D();angular.element("body").removeClass("loading")}):y.hasOwnProperty("xeHasDynamicData")?x(function(){W()}):W()});t.on("scroll",function(){var ca=t.scrollLeft();fa!==ca&&(t.find("> tbody").css({"overflow-y":"hidden"}),Z=t.width()+(L?m(t):v(t)),Z<=t[0].scrollWidth&&t.find("> *").width(Z),window.clearTimeout(w),w=setTimeout(function(){t.find("> tbody").css({"overflow-y":"auto"})},200),fa=ca)});
angular.element(C).on("resize",I);l.$on("$destroy",function(){angular.element(C).off("resize",I)})}}}}}]);r.directive("xeAccordion",["$compile","$timeout",function(x,C){return{restrict:"EC",compile:function(z,p){"xe-accordion"===z.prop("tagName").toLowerCase()&&z.addClass("xe-accordion");if(p.hasOwnProperty("mobileOnly")||z.hasClass("mobile-only")){z.addClass("mobile-only");var l=' ng-if="MOBILE_VIEW"'}angular.forEach(z.find(".xe-accordion-hidden"),function(y){angular.element(y).hasClass("section-slide")&&
angular.element(y).height(0)});var t='<div class="arrow-up-down" ng-click="toggleAccordion()" '+l+">\n<button ng-class=\"toggle.flag ? 'arrow-up-black-img' : 'arrow-down-black-img'\" aria-expanded=\"{{toggle.flag}}\"></button>\n</div>";return{post:function(y,m){y.toggle={flag:!1};C(function(){var v=angular.element(t);"xe-accordion"===m.prop("tagName").toLowerCase()&&(m.css({position:"relative",display:"block"}),v.css({position:"absolute","z-index":"1",width:"100%"}),v.find("button").css({"background-size":"24px",
height:"24px",width:"24px"}));m.prepend(x(v)(y));m.hasClass("expand")&&y.toggleAccordion()});y.toggleAccordion=function(){y.toggle.flag=!y.toggle.flag;y.toggle.flag?m.addClass("expand"):m.removeClass("expand");angular.forEach(m.find(".xe-accordion-hidden"),function(v){if(angular.element(v).hasClass("section-slide")){var D=angular.element(v).attr("style"),P=angular.element(v).css({position:"absolute",visibility:"hidden",display:"block",height:"",width:"100%"}).height();angular.element(v).attr("style",
D?D:"");C(function(){angular.element(v).height(y.toggle.flag?P:0)})}})}}}}}}]);r.directive("onFinishRender",["$timeout",function(x){return{restrict:"A",compile:function(C){return{post:function(z,p){!0===z.$last&&z.$emit("onFinishRender")}}}}}]);r.directive("findElmAndApplyCss",["$timeout",function(x){return{restrict:"A",link:function(C,z,p){var l=p.findElmAndApplyCss,t=p.containerSelector;t?x(function(){$(t).addClass(l)},10):console.error("Please provide a container selector")}}}]);r.directive("findLastLineAndHide",
["$timeout",function(x){return{restrict:"A",link:function(C,z,p){var l=p.findLastLineAndHide||".line";x(function(){$(l).last().addClass("hide")},10)}}}]);r.directive("footerDetect",["$timeout",function(x){return{restrict:"A",link:function(C,z,p){var l=p.footerDetect||z;x(function(){$(document).find("footer.banner-footer:visible").length&&$(l).addClass("footer-visible")},10)}}}]);r.directive("uiSelectAccess",function(){return{scope:!0,link:function(x,C){C.bind("click",function(){$(C).find("input.ui-select-search").focus()});
C.find("input").bind("keydown",function(z){13!==z.keyCode&&40!==z.keyCode||setTimeout(function(){$(C).find("input.ui-select-search").focus()},100)})}}});r.directive("removeFocusOnTab",function(){return{scope:!0,link:function(x,C){C.bind("keydown",function(z){9===z.keyCode&&$(C).removeAttr("tabindex")})}}});r.directive("gridAnchorEvent",function(){return{scope:!0,restrict:"A",link:function(x,C){C.bind("focus",function(){$(C).find("span.sr-only").attr("aria-hidden","false")});C.bind("blur",function(){$(C).find("span.sr-only").attr("aria-hidden",
"true")})}}})})();process=process||{env:{NODE_ENV:"development"}};
(function(){var r=angular.module("academicTranscriptApp","ngResource ui.router ngSanitize common studentCommon I18n xe-ui-components extensibility".split(" "));r.config(["$httpProvider",function(x){x.defaults.headers.get=x.defaults.headers.get||{};x.defaults.cache=!1;x.defaults.headers.get["If-Modified-Since"]="0";x.defaults.headers.get["Cache-Control"]="no-cache";x.defaults.headers.get.Pragma="no-cache";x.defaults.headers.get.Expires="0"}]);r.config(["$stateProvider","$urlRouterProvider",function(x,
C){function z(p){if("URLSearchParams"in window)p=(new URLSearchParams(window.location.search)).get(p);else{var l={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,y,m){l[y]=m});p=l[p]}return p}C.otherwise("/:transcriptLevel/:transcriptType");x.state("home",{url:"/:transcriptLevel/:transcriptType",templateUrl:"../assets/ssb/academicTranscript/home/home.html",controller:"HomeController",resolve:{studentInfo:["transcriptService","$q",function(p,l){var t=l.defer();p.getStudentInfo({studentId:z("studentId"),
termCode:z("termCode")}).then(function(y){t.resolve(y.data)});return t.promise}],transcriptsOptions:["transcriptService","$q","appData","$stateParams",function(p,l,t,y){var m=l.defer();p.getAcademicTranscriptOptions().then(function(v){var D=v.data;t.transcriptsOptions=D;$(D.transcriptLevel).each(function(P,W){y.transcriptLevel===W.code&&(P={},P.code=W.code,P.description=W.description,t.transcriptsOptions.transcriptLevel.selected=P)});$(D.transcriptType).each(function(P,W){y.transcriptType===W.code&&
(P={},P.code=W.code,P.description=W.description,t.transcriptsOptions.transcriptType.selected=P,0<t.transcriptsOptions.errorList.length&&(t.transcriptsOptions.hasError=!1))});m.resolve(v.data)}).catch(function(){});return m.promise}]}}).state("home.maintenance",{url:"/maintenance",templateUrl:"../assets/ssb/academicTranscript/maintenance/maintenance.html",controller:"MaintenanceController",resolve:{viewAcademicTranscriptData:["transcriptService","$q","appData","$stateParams",function(p,l,t,y){var m=
l.defer();l="";"all"!==y.transcriptLevel&&(l=y.transcriptLevel);t.type=y.transcriptType;t.level=y.transcriptLevel;p.fetchAcademicTranscript(l,y.transcriptType).then(function(v){t.institutionCredit=v.data.institutionCredit;t.courseInProgress=v.data.courseInProgress;t.courseInProgressIndicator=v.data.courseInProgressIndicator;var D=v.data.studentInformation;t.totalTranscript=v.data.totalTranscript;t.viewStudentInformationData=D;t.viewDegreeGrantedData=v.data.degreeGranted;t.transferCreditData=v.data.viewtransferCreditData;
t.preSystemInstituteData=v.data.viewpresystemInstituteData;t.listOfNavigationItem=v.data.listOfNavigationItem;t.errorList=v.data.errorList;t.hasError=v.data.hasError;t.institutionName=v.data.institutionName;m.resolve(v.data)});return m.promise}]}})}]);r.constant("ROUTE_PREFIX","academicTranscript");r.run(["$rootScope","Config","ROUTE_PREFIX","BreadcrumbService",function(x,C,z,p){x.$on("$stateChangeSuccess",function(l,t,y,m,v){l=[];l.breadcrumb=[{label:"studentPages.breadcrumb.student"},{label:"studentPages.breadcrumb.academic_transcript"}];
l.pageTitle="studentPages.academicTranscript.page.title";p.draw(l,z)});x.$on("$stateChangeStart",function(){$("#content").attr("aria-busy",!0);$("body").addClass("loading")});x.$on("$viewContentLoaded",function(){$("#content").attr("aria-busy",!1);$("body").removeClass("loading")})}])})();process=process||{env:{NODE_ENV:"development"}};
window.StudentCard=Backbone.View.extend({initialize:function(r){this.width=400;this.height=126;this.addToTemplate;this.fillInAdditionalElements;r.addToTemplate&&(this.addToTemplate=r.addToTemplate);r.fillInAdditionalElements&&(this.fillInAdditionalElements=r.fillInAdditionalElements);r.triggerMouseEvents&&(this.isMouseInsidePopup=!1);this.options={data:{},container:$("body"),useOffset:!0,checkBoundaries:!0,bannerId:null,isConfidential:!1};$.extend(!0,this.options,r||{});this.render()},render:function(){0==
this.options.container.find("> .studentProfileCard").length?this.buildTemplate():this.node=this.options.container.find("> .studentProfileCard");this.node.attr("tabindex","0");this.attachListeners();return this},update:function(){var r=this;this.node.find(".studentMessage").html(this.options.msg);this.node.find("li").attr("aria-hidden",!0);var x=!1;this.node.find(".studentEmail a").attr("tabindex",-1);for(var C in this.options.data)if("photo"==C)this.node.find(".studentPhoto img").attr("src",this.options.data[C]);
else if("email"==C)this.node.find(".studentEmail a").attr("href","mailto:"+this.options.data[C]),this.node.find(".studentEmail a").text(this.options.data[C]),this.node.find("li.facultyEmail").attr("aria-hidden",!1),this.node.find("li.studentEmail").attr("aria-hidden",!1),x=!0,this.node.find(".studentEmail a").attr("tabindex",0);else if("address"==C){var z=this.options.data[C].split("&lt;br/&gt;"),p=$("<ul></ul>");_.each(z,function(l){p.append("<li>"+l+"</li>")});this.node.find(".address").html(p);
this.node.find(".address").attr("title",p);this.node.find("li.facultyAddress").attr("aria-hidden",!1)}else this.node.find("."+C).html(this.options.data[C]),this.node.find("."+C).attr("title",this.options.data[C]),this.node.find("li."+C).attr("aria-hidden",!1);this.fillInAdditionalElements&&this.fillInAdditionalElements(this.options.bannerId,this.options.data,this.node);C=!1;0<$("#student-profile-button").length&&(C=!0);z=".close";C?z="#student-profile-button":x&&(z=".studentEmail");r=this;this.node.find(".close").keydown(function(l){if(13==
l.keyCode)return r.node.find(".close").click(),l.preventDefault()});this.node.find(z).keydown(function(l){"9"!=l.keyCode||l.shiftKey||(r.node.focus(),l.stopPropagation(),l.preventDefault?l.preventDefault():l.returnValue=!1)})},buildConfigTemplate:function(){var r=this.options.config;this.node.find("span").append(this.options.msg);var x=this.node.find("div > ul"),C=this.node.find(".confidential");this.node.find(".studentPhoto img").attr("alt",$.i18n.prop("net.hedtech.banner.student.profile.StudentContactCard.studentPicutre"));
x.empty();var z="";this.options.isConfidential&&(z='<span class="confidential-shield">&nbsp;</span><span class="confidential-message">'+$.i18n.prop("net.hedtech.banner.student.profile.StudentContactCard.confidential")+"</span></li>");C.html(z);-1<r.indexOf("name")&&x.append('<li class="name"></li>');-1<r.indexOf("program")&&x.append('<li class="program"></li>');-1<r.indexOf("major")&&x.append('<li class="major"></li>');-1<r.indexOf("email")&&x.append('<li class="studentEmail"><a href="#" class="studentEmail" tabindex="-1"></a></li>');
-1<r.indexOf("telephone")&&x.append('<li class="telephone"></li>');-1<r.indexOf("address")&&x.append('<li class="address"></li>')},buildTemplate:function(){this.node=$('<div class="studentProfileCard arrow" role="dialog" aria-live="polite"></div>');var r=$('<div class="info"></div>'),x=$("<ul></ul>"),C=$('<div class="close" role="button" aria-label="'+$.i18n.prop("faculty.popup.close.button")+'" tabindex="0">x</div>'),z=$('<div id="studentDetails"></div>'),p=$('<div class="studentPhoto"><img/></div>'),
l=$('<span class="studentMessage"></span>'),t=$('<div class="confidential"></div>');r.append(x);z.append(p).append(l).append(t).append(r);this.node.append(C).append(z);this.addToTemplate&&this.addToTemplate(this.node);this.options.container.append(this.node)},attachListeners:function(){var r=this;r.node.keydown(function(x){"27"==x.keyCode&&r.node.find(".close").click()});this.node.find(".close").unbind("keydown");this.node.find(".studentEmail").unbind("keydown");this.node.find("#student-profile-button").unbind("keydown");
this.node.find(".close").on("click",function(x){x&&(x.preventDefault(),x.stopPropagation());r.hide();r.triggerNode&&$(r.triggerNode).focus()});this.node.find(".close").keydown(function(x){if(13==x.keyCode)return r.node.find(".close").click(),x.preventDefault()});this.node.on("click",function(x){if(x&&!$(x.target).hasClass("studentEmail"))return x.stopPropagation(),x.preventDefault(),!1});this.node.on("click","a",function(x){x.stopImmediatePropagation()});this.options.triggerMouseEvents&&(this.node.on("mouseenter",
function(x){r.isMouseInsidePopup=!0}),this.node.on("mouseleave",function(x){r.isMouseInsidePopup=!1;r.hide()}))},show:function(r){var x=this;x.triggerNode=r;this.position(r);this.node.show();this.overlay=r=$('<div id="studentOverlay"> </div>');this.overlay.on("click",function(C){x.hide()});r.prependTo(this.options.container);$(x.node).find(".close").focus()},hide:function(){this.node.hide();this.node.find(".info ul li").empty();this.node.find("img").empty();this.overlay=$("#studentOverlay").remove()},
position:function(r){if(this.options.useOffset){var x=$(r).offset().top+$(r).height()+5;r=$(r).offset().left-this.width/3}else x=$(r).position().top+$(r).height()+5,r=$(r).position().left-this.width/3;var C=!1;this.options.checkBoundaries?(0>x&&(50==x,C=!0),x+this.node.height()>$(document).height()&&(x=$(document).height()-this.node.height()-5,C=!0),r+this.options.container.find("> .studentProfileCard").width()>$(document).width()&&(r=$(document).width()-(this.width+5),C=!0),0>r&&(C=!0),C||this.node.addClass("arrow")):
this.node.addClass("arrow");this.node.css({top:x})},setModel:function(r){this.model=new (Backbone.Model.extend({url:r}))},retrieveData:function(r,x,C){var z=this,p=!1,l={},t=r.bannerId;this.options.bannerId=r.bannerId;$.ajax({type:"GET",url:$("#getStudentCard").attr("data-endpoint"),data:r,beforeSend:function(){z.node.find(".studentPhoto").css("visibility","hidden");z.node.find(".confidential").css("display","none");z.node.find(".info").css("display","none")},success:function(y){l=y.data;z.options.msg=
$.i18n.prop("net.hedtech.banner.student.profile.StudentContactCard.studentDisabled");z.options.config=[];z.options.data=[];z.options.isConfidential=l.contactCard.isConfidentialStudent;_.each(y.data.contactCardConfig,function(m,v){z.options.config.push(m.config);"cardEnabled"==m.config&&(z.options.msg=l.message,p=!0);"photo"==m.config&&(v=r.pictureURL?r.pictureURL:$("#getPersonImage").attr("data-endpoint"),z.options.data.photo=v+"?bannerId="+encodeURIComponent(t),z.node.find(".studentPhoto").css("visibility",
"visible"));"name"==m.config&&(z.options.data.name=l.contactCard.displayName);"major"==m.config&&"undefined"!=typeof l.contactCard.primaryMajor&&null!=l.contactCard.primaryMajor&&(z.options.data.major=$.i18n.prop("net.hedtech.banner.student.profile.StudentContactCard.major",[l.contactCard.primaryMajor]));"program"==m.config&&"undefined"!=typeof l.contactCard.primaryProgram&&null!=l.contactCard.primaryProgram&&(z.options.data.program=$.i18n.prop("net.hedtech.banner.student.profile.StudentContactCard.program",
[l.contactCard.primaryProgram]));"email"==m.config&&null!=l.contactCard.emailAddress&&(z.options.data.email=l.contactCard.emailAddress);"address"==m.config&&"undefined"!=typeof l.contactCard.address&&null!=l.contactCard.address&&(v=$.i18n.prop("contactCard.contact.address.format.template"),-1!=v.indexOf("$houseNumber")&&(v=v.replace("$houseNumber",l.contactCard.address.houseNumber?l.contactCard.address.houseNumber:"")),-1!=v.indexOf("$addressLine1")&&(v=v.replace("$addressLine1",l.contactCard.address.streetLine1?
l.contactCard.address.streetLine1:"")),-1!=v.indexOf("$addressLine2")&&(v=v.replace("$addressLine2",l.contactCard.address.streetLine2?l.contactCard.address.streetLine2:"")),-1!=v.indexOf("$addressLine3")&&(v=v.replace("$addressLine3",l.contactCard.address.streetLine3?l.contactCard.address.streetLine3:"")),-1!=v.indexOf("$addressLine4")&&(v=v.replace("$addressLine4",l.contactCard.address.streetLine4?l.contactCard.address.streetLine4:"")),-1!=v.indexOf("$addressCity")&&(v=v.replace("$addressCity",l.contactCard.address.city?
l.contactCard.address.city:"")),v=-1!=v.indexOf("$addressState")&&null!=l.contactCard.address.state?v.replace("$addressState",l.contactCard.address.state.code?l.contactCard.address.state.code:""):v.replace("$addressState",""),-1!=v.indexOf("$addressZip")&&(v=v.replace("$addressZip",l.contactCard.address.zip?l.contactCard.address.zip:"")),z.options.data.address=v);"telephone"==m.config&&"undefined"!=typeof l.contactCard.telephoneNumber&&null!=l.contactCard.telephoneNumber&&(z.options.data.telephone=
l.contactCard.telephoneNumber.displayPhone);p||(z.options.msg=$.i18n.prop("net.hedtech.banner.student.profile.StudentContactCard.disabled"))})},complete:function(){z.node.find(".confidential").css("display","block");z.node.find(".info").css("display","block");$(".studentProfileCard").loadingPopup(!1);z.buildConfigTemplate();z.update();z.position(x);z.bindToFirstElement($(".studentProfileCard"))}});C&&C()},setOptions:function(r){$.extend(!0,this.options,r||{})},bindToFirstElement:function(r){$(r).keydown(function(x){x.target===
this&&"9"==x.keyCode&&x.shiftKey&&($(".close").focus(),x.stopPropagation(),x.preventDefault?x.preventDefault():x.returnValue=!1)})}});process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("common").directive("contactCard",["$filter","$timeout",function(r,x){function C(l,t){function y(v){var D=$('<div id="student-profile-button"><button type="button" class="card-form-button-sm">'+l("i18n")("studentPages.common.contact.card.view.profile")+"</button></div>");v.find(".info").append(D)}function m(v){$("#student-profile-button").off("click").on("click",function(){var D=t.mepcode?t.mepcode:"all";D="all"===D?"":"?mepCode="+D;var P=t.studentprofileurl+"?studentId="+
v+"&term="+t.term+D;t.mepString=D;CommonContext.integratedWithExperience?(D=new URL(P),BannerExperienceIntegration.openPageInNewTab(encodeURI(D.pathname+D.search))):window.open(encodeURI(P),"_blank")})}p=new StudentCard({useOffset:!0,checkBoundaries:!0,addToTemplate:t.displayprofile?y:"",fillInAdditionalElements:t.displayprofile?m:"",triggerMouseEvents:!0})}var z=null,p;return{scope:{id:"@",value:"@",term:"@",crn:"@",displayprofile:"@",studentprofileurl:"@",mepcode:"@"},link:function(l,t,y){l.displayprofile=
l.$eval(l.displayprofile);if(l.showHyperLink=l.displayprofile)y=l.mepcode?l.mepcode:"all",l.studentUrl=l.studentprofileurl+"?studentId="+l.id+"&term="+l.term+("all"===y?"":"?mepCode="+y);C(r,l);l.mouseEnter=function(m){m.preventDefault();x.cancel(z);$("div.studentProfileCard").find(".studentPhoto img").attr("src","");$("div.studentProfileCard").find(".info ul, .studentMessage, .confidential").html("");$("div.studentProfileCard").find("#student-profile-button").hide();z=x(function(){p.show(t);var v=
{bannerId:l.id,termCode:l.term,crn:l.crn,pictureURL:$("#getStudentImage").attr("data-endpoint")};p.retrieveData(v,t);$("div.studentProfileCard").find("#student-profile-button").show()},700)};l.click=function(m){m.preventDefault();l.displayprofile&&(CommonContext.integratedWithExperience?(m=new URL(l.studentUrl),BannerExperienceIntegration.openPageInNewTab(encodeURI(m.pathname+m.search))):window.open(encodeURI(l.studentUrl),"_blank"));x.cancel(z);x(p.hide,600)}},templateUrl:"../assets/ssb/studentPagesCommon/templates/contactCard.html"}}])})();
process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("academicTranscriptApp").controller("MaintenanceController",["$rootScope","$scope","$state","$filter","$timeout","appData","transcriptPrintService",function(r,x,C,z,p,l,t){x.createSmartNavOptions=function(m){if(m.code){var v={};switch(m.code){case "studentInformation":v.code="student_info";v.description=z("i18n")("studentPages.academicTranscript.studentInformation.header");x.smartNavigationList.push(v);x.showStudentInfo=!0;l.showStudentInfo=!0;break;case "degreeGranted":v.code=
"degree_granted";v.description=x.degreeGrantedDescription;x.smartNavigationList.push(v);x.showDegreeGranted=!0;l.showDegreeGranted=!0;break;case "presystemInstitute":v.code="pre_system_institution";v.description=z("i18n")("studentPages.academicTranscript.preSystemInstitute.header");x.smartNavigationList.push(v);x.showPreSystemInstitute=!0;l.showPreSystemInstitute=!0;break;case "transferCredit":v.code="transfer_credit";v.description=z("i18n")("studentPages.academicTranscript.transferCredit.header");
x.smartNavigationList.push(v);x.showTransferCredit=!0;l.showTransferCredit=!0;break;case "institutionCredit":v.code="institution_credit";v.description=z("i18n")("studentPages.academicTranscript.institutionCredit.header");x.smartNavigationList.push(v);x.showInstitutionCredit=!0;l.showInstitutionCredit=!0;break;case "transcriptTotals":v.code="transcript_total";v.description=z("i18n")("studentPages.academicTranscript.transcriptTotal.header");x.smartNavigationList.push(v);x.showTotalTranscript=!0;l.showTotalTranscript=
!0;break;case "courseInProgress":v.code="course_in_progress",v.description=z("i18n")("studentPages.academicTranscript.courseInProgress.header"),x.smartNavigationList.push(v),x.showCourseInProgress=!0,l.showCourseInProgress=!0}}};var y="";"all"!==l.level&&(y=l.level);x.onPrintClick=function(){window.open(t.getPrintPdfUrlWithParameters({pdfType:"academicTranscript",level:y,type:l.type}))};p(function(){angular.element("#transcriptTypeSelection").find("input")[1].focus()},100);(function(){x.content={};
x.content.pageInfo=z("i18n")("studentPages.academicTranscript.page.info");x.listOfNavigationItem=l.listOfNavigationItem;x.smartNavigationList=[];x.hasError=!1;x.showStudentInfo=!1;x.showDegreeGranted=!1;x.showPreSystemInstitute=!1;x.showTransferCredit=!1;x.showInstitutionCredit=!1;x.showTotalTranscript=!1;x.showCourseInProgress=!1;l.hasError?(x.hasError=!0,x.error=l.errorList):x.hasError=!1;l.viewDegreeGrantedData&&l.viewDegreeGrantedData.curriculumInfo&&0<l.viewDegreeGrantedData.curriculumInfo.length&&
(x.degreeGrantedDescription=l.viewDegreeGrantedData.curriculumInfo[0].tabDescription);angular.element(x.listOfNavigationItem).each(function(m,v){x.createSmartNavOptions(v)})})()}])})();process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("academicTranscriptApp").controller("HomeController",["$scope","$state","$filter","$timeout","appData","studentInfo",function(r,x,C,z,p,l){r.changeTranscriptLevel=function(t){r.transitionToNextState(r.transcriptsOptions);z(function(){var y=angular.element("#transcriptLevelSelection").find("input")[1];$(y).focus()},2)};r.changeTranscriptType=function(t){r.transitionToNextState(r.transcriptsOptions)};r.transitionToNextState=function(t){t.transcriptLevel.selected&&t.transcriptType.selected&&
(p.transcriptLevel=t.transcriptLevel.selected,p.transcriptType=t.transcriptType.selected,x.go("home.maintenance",{transcriptLevel:p.transcriptLevel.code,transcriptType:p.transcriptType.code}).then(function(){z(function(){var y=angular.element("#transcriptTypeSelection").find("input")[1];$(y).focus()},2)}).catch(function(){}))};r.messageContents={};r.messageContents.dropdownPlaceholder=C("i18n")("studentPages.academicTranscript.dropdown.placeholder");r.transcriptsOptions=p.transcriptsOptions;r.studentInfo=
l}])})();process=process||{env:{NODE_ENV:"development"}};(function(){angular.module("academicTranscriptApp").controller("institutionCredit",["$scope","appData",function(r,x){r.content={};r.institutionCreditInformation=x.institutionCredit;r.isMac=-1!==window.navigator.userAgent.indexOf("Mac")}])})();process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("academicTranscriptApp").controller("transcriptTotalsController",["$scope","appData",function(r,x){r.totalTranscript=x.totalTranscript;r.isMac=-1!==window.navigator.userAgent.indexOf("Mac")}])})();process=process||{env:{NODE_ENV:"development"}};(function(){angular.module("academicTranscriptApp").controller("studentInformation",["$scope","appData",function(r,x){r.studentInformation=x.viewStudentInformationData.studentInfo;r.studentcurriculumInformation=x.viewStudentInformationData.curriculumInfo}])})();
process=process||{env:{NODE_ENV:"development"}};(function(){angular.module("academicTranscriptApp").controller("degreeGranted",["$scope","appData",function(r,x){r.isMac=-1!==window.navigator.userAgent.indexOf("Mac");r.curriculumInformation=x.viewDegreeGrantedData.curriculumInfo}])})();process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("academicTranscriptApp").controller("transferCredit",["$scope","appData","$filter",function(r,x,C){r.content={};var z={};r.texts=z;z.transferCreditHeader=C("i18n")("studentPages.academicTranscript.transferCredit.grid.header");r.transferCreditList=x.transferCreditData.transferCreditList;r.isMac=-1!==window.navigator.userAgent.indexOf("Mac")}])})();process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("academicTranscriptApp").controller("presystemInstitution",["$scope","appData","$filter",function(r,x,C){r.content={};var z={};r.texts=z;z.preSystemInstituteHeader=C("i18n")("studentPages.academicTranscript.preSystemInstitute.grid.header");r.preSystemInstituteList=x.preSystemInstituteData.presystemInstituteInfo;r.isMac=-1!==window.navigator.userAgent.indexOf("Mac")}])})();process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("academicTranscriptApp").controller("courseInProgress",["$scope","appData",function(r,x){r.content={};r.courseInProgressInformation=x.courseInProgress;r.courseInProgressIndicator=x.courseInProgressIndicator;r.isMac=-1!==window.navigator.userAgent.indexOf("Mac")}])})();process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("academicTranscriptApp").service("transcriptService",["$q","$http",function(r,x){this.getStudentInfo=function(C){return x.get("../ssb/academicTranscript/studentInfo",{params:C})};this.getAcademicTranscriptOptions=function(){return x.get("../ssb/academicTranscript/academicTranscriptOptions")};this.fetchAcademicTranscript=function(C,z){return x.get("../ssb/academicTranscript/academicTranscriptPageData",{params:{level:C,type:z}})}}]);angular.module("academicTranscriptApp").factory("appData",
function(){return{}})})();process=process||{env:{NODE_ENV:"development"}};
(function(){angular.module("academicTranscriptApp").service("transcriptPrintService",["$rootScope","$filter","$timeout","appData","$q","$compile","$templateRequest","$window",function(r,x,C,z,p,l,t,y){function m(I,S,N){t(I).then(function(L){D=angular.element(L);S(N)})}function v(I){l(D)(P,function(S){var N,L=y.open("","_blank","height="+screen.height+",width="+screen.width+", toolbar=no, menubar=yes, resizable=yes, scrollbars=yes");L.moveTo(0,0);L.document.open();C(function(){N='<html dir="'+x("i18n")("default.language.direction")+
'"><head><link rel="stylesheet" href="'+W+'" type="text/css" media="screen, print"  /><script type="text/javascript" src="../assets/ssb/academicTranscript/maintenance/js/transcript-print.js">\x3c/script></head><body>';N+="</body></html>";_.each(S,function(Z,w){Z=S.eq(w).html();N+=Z?Z:""});L.document.write(N);L.document.close();I.resolve("success")},1E3)})}var D=null,P=null,W="../assets/modules/"+("rtl"==x("i18n")("default.language.direction")?"academicTranscriptPrintRTL-mf.css":"academicTranscriptPrint-mf.css");
this.print=function(){P=r.$new();var I=p.defer();P.institutionName=z.institutionName;P.showStudentInfo=z.showStudentInfo;P.showDegreeGranted=z.showDegreeGranted;P.showPreSystemInstitute=z.showPreSystemInstitute;P.showTransferCredit=z.showTransferCredit;P.showInstitutionCredit=z.showInstitutionCredit;P.showTotalTranscript=z.showTotalTranscript;P.showCourseInProgress=z.showCourseInProgress;m("../assets/ssb/academicTranscript/maintenance/maintenance-print.html",v,I)};this.getPrintPdfUrlWithParameters=
function(I){var S="";Object.keys(I).forEach(function(N){S=0<S.length?S+"&"+N+"="+I[N]:S+N+"="+I[N]});return"academicTranscript/printPdf?"+S}}]);angular.module("academicTranscriptApp").factory("appData",function(){return{}})})();process=process||{env:{NODE_ENV:"development"}};